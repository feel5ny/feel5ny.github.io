---
title: Git Submoduleë¡œ ê³µìš©ë¡œì§ ê³µìœ í•˜ê¸°
date: '2019-01-27'
description: >-
  > ì˜ëª»ëœ ì ì´ ìˆìœ¼ë©´ ëŒ“ê¸€ ë¶€íƒë“œë¦½ë‹ˆë‹¤ :) ì„œë¡  í•œ ì–¸ì–´ë¡œ ì—¬ëŸ¬ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ë‹¤ ë³´ë©´, ê³µìš©ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ëª¨ë“ˆë“¤ì´ ìì—°ìŠ¤ëŸ½ê²Œ ìƒì„±ëœë‹¤.
  ë¹„ì¦ˆë‹ˆìŠ¤ ì½”ì–´ë¥¼ ëª¨ë“ˆí™”í•  ìˆ˜ ìˆê³ , ë˜ëŠ” ì–¸ì–´ë„ ê°™ê³ , apië¥¼ ê³µìœ í•˜ëŠ” í”„ë¡œì íŠ¸ê°€ 2ë²Œ ì´ìƒì¼ ê²½ìš° http clientë§Œ ëª¨...
author: Joy Kim
tags:
  - git
  - submodule
categories:
  - 03_DevOps
  - 02. Code
enableComment: true
thumbnail: /images/2019/04/thumb_default.jpg
---
> ì˜ëª»ëœ ì ì´ ìˆìœ¼ë©´ ëŒ“ê¸€ ë¶€íƒë“œë¦½ë‹ˆë‹¤ :)

**ì„œë¡ ** í•œ ì–¸ì–´ë¡œ ì—¬ëŸ¬ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ë‹¤ ë³´ë©´, ê³µìš©ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ëª¨ë“ˆë“¤ì´ ìì—°ìŠ¤ëŸ½ê²Œ ìƒì„±ëœë‹¤.
ë¹„ì¦ˆë‹ˆìŠ¤ ì½”ì–´ë¥¼ ëª¨ë“ˆí™”í•  ìˆ˜ ìˆê³ , ë˜ëŠ” ì–¸ì–´ë„ ê°™ê³ , apië¥¼ ê³µìœ í•˜ëŠ” í”„ë¡œì íŠ¸ê°€ 2ë²Œ ì´ìƒì¼ ê²½ìš° http
clientë§Œ ëª¨ì•„ìˆëŠ” ëª¨ë“ˆì„ ë”°ë¡œ ë¶„ë¦¬í•´ì„œ ê³µìš©í™”í•  ìˆ˜ë„ ìˆì„ ê²ƒì´ë‹¤. ì´ë ‡ê²Œ ê°™ì€ ê³µìš© ì»´í¬ë„ŒíŠ¸, ê³µìš©
ëª¨ë“ˆì„ ë§Œë“¤ì–´ì„œ ê³µìœ í•  ìˆ˜ ìˆëŠ” ì‹œìŠ¤í…œì´ êµ¬ì¶•ëœë‹¤ë©´ ê³µìš©ìœ¼ë¡œ ì‚¬ìš©í•˜ê³  ìˆëŠ” ëª¨ë“ˆì—ì„œ ì´ìŠˆê°€ ìƒê¸¸ ê²½ìš°
ì‘ì—…ì€ í•œ ë²ˆë§Œ ì´ë£¨ì–´ ì§ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ìƒì‚°ì„±ì´ ë†’ì•„ì§€ê³ , ê´€ë¦¬ê°€ ìš©ì´í•´ì§„ë‹¤. gitì˜ submoduleì„
ì‚¬ìš©í•˜ë©´ í”„ë¡œì íŠ¸ ê°„ ê³µìš© ëª¨ë“ˆì„ ê³µìœ í•  ìˆ˜ ìˆë‹¤. ì´ í¬ìŠ¤íŠ¸ì—ì„œëŠ” submoduleì— ëŒ€í•´ì„œ ê°„ë‹¨í•˜ê²Œ ë‹¤ë£°
ê²ƒì´ë‹¤. ì˜ˆì‹œëŠ” react + typeScript ê¸°ë°˜ì´ë‹¤.

<img src="/images/2019/04/03.jpg" />

---

ë¶€ëª¨ í”„ë¡œì íŠ¸ì—ì„œ ìì‹í”„ë¡œì íŠ¸ì˜ **validation class**ë¥¼ ì‚¬ìš©í•´ ë³¼ ê²ƒì´ë‹¤.


## 1. ë¶€ëª¨ í”„ë¡œì íŠ¸ ì…‹íŒ…í•˜ê¸° submodule_parentë¼ëŠ” ì´ë¦„ì˜ react+TS í”„ë¡œì íŠ¸ë¥¼ ì…‹íŒ…í•œë‹¤. ```bash npx
create-react-app submodule_parent --scripts-version=react-scripts-ts ```

App.tsxíŒŒì¼ì—ì„œ formì„ ìƒì„±í•˜ì—¬, inputì˜ ê¸€ìê°€ Email í˜•ì‹ì´ ì•„ë‹ˆë¼ë©´ fail, Email í˜•ì‹ì´ë©´ pass
ì›Œë”©ì„ ë³´ì—¬ì£¼ëŠ” UIë¥¼ ë§Œë“¤ ê²ƒì´ë‹¤.

```ts
// App.tsx
import * as React from "react";

namespace App {
  export interface IState {
    isEmail: boolean;
    text: string;
  }
}

class App extends React.Component<{}, App.IState> {
  constructor(prop: React.Component) {
    super(prop);
    this.state = {
      isEmail: false,
      text: ""
    };
  }
  // validation check
  onCheckEmail = () =>
    false ğŸ‘ˆğŸ‘ˆ
      ? this.setState({ isEmail: true })
      : this.setState({ isEmail: false });

  handleChange = (e: React.ChangeEvent<HTMLInputElement>) =>
    this.setState({ text: e.target.value });

  render() {
    return (
      <div className="App">
        <input type="text" onChange={this.handleChange} />
        <button onClick={this.onCheckEmail}>isEamil?</button>
        {this.state.isEmail ? (
          <h1 style={{ color: "green" }}>Pass</h1>
        ) : (
          <h1 style={{ color: "red" }}>Fail</h1>
        )}
      </div>
    );
  }
}

export default App;
```

email validation ë¡œì§ì€ ê³µìš© ëª¨ë“ˆë¡œ ë¶„ë¦¬í•´ë³´ì.

---


## 2. ìì‹ í”„ë¡œì íŠ¸ ì…‹íŒ…í•˜ê¸° 
ë¶€ëª¨ í”„ë¡œì íŠ¸ì—ì„œ submoduleë¡œ ì¶”ê°€í•˜ê¸° ìœ„í•´ì„œëŠ” ìì‹ í”„ë¡œì íŠ¸ë¥¼ remote repositoryì— ì˜¬ë ¤ì•¼í•œë‹¤. 
> ì˜ˆì‹œë¥¼ ìœ„í•´ submodule_childë¼ëŠ” ì´ë¦„ì„ ì‚¬ìš©í–ˆì§€ë§Œ, ì‹¤ì œ í”„ë¡œì íŠ¸ì— ë„£ì–´ì§ˆ ì´ë¦„ìœ¼ë¡œ ì§“ëŠ”ê²Œ ì¢‹ë‹¤. 
> ex. validation

```bash
mkdir submodule_child
cd submodule_child

# ìì‹ í”„ë¡œì íŠ¸
git remote add origin <repository ì£¼ì†Œ>
```

í•´ë‹¹ í´ë”ì— validation classë¥¼ ë§Œë“¤ì—ˆë‹¤. í˜„ì¬ ì˜ˆì‹œë¡œ ë“  ë¶€ëª¨ í”„ë¡œì íŠ¸ëŠ” src ì•„ë˜ì˜ tsíŒŒì¼ì„
ì»´íŒŒì¼í•˜ë„ë¡ ì„¤ì •í•´ë†“ì•˜ë‹¤. (src ë°–ì˜ tsíŒŒì¼ì€ ì»´íŒŒì¼í•˜ì§€ ëª»í•¨.) ë§Œì•½ jsíŒŒì¼ë¡œ ê³µìš© ëª¨ë“ˆì„ ë§Œë“ ë‹¤ë©´
ìƒê´€ì—†ì§€ë§Œ, tsë¡œ ë§Œë“ ë‹¤ë©´, src í•˜ìœ„ì— submoduleì„ ê´€ë¦¬í•˜ëŠ” í´ë”ë¥¼ ë‘ë„ë¡ í•´ì•¼ í•œë‹¤. (í˜¹ì€ ê²½ë¡œì—
ìƒê´€ì—†ì´ tsconfigíŒŒì¼ì—ì„œ inlcudeì— í¬í•¨í•˜ë©´ë¨)

```ts
// validation.ts
export class Validation {
  email = (email: string): boolean => {
    const regexr =
      /^[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/;
    return regexr.test(email);
  };
  phone = (phone: string): boolean => {
    const regexr = /^\d{3}-\d{3,4}-\d{4}$/;
    return regexr.test(phone);
  };
}
```

ê³µìš©ìœ¼ë¡œ ì‚¬ìš©í•  classì„ ë§Œë“¤ì—ˆê³ , push í•œë‹¤.

- í˜„ì¬ëŠ” ìì‹ë¸Œëœì¹˜ì˜ master ë¸Œëœì¹˜ì—ì„œ ì‘ì—… í›„ ì˜¬ë ¸ì§€ë§Œ, ë¶€ëª¨í”„ë¡œì íŠ¸ì—ì„œ ìì‹í”„ë¡œì íŠ¸ì˜ ì—¬ëŸ¬
  ë¸Œëœì¹˜ì— ì ‘ê·¼í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ì „ëµì ìœ¼ë¡œ ì‚¬ìš©í•´ë„ ëœë‹¤.
- ê°œì¸ì ìœ¼ë¡œëŠ” ê¼¬ì¼ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ê³µìš©ëª¨ë“ˆì€ masterë§Œ ë°›ëŠ” ì‹ìœ¼ë¡œ..í•˜ëŠ”ê²Œ ì¢‹ì§€ ì•Šì„ê¹Œ..

```bash
git commit -am "first init"
git push origin master
```

---


## 3. ë¶€ëª¨ í”„ë¡œì íŠ¸ì— ìì‹ í”„ë¡œì íŠ¸ submoduleë¡œ ì¶”ê°€í•˜ê¸° ë¶€ëª¨ í”„ë¡œì íŠ¸ì˜ ê²½ë¡œë¡œ ê°€ì„œ ì•„ë˜ì˜ ëª…ë ¹ì–´ë¡œ
submoduleì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤. - ì¶”ê°€ì‹œ ë”°ë¡œ submoduleì„ ê´€ë¦¬í•˜ëŠ” í´ë”ê°€ ìˆë‹¤ë©´ í•´ë‹¹ ê²½ë¡œë¡œ ì´ë™ í›„
addí•˜ë©´ëœë‹¤.

```bash
git submodule add <ìì‹ í”„ë¡œì íŠ¸ repository>
```

ì¶”ê°€ê°€ ë˜ë©´ ìë™ìœ¼ë¡œ `.gitmodules`íŒŒì¼ì´ ìƒì„±ë˜ê³ , í•´ë‹¹ ê²½ë¡œì— submoduleíŒŒì¼ì´ fetchëœë‹¤.

- ì˜ˆì‹œì˜ ê²½ìš° src í•˜ìœ„ì— submodule_childë¼ëŠ” ì„œë¸Œëª¨ë“ˆì„ ì¶”ê°€í•˜ì˜€ë‹¤.
- `.gitmodules` íŒŒì¼ì—ëŠ” í”„ë¡œì íŠ¸ì—ì„œ ê´€ë¦¬í•˜ê³  ìˆëŠ” ì„œë¸Œëª¨ë“ˆ ëª©ë¡ì— ëŒ€í•œ ì •ë³´ê°€ ë“¤ì–´ìˆë‹¤.
- ì´ íŒŒì¼ë„ `.gitignore` íŒŒì¼ì²˜ëŸ¼ ë²„ì „ ê´€ë¦¬ëœë‹¤.
- ì´ í”„ë¡œì íŠ¸ë¥¼ Cloneí•˜ëŠ” ì‚¬ëŒì€ .gitmodules íŒŒì¼ì„ ë³´ê³  ì–´ë–¤ ì„œë¸Œëª¨ë“ˆ í”„ë¡œì íŠ¸ê°€ ìˆëŠ”ì§€ ì•Œ ìˆ˜ ìˆë‹¤.

```.gitmodules
[submodule "src/submodule_child"]
path = src/submodule_child
url = git@github.com:feel5ny/submodule_child.git
```

ê¹ƒ í¬ë¼ì¼„ì´ë¼ëŠ” git client appì„ ì‚¬ìš©í•˜ê³  ìˆëŠ”ë°, í•´ë‹¹ ì˜µì…˜ì—ë„ ì¶”ê°€ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

<img src="/images/2019/04/01.png" />
<img src="/images/2019/04/02.png" style={{width: '250px'}} />

```ts
import * as React from "react";
import { Validation } from "./submodule_child/validation";
/********* ğŸ‘†ğŸ‘†ğŸ‘† *********/

namespace App {
  export interface IState {
    isEmail: boolean;
    text: string;
  }
}

class App extends React.Component<{}, App.IState> {
  validation: Validation;
  constructor(prop: React.Component) {
    super(prop);
    this.validation = new Validation();
    this.state = {
      isEmail: false,
      text: ""
    };
  }
  onCheckEmail = () =>
    this.validation.email(this.state.text) ğŸ‘ˆğŸ‘ˆ
      ? this.setState({ isEmail: true })
      : this.setState({ isEmail: false });

  handleChange = (e: React.ChangeEvent<HTMLInputElement>) => this.setState({ text: e.target.value });
  render() {
    return (
      <div className="App">
        <input type="text" onChange={this.handleChange} />
        <button onClick={this.onCheckEmail}>isEamil?</button>
        {this.state.isEmail ? (
          <h1 style={{ color: "green" }}>Pass</h1>
        ) : (
          <h1 style={{ color: "red" }}>Fail</h1>
        )}
      </div>
    );
  }
}

export default App;

```

---


## 4. ìì‹ í”„ë¡œì íŠ¸ ìˆ˜ì • í›„ ë¶€ëª¨ í”„ë¡œì íŠ¸ì—ì„œ updateí•˜ê¸° ê³µìš© ì»´í¬ë„ŒíŠ¸ëŠ” ìì£¼ ë°”ë€” ì¼ì„ ì—†ê² ì§€ë§Œ,
í•œë²ˆ add ëœ ì´í›„ updateê°€ ìˆì„ë©´ ê¸°ì¡´ í”„ë¡œì íŠ¸ì—ì„œ pullí•˜ëŠ” ë°©ì‹ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ updateí•˜ë©´ëœë‹¤. ëŒ€ì‹ 
pullì„ ì´ìš©í•´ ìµœì‹  ì½”ë“œë¥¼ ë°›ê¸¸ ì›í•œë‹¤ë©´ í•´ë‹¹ ê²½ë¡œë¡œ ì´ë™í•˜ì—¬ pullì„ ë°›ì•„ì•¼ í•œë‹¤. - ê³µì‹ ë¬¸ì„œì—ëŠ”
ì„œë¸Œ ëª¨ë“ˆì‚¬ìš© ì‹œ ìˆ˜ì •í•  ê²½ìš° (ë¶€ëª¨ í”„ë¡œì íŠ¸ì—ì„œ ìì‹ í”„ë¡œì íŠ¸ ìˆ˜ì •í•  ê²½ìš°) ì£¼ì˜ì‚¬í•­ì— ëŒ€í•´ ìì„¸íˆ
ì‘ì„±ë˜ì–´ìˆìœ¼ë‹ˆ ì½ì–´ë³´ê¸¸ ê¶Œí•œë‹¤. [ì„œë¸Œ ëª¨ë“ˆ ì‚¬ìš©í•  ë•Œ ì£¼ì˜í• 
ì ë“¤](https://git-scm.com/book/ko/v1/Git-%EB%8F%84%EA%B5%AC-%EC%84%9C%EB%B8%8C%EB%AA%A8%EB%93%88#%EC%84%9C%EB%B8%8C%EB%AA%A8%EB%93%88-%EC%82%AC%EC%9A%A9%ED%95%A0-%EB%95%8C-%EC%A3%BC%EC%9D%98%ED%95%A0-%EC%A0%90%EB%93%A4)

---

**ì°¸ê³ **
[.6 Git ë„êµ¬ - ì„œë¸Œëª¨ë“ˆ](https://git-scm.com/book/ko/v1/Git-%EB%8F%84%EA%B5%AC-%EC%84%9C%EB%B8%8C%EB%AA%A8%EB%93%88)

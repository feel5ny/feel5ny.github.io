---
title: 6/ OOP (ES5 ê¸°ì¤€)
date: '2018-10-20'
description: "> \U0001F4D2 ì¸ì‚¬ì´ë“œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¤‘ ë©”ëª¨í•´ì•¼í•  ë¶€ë¶„ë§Œ ì ì—ˆìŠµë‹ˆë‹¤. --- 0. í´ë˜ìŠ¤ ê¸°ë°˜ì˜ ì–¸ì–´ - í”„ë¡œí† íƒ€ì…ê¸°ë°˜ì˜ ì–¸ì–´ í´ë˜ìŠ¤ ê¸°ë°˜ì˜ ì–¸ì–´   - í´ë˜ìŠ¤ë¡œ ê°ì²´ì˜ ê¸°ë³¸ì ì¸ í˜•íƒœì™€ ê¸°ëŠ¥ì„ ì •ì˜í•˜ê³ , ìƒì„±ìë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.   - ëŸ°íƒ€ì„ì— ë°”ê¿€ ìˆ˜..."
author: Joy Kim
tags:
  - javaScript
  - OOP
  - closure
categories:
  - 01_Web
  - 03. JavaScript
enableComment: true
customList: |-
  [
    {
      "title": {
        "name": "0. ê°œìš”",
        "id": "0"
      }
    },
    {
      "title": {
        "name": "1. í´ë˜ìŠ¤, ìƒì„±ì, ë©”ì„œë“œ",
        "id": "1"
      }
    },
    {
      "title": {
        "name": "2. ìƒì†",
        "id": "2"
      },
      "depth1": [
        {
          "name": "2.1 í”„ë¡œí† íƒ€ì…ì„ ì´ìš©í•œ ìƒì†",
          "id": "2-1"
        },
        {
          "name": "2.2 í´ë˜ìŠ¤ ê¸°ë°˜ì˜ ìƒì†",
          "id": "2-2"
        }
      ]
    },
    {
      "title": {
        "name": "3. ìº¡ìŠí™” (feat. í´ë¡œì €)",
        "id": "3"
      }
    },
    {
      "title": {
        "name": "4. ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë° ì‘ìš© ì˜ˆì œ",
        "id": "4"
      }
    }
  ]
thumbnail: /images/2018/39/thumb_default.jpg
---

> ğŸ“’ ì¸ì‚¬ì´ë“œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¤‘ ë©”ëª¨í•´ì•¼í•  ë¶€ë¶„ë§Œ ì ì—ˆìŠµë‹ˆë‹¤.

---


## 0. í´ë˜ìŠ¤ ê¸°ë°˜ì˜ ì–¸ì–´ - í”„ë¡œí† íƒ€ì…ê¸°ë°˜ì˜ ì–¸ì–´ #### í´ë˜ìŠ¤ ê¸°ë°˜ì˜ ì–¸ì–´ - í´ë˜ìŠ¤ë¡œ ê°ì²´ì˜ ê¸°ë³¸ì ì¸
í˜•íƒœì™€ ê¸°ëŠ¥ì„ ì •ì˜í•˜ê³ , ìƒì„±ìë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. - ëŸ°íƒ€ì„ì— ë°”ê¿€ ìˆ˜ ì—†ë‹¤. -
ì •í™•ì„±, ì•ˆì „ì„±, ì˜ˆì¸¡ì„±ë“±ì˜ ê´€ì ì—ì„œëŠ” í”„ë¡œí† íƒ€ì…ê¸°ë°˜ì˜ ì–¸ì–´ë³´ë‹¤ ì¢€ë” ë‚˜ì€ ê²°ê³¼ë¥¼ ë³´ì¥. - JAVA, C++

#### í”„ë¡œí† íƒ€ì… ê¸°ë°˜ì˜ ì–¸ì–´

- ê°ì²´ì˜ ìë£Œêµ¬ì¡°, ë©”ì„œë“œ ë“±ì„ ë™ì ìœ¼ë¡œ ë°”ê¿€ ìˆ˜ ìˆë‹¤.
- ìë°”ìŠ¤í¬ë¦½íŠ¸

---


## 1. í´ë˜ìŠ¤, ìƒì„±ì, ë©”ì„œë“œ

```ts
function Person(arg) {
  // í´ë˜ìŠ¤ì´ì, ìƒì„±ìì˜ ì—­í• ì„ í•¨.
  this.name = arg;
  this.getName = function () {
    return this.name;
  };
  this.setName = function (value): void {
    this.name = value;
  };
}
const me = new Person('Kim');
console.log(me.getName()); // Kim
me.setName('Joy');
console.log(me.getName()); // Joy
```

```js
const you = new Person('Gray');
const him = new Person('Lee');
```

- ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©ë  ìˆ˜ ìˆëŠ” setNameê³¼ getName ë©”ì„œë“œê°€ ì¤‘ë³µìœ¼ë¡œ ë©”ëª¨ë¦¬ì— ì˜¬ë ¤ë†“ê²Œ ëœë‹¤.
- setNameê³¼ getNameì„ ì¬ì‚¬ìš©í•˜ìŸˆ!

```js
function Person(arg) {
  this.name = arg;
}

Person.prototype.getName = function () {
  return this.name;
};

Person.prototype.setName = function (value) {
  this.name = value;
};

const you = new Person('Gray');
const him = new Person('Lee');
console.log(you.getName()); // thisëŠ” ìì‹ ì„ í˜¸ì¶œí•œ ê°ì²´ì— ë°”ì¸ë”©ëœë‹¤.
console.log(him.getName()); // í”„ë¡œí† íƒ€ì… ì²´ì¸ìœ¼ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.
```

**í”„ë¡œí† íƒ€ì… ë©”ì„œë“œë¥¼ ë§Œë“œëŠ” ë£¨í‹´ì„ í•¨ìˆ˜ì²´ì¸ì˜ ë” ìƒìœ„ì¸ Function í”„ë¡œí† íƒ€ì…ì— methodë¼ëŠ” ì´ë¦„ìœ¼ë¡œ
ë§Œë“¤ì–´ë†“ê³  ì¬ì‚¬ìš©í•˜ëŠ” ë°©ë²•ë„ ìˆë‹¤.**

```js
Function.prototype.method = function(name, function) {
  if(!this.prototpye[name]) {
    this.prototype[name] = function;
  }// í”„ë¡œí† íƒ€ì…ì— ê°™ì€ ì´ë¦„ì˜ ë©”ì„œë“œê°€ ì—†ë‹¤ë©´
}

function Person(arg) {
  this.name = arg;
}
Person.method('setName', function(value){
  this.name = value;
})
Person.method('getName', function() {
  return this.name;
})

const me = new Person("me");
const you = new Person("you");
console.log(me.getName());
console.log(you.getName());
```

---

---


## 2. ìƒì† - ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” í´ë˜ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” ì „í†µì ì¸ ìƒì†ì„ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤. - ìë°”ìŠ¤í¬ë¦½íŠ¸
íŠ¹ì„± ì¤‘ **ê°ì²´ í”„ë¡œí† íƒ€ì… ì²´ì¸**ì„ ì´ìš©í•˜ì—¬ ìƒì†ì„ êµ¬í˜„í•´ë‚¼ ìˆ˜ ìˆë‹¤.

#### ìƒì† êµ¬í˜„ë°©ë²•

1. í´ë˜ìŠ¤ ê¸°ë°˜ ì „í†µì ì¸ ìƒì† ë°©ì‹ì„ í‰ë‚´ëƒ„ (ì»¨í…ìŠ¤íŠ¸ ìì²´ë¥¼ ìƒì†ë°›ìŒ)
2. í´ë˜ìŠ¤ ê°œë… ì—†ì´ ê°ì²´ì˜ í”„ë¡œí† íƒ€ì…ìœ¼ë¡œ ìƒì†ì„ êµ¬í˜„í•˜ëŠ” ë°©ì‹ => **Prototypeal inheritance**

---


### 2-1. í”„ë¡œí† íƒ€ì…ì„ ì´ìš©í•œ ìƒì†
```js
function create_object(o) {
  function F() {}
  F.prototype = o;
  return new F();
} // Object.create() í•¨ìˆ˜ë¡œ ì œê³µëœë‹¤.
```
ì¸ìë¡œ ë“¤ì–´ì˜¨ ê°ì²´(o)ë¥¼ ë¶€ëª¨ë¡œ í•˜ëŠ” 
ìì‹ ê°ì²´(F)ë¥¼ ìƒì„±í•˜ì—¬
ë°˜í™˜í•œë‹¤.
=> í”„ë¡œí† íƒ€ì…ì˜ íŠ¹ì„±ì„ í™œìš©í•˜ì—¬ ìƒì†ì„ êµ¬í˜„í•˜ëŠ”ê²ƒ = í”„ë¡œí† íƒ€ì… ê¸°ë°˜ì˜ ìƒì†

ì˜ˆì‹œ

```js
function create_object(o) {
  function F() {}
  F.prototype = o;
  return new F();
}

var person = {
  name: "Joy"
  getName: function() { // ES6ì˜ getter ê°œë…
    return this.name;
  }
  setName: function(arg){ // ES6ì˜ setter ê°œë…
    this.name = arg;
  }
}

var me = create_object(person)
me.name // Joy
me.getName() // Joy
me.setName("Kim")
me.name // Kim
me.getName() // Kim
```

- í´ë˜ìŠ¤ì— í•´ë‹¹í•˜ëŠ” ìƒì„±ì í•¨ìˆ˜ë¥¼ ë§Œë“¤ì§€ë„ ì•Šì•˜ê³ ,
- ê·¸ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë”°ë¡œ ìƒì„±í•˜ì§€ë„ ì•Šì•˜ë‹¤.
- person ê°ì²´ì™€ ì´ ê°ì²´ë¥¼ í”„ë¡œí† íƒ€ì… ì²´ì¸ìœ¼ë¡œ ì°¸ì¡°í•  ìˆ˜ ìˆëŠ” ìì‹ ê°ì²´ meë¥¼ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•¨.

```js
me.setAge = function(age) {...}
me.getAge = function() {...}
```

ìœ„ì˜ ë°©ì‹ìœ¼ë¡œ í™•ì¥í•  ìˆ˜ ìˆì§€ë§Œ, ì½”ë“œê°€ ì§€ì €ë¶„í•´ì§ˆ ìˆ˜ ìˆë‹¤.
**<span class="mint">extend()</span>**ë¼ëŠ” ì´ë¦„ì˜ í•¨ìˆ˜ë¡œ ê°ì²´ì— ìì‹ ì´ ì›í•˜ëŠ” ê°ì²´ í˜¹ì€ í•¨ìˆ˜ë¥¼
ì¶”ê°€ì‹œí‚¨ë‹¤.

\_\_jQueryì˜ extend í•¨ìˆ˜

```ts
jQuery.extend = jQuery.fn.extend = function (obj: ìì‹, prop: ë¶€ëª¨) {
  if (!prop) {
    prop = obj; // ë¶€ëª¨ê°€ ì—†ìœ¼ë©´ ìì‹ì´ ë¶€ëª¨
    obj = this; // thisë¥¼ ìì‹ì—ê²Œ í• ë‹¹
  }
  for (var i in prop) {
    // deep copy
    ob[i] = prop[i];
  }
  return obj;
};
```

- `jQuery.fn`ì€ jQueryì˜ í”„ë¡œí† íƒ€ì…
- $.extend()ë‚˜ `var elem = new jQuery(...); elem.extend()`í˜•íƒœë¡œ í˜¸ì¶œê°€ëŠ¥
- `ob[i] = prop[i];`ì€ ì–•ì€ ë³µì‚¬ (shallow copy) => ì°¸ì¡°ê°’ì„ ë³µì‚¬í•˜ëŠ” ê²½ìš° ì˜í–¥ì´ ìƒê¸´ë‹¤. ì´ë¥¼
  ë°©ì§€í•˜ê¸° ìœ„í•´ ê¹Šì€ ë³µì‚¬ë¥¼ í•´ì•¼í•¨.
- ê¹Šì€ ë³µì‚¬ë¥¼ ìœ„í•´ì„œ **ë¹ˆ ê°ì²´ë¥¼ ë§Œë“¤ì–´ì„œ extend í•¨ìˆ˜ë¥¼ ì¬ê·€ì ìœ¼ë¡œ í˜¸ì¶œ**

```js
// jQuery extend í•¨ìˆ˜ ì¤‘ ì¼ë¶€
...
for (; i < length; i++){
  if( (options = arguments[i]) != null) {
    /* ì¸ìë¡œ ë„˜ì–´ì˜¨ ê°ì²´ì˜ í”„ë¡œí¼í‹°ë¥¼ optionsë¡œ ì°¸ì¡°ì‹œí‚¤ê³ ,
      ê·¸ í”„ë¡œí¼í‹°ê°€ nullì´ ì•„ë‹Œ ê²½ìš° ë¸”ë¡ ì•ˆìœ¼ë¡œ ì§„ì…í•œë‹¤. */
    for (name in options){ // optionsë¥¼ deep ì¹´í”¼í•œë‹¤.
      src = target[name]; // srcëŠ” ë°˜í™œë  ë³µì‚¬ë³¸ targetì„ ê°€ë¦¬í‚´
      copy = options[name]; // copyëŠ” ë³µì‚¬í•  ì›ë³¸ í”„ë¡œí¼í‹°ë¥¼ ê°€ë¦¬í‚´

      if (target === copy){ // ë¬´í•œë£¨í”„ ë°©ì§€
        continue; // continueëŠ” ë£¨í”„ì˜ ì‹¤í–‰ì„ ì™„ì „íˆ ì¢…ë£Œí•˜ì§€ ì•Šê³  for ë£¨í”„ì—ì„œëŠ” ì—…ë°ì´íŠ¸ í‘œí˜„ì‹ìœ¼ë¡œ ì í”„í•¨.
      }
      if (deep && copy && (jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy))) ){
        // deep í”Œë˜ê·¸:boolean: extendì—ì„œ ì¸ìë¡œ ë°›ìŒ : ê¹Šì€ ë³µì‚¬ë¥¼ í•  ê²ƒì¸ì§€ ì„ íƒ í•  ìˆ˜ ìˆê²Œ í•œë‹¤.
        // copy: ì°¸ì¡°í˜•ì‹ì¸ ê²½ìš° (ê°ì²´ë‚˜ ë°°ì—´ì¸ ê²½ìš°) ë¬´ì¡°ê±´ deep copy ì‹œì‘
        )
        if ( copyIsArray ) {
          copyIsArray = false;
          clone = src && jQuery.isArray(src) ? src : [];
          // ë°°ì—´ ë³µì‚¬ì¼ ê²½ìš° ë¹ˆ ë°°ì—´ ìƒì„±
        } else {
          clone = src && jQuery.isPlainObject(src) ? src : {};
          // ê°ì²´ ë³µì‚¬ì¼ ê²½ìš° ë¹ˆ ê°ì²´ ìƒì„±
        }
        target[name] = jQuery.extend(deep, clone, copy); // ì¬ê·€..
      } else if (copy !== undefined) {
        target[name] = copy;
      }
    }
  }
  return target;
}
```

```js
const person = {
  name: 'joy',
  getName: function(){ return this.name; },
  setName: function(arg){this.name = arg;}
}

function create_object(o) {
  function F() {};
  F.prototype = o;
  return new F();
}

function extend(obj, prop) {
  if(!prop) {prop = obj; obj = this;}
  /* ì¸ìê°€ í•˜ë‚˜ë§Œ ë“¤ì–´ì˜¤ëŠ” ê²½ìš°,
    prop ì¸ìì— objë¥¼ í• ë‹¹í•˜ê³ ,
    í˜„ì¬ê°ì²´(this)ì— ê°ì²´ì˜ í”„ë¡œí¼í‹°ë¥¼ ë³µì‚¬í•œë‹¤.... */
  for (let i in prop) obj[i] = prop[i]; // ì–•ì€ ë³µì‚¬ì„.
  return obj;
}

const student = create_object(person);
const added = {
  setAge: function(age){ this.age = age; }
  getAge: function() {return this.age;}
}

extend(student, added); // 1
student.setAge(25);
console.log(student.getAge());
```

1. personê°ì²´ë¥¼ ê°–ê³ ìˆëŠ” í”„ë¡œí† íƒ€ì…ì„ ê°–ê³ ìˆëŠ” student ì¸ìŠ¤í„´ìŠ¤(ì»¨í…ìŠ¤íŠ¸)ê°€ addedë¥¼ ìƒì†ë°›ëŠ”ë‹¤.
   (deep copyí•¨)
2. student ì¸ìŠ¤í„´ìŠ¤ì—ëŠ” added ê°ì²´ê°€ ë³µì‚¬ëœë‹¤.

---


### 2-2. í´ë˜ìŠ¤ ê¸°ë°˜ì˜ ìƒì†
1ë²ˆì€ ê°ì²´ì˜ ìƒì†ì´ì—ˆê³ , ì§€ê¸ˆì€ í´ë˜ìŠ¤ì˜ ì—­í• ì„ í•˜ëŠ” í•¨ìˆ˜ë¥¼ ìƒì†í•˜ëŠ” ê²ƒì„ ì„¤ëª…í•œë‹¤. (ì»¨í…ìŠ¤íŠ¸ ìƒì†)
```js
function Person(arg) { this.name = arg;}
Person.prototype.setName = function(value) { this.name = value; };
Person.prototype.getName = function() { return this.name; }

function Student(arg) {}

const you = new Person('JoyKim'); Student.prototype = you;

const me = new Student('NaYoung'); me.setName('Kim'); console.log(me.getName());

````
1. youëŠ” Personì˜ ì¸ìŠ¤í„´ìŠ¤ (name: JoyKim)
2. Studentì˜ í”„ë¡œí† íƒ€ì…ì€ youë¥¼ ê°€ë¦¬í‚¨ë‹¤.
3. meëŠ” Studentì˜ ì¸ìŠ¤í„´ìŠ¤
  - Studentì—ëŠ” ì¸ìë¥¼ ë°›ì„ nameì´ ì—†ìœ¼ë¯€ë¡œ 'NaYoung'ì„ ë„£ì–´ì¤˜ë„ ì•„ë¬´ëŸ° ì ìš© ì•ˆë¨
  - ì´ë¥¼ ìœ„í•´ì„œ ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ë ë•Œ ë¶€ëª¨í•¨ìˆ˜ê°€ ë°”ë¡œ ì‹¤í–‰ë  ìˆ˜ ìˆë„ë¡ Studentì— ì‹¤í–‰ì½”ë“œë¥¼ ë„£ëŠ”ë‹¤.
    ```js
    function Student(arg){
      Person.apply(this, arg) // ë¶€ëª¨í•¨ìˆ˜ Pseronì„ ì‹¤í–‰í•˜ê³  thisëŠ” argì— ë°”ì¸ë”©!
    }
    ```
4. meê°ì²´ì—ì„œ setNameì„ í˜¸ì¶œí•˜ë©´ í”„ë¡œí† íƒ€ì…ì²´ì´ë‹ì— ì˜í•´ì„œ Personê¹Œì§€ì˜¬ë¼ê°„ë‹¤.

ì´ ë¡œì§ì˜ ë‹¨ì ì€ meì˜ prototypeì´ Student.prototypeì´ê³ , ì´ëŠ” ê³³ youë¥¼ ê°€ë¦¬í‚¨ë‹¤ëŠ” ê²ƒì¸ë°,
ì´ë ‡ê²Œ ë˜ë©´ meê°€ youì˜ ìì‹ ê°œë…ì´ ë˜ë©´ì„œ ì˜ëª»ëœ ì„¤ê³„ê°€ ëœë‹¤.

meì™€ youì˜ ë…ë¦½ì„±ì„ ìœ„í•´ì„œ ì¤‘ê°„ ì—­í• ì„ í•´ì£¼ëŠ” í”„ë¡œí† ì½œ ë¹ˆ í•¨ìˆ˜ F()ë¥¼ ì¶”ê°€í•œë‹¤.
```js
function Person(arg) { this.name = arg;}
Function.prototype.method = function(name, func) { this.prototype[name] = func };
Person.method('setName', function(value) { this.name = value; };)
Person.method('getName', function() { return this.name; })

function Student(arg) {}
function F(){};
F.prototype = Person.prototype;
Student.prototype = new F();
Student.prototype.constructor = Student;
Student.super = Person.prototype;

const me = new Student('NaYoung');
const you = new Person('YoungRan');
me.setName('Kim');
````

1. Function í”„ë¡œí† íƒ€ì…ì— í”„ë¡œí† íƒ€ì… í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì£¼ëŠ”, ì¬ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” methodë¼ëŠ” ë©”ì„œë“œë¥¼
   ì¶”ê°€í•œë‹¤. (ì•„ì˜¤ ë„¤ì´ë° ì˜ˆì‹œ í—·ê°ˆ)
2. Fì˜ í”„ë¡œí† íƒ€ì…ì„ Personì˜ í”„ë¡œí† íƒ€ì…ì„ ì°¸ì¡°í•˜ê²Œ í•¨ìœ¼ë¡œì¨ ì¤‘ê°„ì—­í• ì„ í•˜ê²Œí•¨
3. ê·¸ ì¤‘ê°„ì—­í• ì„ í•˜ëŠ” Fì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ Studentì˜ í”„ë¡œí† íƒ€ì…ì´ ì°¸ì¡°í•˜ë„ë¡ í•¨. (í˜„ì¬ Student => F =>
   Person)

- í”„ë¡œí† íƒ€ì… ì²´ì¸ì„ ìœ„í•´ì„œ Student í”„ë¡œí† íƒ€ì…ì˜ ìƒì„±ìë¥¼ Studentë¡œ í• ë‹¹.

4. Studentê°€ Person.prototypeì—ë„ ì ‘ê·¼í•˜ê¸° ìœ„í•´ì„œ superë¼ëŠ” ë©”ì„œë“œ ìƒì„±

meëŠ” Personì„ ìƒì†ë°›ì€ Studentì˜ ì¸ìŠ¤í„´ìŠ¤ì´ê³  youëŠ” Personì˜ ì¸ìŠ¤í„´ìŠ¤.

ìœ„ ë¡œì§ì„ ëª¨ë“ˆí™” ì‹œí‚¤ë©´..(by.ìŠ¤í† ì–€ ìŠ¤í…ŒíŒŒë…¸í”„[JavaScript Pattersn])

```js
const inherit = function (Parent, Child) {
  const F = function () {};
  return function (Paretn, Child) {
    F.prototype = Parent.prototype;
    Child.prototype = new F();
    Child.prototype.constructor = Child;
    Child.super = Parent.prototype;
  };
};
```

í´ë¡œì €ëŠ” F()í•¨ìˆ˜ë¥¼ ì§€ì†ì ìœ¼ë¡œ ì°¸ì¡°í•œë‹¤. F()ëŠ” ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ì˜ ëŒ€ìƒì´ ë˜ì§€ ì•Šê³  ê³„ì† ë‚¨ì•„ ìˆë‹¤. ì´ë¥¼
ì´ìš©í•´ í•¨ìˆ˜ F()ì˜ ìƒì„±ì€ ë‹¨ í•œ ë²ˆ ì´ë£¨ì–´ì§€ê³  inherití•¨ìˆ˜ê°€ ê³„ì†í•´ì„œ í˜¸ì¶œë˜ì–´ë„ í•¨ìˆ˜ F()ì˜ ìƒì„±ì„
ìƒˆë¡œ í•  í•„ìš”ê°€ ì—†ë‹¤.

---

---


## 3. ìº¡ìŠí™” (feat. í´ë¡œì €) - ì •ë³´ ê³µê°œì˜ ì—¬ë¶€. ì •ë³´ ì€ë‹‰ ê°œë… (Typescriptì—ì„œëŠ” `public`,
`private`, `protected` ë©¤ë²„ë¥¼ ì„ ì–¸í•¨ìœ¼ë¡œì¨ í•´ë‹¹ ì •ë³´ë¥¼ ì™¸ë¶€ë¡œ ë…¸ì¶œì‹œí‚¬ì§€ ì—¬ë¶€ë¥¼ ê²°ì •) - ìë°”ìŠ¤í¬ë¦½íŠ¸
es6ì—ì„œëŠ” get, set í‚¤ì›Œë“œë¡œ ì™¸ë¶€ì—ì„œ í•´ë‹¹ í´ë˜ìŠ¤ í˜¹ì€ í•¨ìˆ˜ ë‚´ë¶€ì— ì ‘ê·¼ í•  ìˆ˜ ìˆë‹¤. (getì€ readonly)

```js
const Person = function (arg) {
  let name = arg ? arg : 'joy';
  this.getName = function () {
    return name;
  };
  this.setName = function (arg) {
    name = arg;
  };
};

const me = new Person();
console.log(me.getName());
me.setName('NaYoung');
console.log(me.getName());
console.log(me.name);
```

- Personì˜ ë‚´ë¶€ public í•¨ìˆ˜ë“¤ì€
  **[í´ë¡œì €]('https://feel5ny.github.io//2017/12/07/JS_06/#closure')**ì—­í• ì„ í•˜ë©´ì„œ nameì— ì ‘ê·¼í•˜ê³ 
  ìˆë‹¤.

```js
// ëª¨ë“ˆíŒ¨í„´
const Person = function(arg){
  const name = arg? arg: 'joy';
  // nameì€ private ë©¤ë²„
  return {
    getName: function() { return name;},
    setName: fucntion(arg){ name = arg;}
  }
}
const me = Person()
console.log(me.getName())
```

- ì ‘ê·¼í•˜ëŠ” private ë©¤ë²„ê°€ **ê°ì²´ë‚˜ ë°°ì—´**ì´ë©´(ë ˆí¼ëŸ°ìŠ¤) **ì–•ì€ ë³µì‚¬ë¡œ ì°¸ì¡°ë§Œì„ ë°˜í™˜**í•˜ë¯€ë¡œ ì‚¬ìš©ìê°€
  ì´í›„ ì´ë¥¼ ì‰½ê²Œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤. (Deep copy, Shallow copy)
- ê°ì²´ë§Œì„ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì— Person í•¨ìˆ˜ì˜ í”„ë¡œí† íƒ€ì…ì— ì ‘ê·¼í•  ìˆ˜ ì—†ë‹¤.
  ```js
  const Person3 = (function (arg) {
    const name = arg ? arg : 'joy';
    var Func = function () {};
    Func.prototype = {
      getName: function () {
        return name;
      },
      setName: function (arg) {
        name = arg;
      },
    };
    return Func;
  })();
  ```

---

---


## 4. ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë° ì‘ìš© ì˜ˆì œ
> í•¨ìˆ˜ì˜ í”„ë¡œí† íƒ€ì… ì²´ì¸
> extend í•¨ìˆ˜
> ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ë•Œ ìƒì„±ì í˜¸ì¶œì„ ì´ìš©í•´ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ í´ë˜ìŠ¤ ê¸°ëŠ¥ì„ í•˜ëŠ” í•¨ìˆ˜ ë§Œë“¤ê¸°

### 4-1-1. subClass í•¨ìˆ˜ êµ¬ì¡°

subClassí•¨ìˆ˜ëŠ” ë³€ìˆ˜ ë° ë©”ì„œë“œê°€ ë‹´ê¸´ ê°ì²´ë¥¼ ì¸ìë¡œ ë°›ì€ ë¶€ëª¨ í•¨ìˆ˜ë¥¼ ìƒì†ë°›ëŠ” ìì‹ í´ë˜ìŠ¤ë¥¼ ë§Œë“ ë‹¤.

ë¶€ëª¨í•¨ìˆ˜ëŠ” subClass() í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•Œ this ê°ì²´ë¥¼ ì˜ë¯¸í•œë‹¤.

```js
const SuperClass = subClass(obj); // ìƒì†ë°›ì„ í´ë˜ìŠ¤
const SubClass = SuperClass.subClass(obj); // SubClassëŠ” SuperClassë¥¼ ìƒì†ë°›ëŠ”ë‹¤.
```

ì´ì²˜ëŸ¼ SuperClassë¥¼ ìƒì†ë°›ëŠ” subClassë¥¼ ë§Œë“¤ê³ ì í•  ë•Œ, SuperClass.subClass()ì˜ í˜•ì‹ìœ¼ë¡œ í˜¸ì¶œí•˜ê²Œ
êµ¬í˜„í•œë‹¤. ì°¸ê³ ë¡œ ìµœìƒìœ„ í´ë˜ìŠ¤ì¸ SuperClassëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ Fucntionì„ ìƒì†ë°›ê²Œ í•œë‹¤.

```js
function subClass(obj) {
  /*
    1. ìì‹ í´ë˜ìŠ¤ (í•¨ìˆ˜ê°ì²´) ìƒì„±
    2. ìƒì„±ì í˜¸ì¶œ (í´ë˜ìŠ¤ í•¨ìˆ˜ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ì„œ)
    3. í”„ë¡œí† íƒ€ì… ì²´ì¸ì„ í™œìš©í•œ ìƒì† êµ¬í˜„
    4. objë¥¼ í†µí•´ ë“¤ì–´ì˜¨ ë³€ìˆ˜ ë° ë©”ì„œë“œë¥¼ ìì‹ í´ë˜ìŠ¤ì— ì¶”ê°€
    5. ìì‹ í•¨ìˆ˜ ê°ì²´ ë°˜í™˜
  */
}
```

---

### 4-1-2. ìì‹ í´ë˜ìŠ¤ ìƒì„± ë° ìƒì†

```js
function subClass(obj) {
  ...
  const parent = this; // ë¶€ëª¨í´ë˜ìŠ¤ë¥¼ ê°€ë¦¬í‚¤ëŠ” parentëŠ” thisë¥¼ ê·¸ëŒ€ë¡œ ì°¸ì¡°
  const F = function(){}; // ì¤‘ê°„ì—­í• 
  const child = function(){}; // ìì‹ê°ì²´
  F.prototype = parent.prototype;
  child.prototype = new F(); // ë¶€ëª¨ì˜ í”„ë¡œí† íƒ€ì…ì„ ì°¸ì¡°í•˜ëŠ” í”„ë¡œí† íƒ€ì…ì„ ê°–ê³ ìˆëŠ” Fë¡œë¶€í„° ë§Œë“¤ì–´ì§„ ìƒì„±ì í•¨ìˆ˜ë¥¼ child í”„ë¡œí† íƒ€ì…ì´ ì°¸ì¡°í•˜ë„ë¡í•œë‹¤.ã…‡
  child.prototype.constructor = child;
  child.parent = parent.prototype;
  child.parent_constructor = parent;
  ...
  return child;

}
```

ìì‹ í´ë˜ìŠ¤ëŠ” child ë¼ëŠ” ì´ë¦„ì˜ í•¨ìˆ˜ ê°ì²´ë¥¼ ìƒì„±í•¨ìœ¼ë¡œì¨ ë§Œë“¤ì–´ì¡Œë‹¤.

<img src="/images/2018/39/01.jpeg" />

---

### 4-1-3. ìì‹ í´ë˜ìŠ¤ í™•ì¥

```js
for (let i in obj) {
  if (obj.hasOwnProperty(i)) {
    child.prototype[i] = obj[i];
  }
}
```

`hasOwnProperty` ì¸ìë¡œ ë„˜ê¸°ëŠ” ì´ë¦„ì— í•´ë‹¹í•˜ëŠ” í”„ë¡œí¼í‹°ê°€ ê°ì²´ ë‚´ì— ìˆëŠ”ì§€ë¥¼ íŒë‹¤.

> í”„ë¡œí† íƒ€ì… ì²´ì¸ì„ íƒ€ê³  ì˜¬ë¼ê°€ì§€ ì•Šê³  í•´ë‹¹ê°ì²´ ë‚´ì—ì„œë§Œ ì°¾ëŠ”ë‹¤ëŠ” ê²ƒì— ìœ ì˜

```js
o = new Object();
o.prop = 'exists';
o.hasOwnProperty('prop'); // true
o.hasOwnProperty('toString'); // false
o.hasOwnProperty('hasOwnProperty'); // false
```

---

### 4-1-4. ìƒì„±ì í˜¸ì¶œ

í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ë  ë•Œ, í´ë˜ìŠ¤ ë‚´ì— ì •ì˜ëœ ìƒì„±ìê°€ í˜¸ì¶œë¼ì•¼í•˜ë‹¤. ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ìƒì„±ì ì—­ì‹œ
í˜¸ì¶œë˜ì–´ì•¼í•œë‹¤. (ì´ˆê¸°í™”ë¥¼ ìœ„í•´ì„œ)

```js
const child = function () {
  if (parent.hasOwnProperty('_init')) {
    parent._init.apply(this, arguments);
  }
  if (child.prototype.hasOwnProperty('_init')) {
    child.prototype._init.apply(this, arguments);
  }
};
```

```js
const SuperClass = subClass();
const SubClass = SuperClass.subClass();
const Sub_SubClass = SubClass.subClass();

const instance = new Sub_SubClass();
```

instance ìƒì„±ì‹œ SuperClass ìƒì„±ìê°€ í˜¸ì¶œë˜ì§€ ì•ŠëŠ”ë‹¤. => ë¶€ëª¨í´ë˜ìŠ¤ì˜ ìƒì„±ìë¥¼ í˜¸ì¶œí•˜ëŠ” ì½”ë“œë¥¼
ì¬ê·€ì ìœ¼ë¡œ êµ¬í˜„í•˜ì—¬ í•´ê²°í•œë‹¤.

```js
const child = function () {
  const _parent = child.parent_constructor;
  if (_parent && _parent !== Function) {
    _parent.apply(this, arguments);
  }
  if (child.prototype.hasOwnProperty('_init')) {
    child.prototype._init.apply(this, arguments);
  }
};
```

- í˜„ì¬ í´ë˜ìŠ¤ì˜ ë¶€ëª¨ ìƒì„±ìê°€ ìˆìœ¼ë©´, ê·¸ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë‹¤. ë‹¤ë§Œ ë¶€ëª¨ê°€ Functionì´ ê²½ìš°ëŠ” ìµœìƒìœ„
  í´ë˜ìŠ¤ì— ë„ë‹¬í–ˆìœ¼ë¯€ë¡œ ì‹¤í–‰í•˜ì§€ ì•ŠëŠ”ë‹¤.

**ìµœì¢…**

```js
function subClass(obj){
  /*
    1. ìì‹ í´ë˜ìŠ¤ (í•¨ìˆ˜ê°ì²´) ìƒì„±
    2. ìƒì„±ì í˜¸ì¶œ (í´ë˜ìŠ¤ í•¨ìˆ˜ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ì„œ)
    3. í”„ë¡œí† íƒ€ì… ì²´ì¸ì„ í™œìš©í•œ ìƒì† êµ¬í˜„
    4. objë¥¼ í†µí•´ ë“¤ì–´ì˜¨ ë³€ìˆ˜ ë° ë©”ì„œë“œë¥¼ ìì‹ í´ë˜ìŠ¤ì— ì¶”ê°€
    5. ìì‹ í•¨ìˆ˜ ê°ì²´ ë°˜í™˜
  */
  const parent = this === window ? Function : this;
  const F = function(){}
  const child = function() {
    const _parent = child.parent;
    if(_parent && _parent !== Function){
      parent.apply(this, arguments);
    }
    if(child.prototype._init)){
        child.prototype._init.apply(this, arguments);
    }
  }
  F.prototype = parent.prototype;
  child.prototype = new F();
  child.prototype.constructor = child;
  child.parent = parent;
  child.subClass = arguments.callee;

  for (let i in obj){
    if (obj.hasOwnProperty(i)){
      child.prototype[i] = obj[i];
    }
  }
  return child
}
```

---

By Joy.

- ë‚´ë¶€í•¨ìˆ˜ë¥¼ ì„ ì–¸í• ë•Œì™€ thisë¡œ ë°”ì¸ë”©ëœ í•¨ìˆ˜ë¥¼ ì„ ì–¸í•˜ëŠ” ê²ƒì˜ ì°¨ì´ì ? ê¸°ì¤€?
- í”„ë¡œí† íƒ€ì… ì²´ì´ë‹ì„ ë§Œë“  ì´ìœ  ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì„ ì§€ì›í•˜ê¸° ìœ„í•´ ë¶€ëª¨ê°ì²´ë¥¼ ê°€ë¦¬í‚¤ëŠ” ì°¸ì¡°ë§í¬
  í˜•íƒœë¡œ ìˆ¨ê²¨ì§„ í”„ë¡œí¼í‹°.
- (Naming) ë³µì‚¬ì‹œ ë³µì‚¬í•  ëŒ€ìƒì„ copy, ë³µì‚¬ì˜ ê²°ê³¼ë¬¼ì„ clone
- shallow copyì™€ ë‹¤ë¥´ê²Œ deep copyëŠ” ì¬ê·€ì ìœ¼ë¡œ í˜¸ì¶œí•´ì•¼í•¨. **(ë‹¤ì‹œ ì •ë¦¬)**

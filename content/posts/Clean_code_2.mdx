---
title: "\U0001F4D3 읽기 좋은 코드가 좋은 코드다. || part2. 루프와 논리를 단순화하기"
date: '2018-08-03'
description: >-
  > [읽기 좋은 코드가 좋은 코드다.]를 보고 메모할 부분을 정리했습니다. 목차 --- 7. 읽기 쉽게
  흐름제어 만들기 ⇒ 8. 거대한 표현을 잘게 쪼개기 ⇒ 9. 변수와 가독성 ⇒ ----- 서론 좋은 코드는 무슨
  일이 일어나고 있는지를 빠르게 전달해준다.  사용하기...
author: Joy Kim
tags:
  - cleanCode
categories:
  - 00_Clean_Code
  - Refactoring
enableComment: true
thumbnail: /images/2018/20/thumb_default.jpg
---

> **[읽기 좋은 코드가 좋은 코드다.]**를 보고 메모할 부분을 정리했습니다.

## 목차

7. 읽기 쉽게 흐름제어 만들기 [⇒](#first)
8. 거대한 표현을 잘게 쪼개기 [⇒](#second)
9. 변수와 가독성 [⇒](#third)

---

**서론** 좋은 코드는 무슨 일이 일어나고 있는지를 빠르게 전달해준다. 사용하기에도 즐겁고, 자신에게도
더 좋은 코드를 만들어야 하겠다는 욕구를 불러일으키기도 한다.

---

# PART 2 ) 루프와 논리를 단순화하기

> 흐름제어 control flow 논리식 logical expression 변수 등에 대해서 알아보자.

코드가 코드를 읽는 사람에게 정신적 부담을 더 많이 부과할 수록, 버그는 좀처럼 눈에 보이지 않고, 코드
수정 작업은 더 어려워지고, 결국 그런 코드로 작업하는 일이 즐겁지 못하게 된다.

<a id="first"></a>
## 7. 읽기 쉽게 흐름제어 만들기 분기문과 점프문은 어려운 대상이며, 코드를 복잡하게 만드는 원인이다.

### **7-1. 조건문에서 인수의 순서**

`A > B`

- 왼쪽 : 값이 더 유동적인 질문을 받는 표현
- 오른쪽 : 더 고정적인 값, 비교대상으로 사용되는 표현

cf\_ 요다표기법 (옛날에 쓰던.. `NULL == obj` )

### **7-2. if/else 블록의 순서**

- 부정이 아닌 **긍정을 다루어라.** 즉 `if(!debug)`가 아니라 `if(debug)`를 선호하자.
- 간단한 것을 먼저 처리하라.
- 더 흥미롭고, 확실한 것을 먼저 다루어라.

### **7-3. (삼항 연산자로 알려진) `?:`를 이용하는 조건문 표현**

- 줄 수를 최소화하는 일보다 다른 사람이 코드를 읽고 이해하는 데 걸리는 시간을 최소화하는 일이 더
  중요하다.

### 7-4. do/while 루프를 피하라

### 7-5. 함수 중간에서 반환하기

### 7-7. 중첩을 최소화하기

루프와 조건문을 비롯한 그외 분기문을 읽기 쉽게 만드는 방법을 살펴본 것이다. 하지만 자신의 프로그램에
존재하는 '흐름'을 상위수준에서 조망해볼 필요가 있다. 프로그램의 전체 실행 경로를 쉽게 따라갈 수 있게
만드는 게 궁극의 목표다.

---

<a id="second"></a>
## 8. 거대한 표현을 잘게 쪼개기

코드의 표현이 커지면 커질수록 이해하기 더 여렵다. ⇒ 예시: 대왕오징어 식도주변의 도넛뇌

1. 설명 변수

- 커다란 표현을 쪼개는 가장 쉬운 방법은 작은 **하위표현을 담을 '추가변수**'를 만드는 것이다. (
  추가변수 == 설명변수 )

2. 요약 변수

- 의미를 쉽게 파악할 수 있어 별도의 설명을 요구하지 않는 표현이라고 해도, 새로운 변수로 담아두는
  방법은 여전히 유용할 수 있다.

3. 드모르간의 법칙 사용하기 De Morgan's Laws

- `if (!(file_exists && !is_protected))`
- `if (!file_exists && is_protected)`

4. 쇼트 서킷 논리 오용 말기

- **if ( a || b ) a가 참이면 b는 평가하지 않는다.**

5. **예; 복잡한 논리와 씨름하기**

```js
  bool Range:;OverlapsWith(Range other){
    // 'begin'dlsk 'end'가 'other'에 속하는지검사한다.
    return (begin >= other.begin && begin < other.end) ||
            (end > other.begin && end <= other.end) ||
            (begin <= other.begin && end >= other.end);
  }
```

- 더 우아하게 접근하기

```js
  bool Range:;OverlapsWith(Range other){
    if (other.end <= begin) return false; // 우리가 시작하기 전에 끝난다.
    if (other.begin >= begin) return false; // 우리가 끝난 후에 시작한다.

    return true; // 마지막 가능성만 남았다. 즉 겹친다.
  }
```

6. 거대한 구문 나누기 반복되는 부분을 ⇒ 요약변수로 추출할 때 (DRY : Don't Repeat Yourself)

- 타이핑 실수를 피할 수 있다.
- 코드를 한눈에 훓어보는게 용이하도록 코드의 길이를 조이라도 더 줄여준다.
- 클래스명을 변경해야 할 때 한 곳만 바꾸면 된다.

7. 표현을 단순화하는 다른 창의적인 방법들

---

<a id="third"></a>
## 9. 변수와 가독성 변수를 엉터리로 사용하면 코드를 이해하기가 얼마나 어려워지는지 살펴본다. -
변수의 수가 많을수록 기억하고 다루기 더 어려워진다. - 변수의 범위가 넓어질수록 기억하고 다루는
시간이 더 길어진다. - 변수 값이 자주 바뀔수록 현재 값을 기억하고 다루기가 더 어려워진다.

### 9-1. 변수 제거하기

- 불필요한 임시 변수들 이러한 변수가 구지 필요하지 않는 이유
  - 복잡한 표현을 잘게 나누지 않는다.
  - 명확성에 도움이 되지 않는다.
  - 한번만 사용되어 중복된 코드를 압축하지 않는다.
- 중간 결과 삭제하기

```js
var remove_one = function (array, value_to_remove) {
  var index_to_remove = null;
  for (var i = 0; i < array.length; i += 1) {
    if (array[i] === value_to_remove) {
      index_to_remove = i;
      break;
    }
  }
  if (index_to_remove !== null) {
    array.splice(index_to_remove, 1);
  }
};

/** 위의 방법보다는 아래방법 **/

var remove_one = function (array, value_to_remove) {
  var index_to_remove = null;
  for (var i = 0; i < array.length; i += 1) {
    if (array[i] === value_to_remove) {
      array.splice(i, 1);
      return;
    }
  }
};
```

### 9-2. 흐름 제어 변수 제거하기

- 흐름제어 변수? : 프로그램의 실행과 관련된 방향을 설정하는 데 있다.

### 9-3. 변수의 범위를 좁혀라

- '전역변수를 피하라'는 조언을 한번쯤 들었을 것이다.
  - 전역 변수는 어디에서 어떻게 사용되는지 일일이 확인하기 어려우므로 이는 합당한 조언이다.
  - 또한, 전역 변수의 이름과 지역 변수의 이름이 중복되어 이름공간이 더러워질 수도 있고, 어떤 코드가
    지역 변수를 변경할 때 실수로 전역 변수를 변경하거나 혹은 그 반대의 경우가 일어날 수 있으므로
    타당하다.
- 사실 전역 변수 뿐만 아니라 **모든 변수의 범위를 좁히는 일은 언제나 좋다.**
- 많은 프로그래밍 언어는 모듈, 클래스, 함수, 블록 범위 같은 다양한 범위/접근 수준을 제공한다.
- **자바스크립트에서 프라이빗 변수 만들기**

```js
  submitted = false;
  var submit_form = function(form_name){
    if(submitted){
      return; // 폼을 두 번 제출하지 말라.
    }
    ...
    submitted = true;
  }
```

`submit_form()`만이 전역변수 submitted를 사용하는 유일한 함수처럼 보이지만, 확실히 알 수 없다. ⇒
다른 자바스크립트 파일에서 이와는 다른 목적으로 submitted라는 이름이 붙은 전역 변수를 사용할 지도
모르는 일이다! ⇒ submitted 변수를 **[클로저](https://feel5ny.github.io/2017/12/07/JS_06/) 내부에
집어 넣어서 이런 문제를 해결한다.**
`js         var submit_form = (function(){         	var submitted = false;         	return function(form_name){         		if(submitted){         			return; // 폼을 두 번 제출하지 말라.         		}         		...         		submitted = true;         	}         }());     `
⇒ 프라이빗한 범위를 만드는 효과를 갖는다.

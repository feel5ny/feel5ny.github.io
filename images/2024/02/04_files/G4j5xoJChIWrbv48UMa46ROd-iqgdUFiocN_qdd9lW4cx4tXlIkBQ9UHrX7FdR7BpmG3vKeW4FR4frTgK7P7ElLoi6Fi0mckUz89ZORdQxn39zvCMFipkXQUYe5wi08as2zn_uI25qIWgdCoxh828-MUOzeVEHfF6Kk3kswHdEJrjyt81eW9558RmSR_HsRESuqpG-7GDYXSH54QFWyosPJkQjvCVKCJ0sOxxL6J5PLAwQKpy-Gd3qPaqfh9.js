;/*FB_PKG_DELIM*/

__d("ArmadilloCutoverClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("699");b=d("FalcoLoggerInternal").create("armadillo_cutover_client",a);e=b;g["default"]=e}),98);
__d("EncryptedBackupTaskIssuedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5726");b=d("FalcoLoggerInternal").create("encrypted_backup_task_issued",a);e=b;g["default"]=e}),98);
__d("EncryptedBackupdDYIFileSaver",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("file-saver").__setRef("EncryptedBackupdDYIFileSaver");function a(a,b){h.onReadyImmediately(function(c){c=c.saveAs;c(b,a)})}g.saveFile=a}),98);
__d("IGDWEBUploadMessageUtils",["I64","MAWExtractMsFromExternalId","WALogger","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[sortOrder] Could not extract ms from externalId: ",""]);i=function(){return a};return a}function a(a,b){var c=d("MAWExtractMsFromExternalId").extractMsFromExternalId((h||(h=d("I64"))).of_string(a));c==null&&d("WALogger").WARN(i(),a);return d("WATimeUtils").castToMillisTime(Number(b)*1e3+((a=c)!=null?a:0))}g.generateProtobufServerTs=a}),98);
__d("LSWriteSupplementalMessage",["LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][writeSupplementalMessage] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.filter(c.db.table(302).fetch(),function(b){return b.threadId===a[1]&&b.toplevelOfflineThreadingId===a[2]&&b.supplementalKey===a[3]}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=void 0:(b=a.item,d[2]=b.messageTimestampMs)})},function(b){return c.i64.neq(d[2],void 0)?c.sequence([function(b){return c.i64.gt(d[2],a[5])?c.resolve(d[11]=!1):c.sequence([function(b){return c.forEach(c.filter(c.db.table(302).fetch(),function(b){return b.threadId===a[1]&&b.toplevelOfflineThreadingId===a[2]&&b.supplementalKey===a[3]}),function(a){return a["delete"]()})},function(b){return c.db.table(302).add({pk:void 0,messagePayload:a[0],threadId:a[1],toplevelOfflineThreadingId:a[2],supplementalKey:a[3],offlineThreadingId:a[4],messageTimestampMs:a[5]})},function(a){return d[11]=!0}])},function(a){return d[4]=d[11]}]):c.sequence([function(b){return c.forEach(c.filter(c.db.table(302).fetch(),function(b){return b.threadId===a[1]&&b.toplevelOfflineThreadingId===a[2]&&b.supplementalKey===a[3]}),function(a){return a["delete"]()})},function(b){return c.db.table(302).add({pk:void 0,messagePayload:a[0],threadId:a[1],toplevelOfflineThreadingId:a[2],supplementalKey:a[3],offlineThreadingId:a[4],messageTimestampMs:a[5]})},function(a){return d[4]=!0}])},function(a){return d[5]=c.i64.of_float(Date.now()),d[6]=c.i64.random(),d[8]="Finishing execution. Execution time: ",d[9]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=" ms",d[7]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][writeSupplementalMessage] ",d[7],d[8],d[7],d[9],d[7],d[10]].join("")),c.i64.eq(c.i64.mod_(d[6],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[11]=",",d[12]=c.createArray(),void 0!==void 0?d[13]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"writeSupplementalMessage",[d[8],d[11],d[9],d[11],d[10]].join(""),d[12],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=d[4]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMPSWriteSupplementalMessageStoredProcedure";a.__tables__=["local_message_persistence_store_supplemental"];e.exports=a}),null);
__d("LSWriteSupplementalMessageStoredProcedure",["LSSynchronousPromise","LSWriteSupplementalMessage","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSWriteSupplementalMessage"),e.messagePayload,e.threadId,e.toplevelOfflineThreadingId,e.supplementalKey,e.offlineThreadingId,e.messageTimestampMs);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSWriteTopLevelMessage",["LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][writeTopLevelMessage] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=void 0:(b=a.item,d[2]=b.messageTimestampMs)})},function(b){return c.i64.neq(d[2],void 0)?c.sequence([function(b){return c.i64.gt(d[2],a[3])?c.resolve(d[11]=!1):c.sequence([function(b){return c.filter(c.db.table(303).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}).next().then(function(a,b){b=a.done;a=a.value;return b?d[12]=!1:(a.item,d[12]=!0)})},function(b){return d[12]?c.sequence([function(b){return c.forEach(c.filter(c.db.table(303).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}),function(b){var c=b.update;b.item;return c({deletedMessagePayload:a[0],isLocalOnlyMessage:a[4],messageTimestampMs:a[3]})})},function(b){return c.forEach(c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]&&c.i64.eq(b.messageTimestampMs,c.i64.cast([-1,4294967295]))}),function(b){var c=b.update;b.item;return c({messageTimestampMs:a[3]})})},function(a){return d[14]=!1}]):c.sequence([function(b){return c.forEach(c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}),function(a){return a["delete"]()})},function(b){return c.db.table(301).add({pk:void 0,messagePayload:a[0],threadId:a[1],offlineThreadingId:a[2],messageTimestampMs:a[3],isLocalOnlyMessage:a[4],extraData:a[5]})},function(a){return d[14]=!0}])},function(a){return d[11]=d[14]}])},function(a){return d[4]=d[11]}]):c.sequence([function(b){return c.filter(c.db.table(303).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}).next().then(function(a,b){b=a.done;a=a.value;return b?d[11]=!1:(a.item,d[11]=!0)})},function(b){return d[11]?c.sequence([function(b){return c.forEach(c.filter(c.db.table(303).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}),function(b){var c=b.update;b.item;return c({deletedMessagePayload:a[0],isLocalOnlyMessage:a[4],messageTimestampMs:a[3]})})},function(b){return c.forEach(c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]&&c.i64.eq(b.messageTimestampMs,c.i64.cast([-1,4294967295]))}),function(b){var c=b.update;b.item;return c({messageTimestampMs:a[3]})})},function(a){return d[13]=!1}]):c.sequence([function(b){return c.forEach(c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}),function(a){return a["delete"]()})},function(b){return c.db.table(301).add({pk:void 0,messagePayload:a[0],threadId:a[1],offlineThreadingId:a[2],messageTimestampMs:a[3],isLocalOnlyMessage:a[4],extraData:a[5]})},function(a){return d[13]=!0}])},function(a){return d[4]=d[13]}])},function(a){return d[5]=c.i64.of_float(Date.now()),d[6]=c.i64.random(),d[8]="Finishing execution. Execution time: ",d[9]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=" ms",d[7]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][writeTopLevelMessage] ",d[7],d[8],d[7],d[9],d[7],d[10]].join("")),c.i64.eq(c.i64.mod_(d[6],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[11]=",",d[12]=c.createArray(),void 0!==void 0?d[13]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"writeTopLevelMessage",[d[8],d[11],d[9],d[11],d[10]].join(""),d[12],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=d[4]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMPSWriteTopLevelMessageStoredProcedure";a.__tables__=["local_message_persistence_store","local_message_persistence_store_deleted_messages"];e.exports=a}),null);
__d("LSWriteTopLevelMessageStoredProcedure",["LSSynchronousPromise","LSWriteTopLevelMessage","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSWriteTopLevelMessage"),e.messagePayload,e.threadId,e.offlineThreadingId,e.messageTimestampMs,e.isLocalOnlyMessage,e.extraData);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MessageBackupTagsDelimiter",[],(function(a,b,c,d,e,f){"use strict";a=":";f.INSTAMADILLO_TAG_DELIMITER=a}),66);
__d("EncryptedBackupsWriteToMPSTables",["EncryptedBackupsUploadEntity","FBLogger","I64","IGDWEBUploadMessageUtils","LSFactory","LSWriteSupplementalMessageStoredProcedure","LSWriteTopLevelMessageStoredProcedure","MessageBackupTagsDelimiter","Promise","asyncToGeneratorRuntime","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("ReverbWriteFailureFalcoEvent").__setRef("EncryptedBackupsWriteToMPSTables"),k=c("requireDeferred")("ReverbWriteSuccessFalcoEvent").__setRef("EncryptedBackupsWriteToMPSTables");function l(a,b,d,e,f,g){if(!f)return;e?c("promiseDone")(k.load(),function(c){return c.log(function(){return{backup_action:d,backup_protocol:"open_eb_ttlc",message_id:a,thread_id:b}})}):c("promiseDone")(j.load(),function(c){return c.log(function(){return{backup_action:d,backup_protocol:"open_eb_ttlc",failure_reason:g,message_id:a,thread_id:b}})})}function a(a,b,c,d){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){var j=e.backupActionType,k=e.instamadilloItemId,m=e.msgId,n=e.originalMsgProtocolId,o=e.protobuf,p=e.serverTs,q=e.sortOrderMs;e=e.supplementalKey;m=m.externalId;n=n==null?void 0:n.externalId;k=(k=k)!=null?k:q;if(k==null)return(i||(i=b("Promise"))).reject(!1);q=(h||(h=d("I64"))).of_float(k);k=!1;switch(j){case 1:try{j=(yield c("LSWriteTopLevelMessageStoredProcedure")(c("LSFactory")(a),{isLocalOnlyMessage:!1,messagePayload:d("EncryptedBackupsUploadEntity").getEbBackupMessageBytesBuffer(o),messageTimestampMs:q,offlineThreadingId:m,threadId:f}));j=j[0];j&&(k=!0);l(m,f,"upsert_top_level",j,g)}catch(a){l(m,f,"upsert_top_level",!1,g,a)}break;case 2:if(n==null||e==null)l(m,f,"upsert_supplemental",!1,g),c("FBLogger")("labyrinth_web").warn("Missing toplevelOfflineThreadingId or supplementalKey when writing to MPS tables");else try{j=(yield c("LSWriteSupplementalMessageStoredProcedure")(c("LSFactory")(a),{messagePayload:d("EncryptedBackupsUploadEntity").getEbBackupMessageBytesBuffer(o),messageTimestampMs:q,offlineThreadingId:m,supplementalKey:e,threadId:f,toplevelOfflineThreadingId:n}));q=j[0];q&&(k=!0);l(n,f,"upsert_supplemental",q,g)}catch(a){l(n,f,"upsert_supplemental",!1,g,a)}break;case 4:if(n==null)break;e=(yield c("LSWriteTopLevelMessageStoredProcedure")(c("LSFactory")(a),{isLocalOnlyMessage:!1,messagePayload:d("EncryptedBackupsUploadEntity").getEbBackupMessageBytesBuffer(o),messageTimestampMs:(h||(h=d("I64"))).of_float(d("IGDWEBUploadMessageUtils").generateProtobufServerTs(n,p)),offlineThreadingId:m,threadId:f}));j=e[0];j&&(k=!0);l(n,f,"delete_top_level",!1,g);break;case 3:k=!0;n!=null&&l(n,f,"delete_top_level",!1,g);break;default:c("FBLogger")("labyrinth_web").warn("Unsupported backupActionType when writing to MPS tables")}if(k)return(i||(i=b("Promise"))).resolve(k);else return(i||(i=b("Promise"))).reject(!1)});return m.apply(this,arguments)}function e(a,e,f){var g=e.msgId,j=e.sortOrderMs;e=e.tags;e!=null&&e.length!==0&&j!=null&&c("promiseDone")(a.local_message_persistence_store_tag_index.put({localMessagePersistenceStoreKey:(h||(h=d("I64"))).of_string(g.externalId),messageTimestampMs:h.of_float(j),offlineThreadingId:g.externalId,tag:e.join(d("MessageBackupTagsDelimiter").INSTAMADILLO_TAG_DELIMITER),threadId:f}));return(i||(i=b("Promise"))).resolve()}g.writeToMPSTables=a;g.writeTagsToMPSTables=e}),98);
__d("PolarisDirectGQLAPICDNRestorationQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7292437454196351"}),null);
__d("PolarisDirectGQLAPICDNRestorationQuery.graphql",["PolarisDirectGQLAPICDNRestorationQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"payload"}],c=[{alias:null,args:[{kind:"Variable",name:"payload",variableName:"payload"}],concreteType:"XIGIGDirectInstamadilloRestoreCDNUrlResponse",kind:"LinkedField",name:"xig_fetch_ig_direct_restore_cdn_url",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"restoration_cdn_url",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PolarisDirectGQLAPICDNRestorationQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PolarisDirectGQLAPICDNRestorationQuery",selections:c},params:{id:b("PolarisDirectGQLAPICDNRestorationQuery_instagramRelayOperation"),metadata:{},name:"PolarisDirectGQLAPICDNRestorationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PolarisDirectGQLAPIEBUploadMessagesMutation_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8403045806376715"}),null);
__d("PolarisDirectGQLAPIEBUploadMessagesMutation.graphql",["PolarisDirectGQLAPIEBUploadMessagesMutation_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"XIGTIGUploadMessageHandlerResponse",kind:"LinkedField",name:"xig_ig_open_upload_msg_to_backup",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_success",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"delete_mailbox",storageKey:null},{alias:null,args:null,concreteType:"XIGTIGProtobufParams",kind:"LinkedField",name:"protobuf_params",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"delete_on_success",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"rtu_protocol",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PolarisDirectGQLAPIEBUploadMessagesMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PolarisDirectGQLAPIEBUploadMessagesMutation",selections:c},params:{id:b("PolarisDirectGQLAPIEBUploadMessagesMutation_instagramRelayOperation"),metadata:{},name:"PolarisDirectGQLAPIEBUploadMessagesMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("PolarisDirectGQLAPI",["CometRelay","CurrentUser","PolarisDirectGQLAPICDNRestorationQuery.graphql","PolarisDirectGQLAPIEBUploadMessagesMutation.graphql","PolarisRelayEnvironment","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,c){return new(j||(j=b("Promise")))(function(e,f){var g=function(a){f(a)},i=d("CurrentUser").getAppID(),j;i!=null&&(j=Number(i));d("CometRelay").commitMutation(a,{mutation:h!==void 0?h:h=b("PolarisDirectGQLAPIEBUploadMessagesMutation.graphql"),onCompleted:e,onError:g,variables:{input:{app_id:j,payload:{msg_payloads:c}}}})})}function e(a){return d("CometRelay").fetchQuery(c("PolarisRelayEnvironment"),i!==void 0?i:i=b("PolarisDirectGQLAPICDNRestorationQuery.graphql"),{payload:a}).toPromise().then(function(a){return(a=a==null?void 0:(a=a.xig_fetch_ig_direct_restore_cdn_url)==null?void 0:a.restoration_cdn_url)!=null?a:""})}g.ebUploadMessages=a;g.fetchCDNUrlWithRestoration=e}),98);
__d("IGDBridgeResignCdnUrlHandler",["MAWBridgeSendAndReceive","PolarisDirectGQLAPI","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("PolarisDirectGQLAPI").fetchCDNUrlWithRestoration(a));yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","continueMediaDownload",{cdnUrl:a,deliveryObjectId:b})});return h.apply(this,arguments)}g.call=a}),98);
__d("LSEncryptedBackupsAttachmentErrorCode",[],(function(a,b,c,d,e,f){a=Object.freeze({NO_ERROR:0,UNKNOWN_ERROR:1,MEDIA_TYPE_MISSING:2,PRODUCT_TYPE_MISSING:3,SERIALIZATION_ERROR:21});f["default"]=a}),66);
__d("LSSerializeAttachmentBackupPayload",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSBase64Encode.nop","LSFlushDataTrace.nop","LSGetBlobFromString.nop","LSHmac_v2.nop","LSIsEncryptionVersionSecure","LSIsMobileClient","LSLogMebClientEvent.nop","LSOcmfClientMap.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][serializeAttachmentBackupPayload] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[2]=c.i64.of_int32(a[0].length),c.i64.gt(d[2],c.i64.cast([0,0]))?c.loopAsync(d[2],function(e){return d[12]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[0],d[12]).then(function(a){return a=a,d[13]=a[0],d[14]=a[1],a})},function(a){return d[15]=d[13].get("attachment_trace_id"),d[16]=d[15],c.sequence([function(a){return d[16]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),d[16],c.i64.cast([0,1873]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[17]?d[18]=!0:d[18]=!1,d[18]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[19]=c.createArray(),void 0!==void 0?d[20]=(d[19].push(void 0),d[19]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[19],c.i64.cast([0,3]))):c.resolve()}])},function(a){return c.sequence([function(a){return c.sequence([function(a){return d[16]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),d[16],c.i64.cast([0,84]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[19]?d[20]=!0:d[20]=!1,d[20]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[21]=c.createArray(),void 0!==void 0?d[22]=(d[21].push(void 0),d[21]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[21],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[16]!==void 0?c.nativeOperation(b("LSFlushDataTrace.nop"),d[16]):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[17]?d[18]=!0:d[18]=!1,d[18]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[19]=c.createArray(),void 0!==void 0?d[20]=(d[19].push(void 0),d[19]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[19],c.i64.cast([0,3]))):c.resolve()}])}])}):c.resolve()},function(e){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var g=e.done;e=e.value;return g?(d[12]=new c.Map(),d[12].set("error_code",c.i64.cast([0,1])),d[12].set("stored_procedure","LSEncryptedBackupsSerializeAttachmentBackupPayloadStoredProcedure"),d[12].set("error_message",""),g=[void 0,d[12]],d[3]=g[0],d[4]=g[1],g):(f=e.item,c.sequence([function(a){return d[20]=f.ocmfClientStateBlob,d[19]=f.backupTenancy,d[18]=f.encryptionVersion,d[12]=void 0,c.i64.neq(d[12],void 0)?c.resolve(d[13]=d[12]):c.sequence([function(a){return d[21]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[22]=a[0],a})},function(a){return d[22]?d[31]=(d[21].push(c.i64.cast([0,0])),d[21]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[23]=a[0],a})},function(a){return d[23]?d[31]=(d[21].push(c.i64.cast([0,2])),d[21]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[24]=a[0],a})},function(a){return d[24]?d[31]=(d[21].push(c.i64.cast([0,3])),d[21]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[25]=a[0],a})},function(a){return d[25]?d[31]=(d[21].push(c.i64.cast([0,4])),d[21]):0,d[26]=c.createArray(),d[27]=c.i64.of_int32(d[21].length),c.i64.gt(d[27],c.i64.cast([0,0]))?c.loopAsync(d[27],function(a){return d[31]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[21],d[31]).then(function(a){return a=a,d[32]=a[0],d[33]=a[1],a})},function(a){return d[34]=(d[26].push(d[32]),d[26])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[31]=c.createArray(),d[32]=c.i64.of_int32(d[26].length),c.i64.gt(d[32],c.i64.cast([0,0]))?c.loopAsync(d[32],function(a){return d[34]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[26],d[34]).then(function(a){return a=a,d[35]=a[0],d[36]=a[1],a})},function(a){return d[37]=(d[31].push(c.i64.to_string(d[35])),d[31])}])}):c.resolve()},function(a){return d[33]=d[31].join(","),d[28]=d[33]}])},function(a){return d[26].some(function(a){return c.i64.eq(d[18],a)})?d[29]=d[18]:d[29]=void 0,c.i64.neq(d[29],void 0)?d[30]=d[29]:d[30]=void 0,d[13]=d[30]}])},function(e){return c.i64.neq(d[13],void 0)?d[14]=d[13]:d[14]=c.i64.cast([0,0]),c.i64.neq(d[19],void 0)?d[15]=d[19]:d[15]=c.i64.cast([0,1]),c.i64.neq(f.deviceId,void 0)?c.sequence([function(e){return c.i64.eq(a[4],c.i64.cast([0,0]))?c.sequence([function(e){return d[23]=c.createArray(),d[24]=c.i64.of_int32(a[0].length),c.i64.gt(d[24],c.i64.cast([0,0]))?c.loopAsync(d[24],function(e){return d[40]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[0],d[40]).then(function(a){return a=a,d[41]=a[0],d[42]=a[1],a})},function(e){return d[43]=d[41].get("media_type"),d[44]=d[41].get("zippy_object_id"),d[63]=d[44],d[45]=d[41].get("attachment_trace_id"),d[46]=c.createArray(),d[64]=(d[46].push(c.i64.to_string(f.backupId)),d[46]),d[64]=(d[46].push(d[63]),d[46]),d[47]=c.toJSON(d[46]),d[48]=c.createArray(),d[64]=(d[48].push(a[1]),d[48]),d[64]=(d[48].push(d[63]),d[48]),d[49]=c.toJSON(d[48]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[47]).then(function(a){return a=a,d[50]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2NvcGU="),d[50]).then(function(a){return a=a,d[51]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[20],d[51]).then(function(a){return a=a,d[52]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[52]).then(function(a){return a=a,d[53]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[49]).then(function(a){return a=a,d[54]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[54]).then(function(a){return a=a,d[55]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[20],d[55]).then(function(a){return a=a,d[56]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[56]).then(function(a){return a=a,d[57]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[47]).then(function(a){return a=a,d[58]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2FsdF9zY29wZQ=="),d[58]).then(function(a){return a=a,d[59]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[20],d[59]).then(function(a){return a=a,d[60]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[60]).then(function(a){return a=a,d[61]=a[0],a})},function(a){return d[62]=new c.Map(),d[62].set("attachment_index_key",d[53]==null?"":d[53]),d[62].set("media_type",d[43]),d[62].set("zippy_object_id",d[63]),d[62].set("attachment_trace_id",d[45]),d[62].set("salt_partial_access_token",d[57]==null?"":d[57]),d[62].set("salt_partial_attachment_index_key",d[61]==null?"":d[61]),d[64]=(d[23].push(d[62]),d[23])}])}):c.resolve()},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[1]).then(function(a){return a=a,d[25]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWVzc2FnZV9pZF9zY29wZQ=="),d[25]).then(function(a){return a=a,d[26]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[20],d[26]).then(function(a){return a=a,d[27]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[27]).then(function(a){return a=a,d[28]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[1]).then(function(a){return a=a,d[29]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[29]).then(function(a){return a=a,d[30]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[20],d[30]).then(function(a){return a=a,d[31]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[31]).then(function(a){return a=a,d[32]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[2]).then(function(a){return a=a,d[33]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("dGhyZWFkX2lkX3Njb3Bl"),d[33]).then(function(a){return a=a,d[34]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[20],d[34]).then(function(a){return a=a,d[35]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[35]).then(function(a){return a=a,d[36]=a[0],a})},function(b){return d[37]=new c.Map(),d[37].set("attachment_infos",d[23]),d[37].set("message_partial_id",d[28]==null?"":d[28]),d[37].set("product_type",a[3]),d[37].set("salt_partial_id",d[32]==null?"":d[32]),d[37].set("thread_partial_id",d[36]==null?"":d[36]),d[38]=c.toJSON(d[37]),d[39]=new c.Map(),d[39].set("payload",d[38]),b=[d[39],void 0],d[21]=b[0],d[22]=b[1],b}]):c.resolve((a[5]!==void 0?d[23]=a[5]:d[23]="",d[24]=new c.Map(),d[24].set("error_code",c.i64.cast([-1,4294967295])),d[24].set("stored_procedure","LSEncryptedBackupsSerializeAttachmentBackupPayloadStoredProcedure"),d[24].set("error_message",d[23]),e=[void 0,d[24]],d[21]=e[0],d[22]=e[1],e))},function(a){return a=[d[21],d[22]],d[16]=a[0],d[17]=a[1],a}]):c.resolve((d[21]=new c.Map(),d[21].set("error_code",c.i64.cast([0,24])),d[21].set("stored_procedure","LSEncryptedBackupsSerializeAttachmentBackupPayloadStoredProcedure"),d[21].set("error_message",""),e=[void 0,d[21]],d[16]=e[0],d[17]=e[1],e))},function(a){return a=[d[16],d[17]],d[3]=a[0],d[4]=a[1],a}]))})},function(a){return d[6]=c.i64.of_float(Date.now()),d[7]=c.i64.random(),d[9]="Finishing execution. Execution time: ",d[10]=c.i64.to_string(c.i64.sub(d[6],d[0])),d[11]=" ms",d[8]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][serializeAttachmentBackupPayload] ",d[8],d[9],d[8],d[10],d[8],d[11]].join("")),c.i64.eq(c.i64.mod_(d[7],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[12]=",",d[13]=c.createArray(),void 0!==void 0?d[14]=(d[13].push(void 0),d[13]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"serializeAttachmentBackupPayload",[d[9],d[12],d[10],d[12],d[11]].join(""),d[13],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[3],d[4]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsSerializeAttachmentBackupPayloadStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state"];e.exports=a}),null);
__d("LSWriteToPendingProtobufBackupsContextV2",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(305).add({pk:void 0,pendingBackupTaskId:a[0],actThreadId:a[1],toplevelOfflineThreadingId:a[2],messageTimestampMs:a[4],backupAction:a[5],supplementalKey:a[3],attachmentPayload:a[6],senderId:a[7]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSEncryptedBackupsWriteToPendingProtobufBackupsContextV2StoredProcedure";a.__tables__=["pending_protobuf_backups_context"];e.exports=a}),null);
__d("LSIssueMessageBackup",["LSArrayGetObjectAt","LSIsEncryptionVersionSecure","LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop","LSSerializeAttachmentBackupPayload","LSWriteToPendingProtobufBackupsContextV2","qex"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1],e=[],f=[];return d.sequence([function(g){return d.sequence([function(f){return e[0]=d.i64.of_float(Date.now()),function(a){d.logger(a).info(a)}("[EncryptedBackups][issueMessageBackup] Beginning execution."),e[1]=d.i64.of_float(Date.now()),d.islc(d.filter(d.db.table(168).fetch(),function(a){return d.i64.eq(a.authorityLevel,d.i64.cast([0,80]))||!1}),0,d.i64.to_float(d.i64.cast([0,1]))).next().then(function(f,g){var h=f.done;f=f.value;return h?d.sequence([function(b){return e[11]=d.createArray(),e[14]=(e[11].push("Skipping the message upload since EB is disabled. act thread id = "),e[11]),e[14]=(e[11].push(a[0]),e[11]),e[14]=(e[11].push(", otid = "),e[11]),e[14]=(e[11].push(a[1]),e[11]),e[12]=e[11].join(void 0||""),function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",e[12]].join("")),d.resolve()},function(a){return e[13]=new d.Map(),e[13].set("error_code",d.i64.cast([0,1])),e[13].set("stored_procedure","LSEncryptedBackupsIssueMessageBackupStoredProcedure"),e[13].set("error_message",""),a=[void 0,e[13]],e[2]=a[0],e[3]=a[1],a}]):(g=f.item,d.sequence([function(a){return e[18]=g.backupTenancy,e[17]=g.encryptionVersion,e[11]=void 0,d.i64.neq(e[11],void 0)?d.resolve(e[12]=e[11]):d.sequence([function(a){return e[19]=d.createArray(),d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,0])).then(function(a){return a=a,e[20]=a[0],a})},function(a){return e[20]?e[29]=(e[19].push(d.i64.cast([0,0])),e[19]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,2])).then(function(a){return a=a,e[21]=a[0],a})},function(a){return e[21]?e[29]=(e[19].push(d.i64.cast([0,2])),e[19]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,3])).then(function(a){return a=a,e[22]=a[0],a})},function(a){return e[22]?e[29]=(e[19].push(d.i64.cast([0,3])),e[19]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,4])).then(function(a){return a=a,e[23]=a[0],a})},function(a){return e[23]?e[29]=(e[19].push(d.i64.cast([0,4])),e[19]):0,e[24]=d.createArray(),e[25]=d.i64.of_int32(e[19].length),d.i64.gt(e[25],d.i64.cast([0,0]))?d.loopAsync(e[25],function(a){return e[29]=a,d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[19],e[29]).then(function(a){return a=a,e[30]=a[0],e[31]=a[1],a})},function(a){return e[32]=(e[24].push(e[30]),e[24])}])}):d.resolve()},function(a){return d.sequence([function(a){return e[29]=d.createArray(),e[30]=d.i64.of_int32(e[24].length),d.i64.gt(e[30],d.i64.cast([0,0]))?d.loopAsync(e[30],function(a){return e[32]=a,d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[24],e[32]).then(function(a){return a=a,e[33]=a[0],e[34]=a[1],a})},function(a){return e[35]=(e[29].push(d.i64.to_string(e[33])),e[29])}])}):d.resolve()},function(a){return e[31]=e[29].join(","),e[26]=e[31]}])},function(a){return e[24].some(function(a){return d.i64.eq(e[17],a)})?e[27]=e[17]:e[27]=void 0,d.i64.neq(e[27],void 0)?e[28]=e[27]:e[28]=void 0,e[12]=e[28]}])},function(f){return d.i64.neq(e[12],void 0)?e[13]=e[12]:e[13]=d.i64.cast([0,0]),d.i64.neq(e[18],void 0)?e[14]=e[18]:e[14]=d.i64.cast([0,1]),d.i64.neq(g.deviceId,void 0)?d.sequence([function(c){var f;return d.sequence([function(c){return a[11]!==void 0?d.sequence([function(c){return e[29]=a[11].get("attachment_infos"),e[30]=a[11].get("attachment_infos"),e[31]=a[11].get("product_type"),e[32]=a[11].get("error"),e[33]=a[11].get("error_message"),d.storedProcedure(b("LSSerializeAttachmentBackupPayload"),e[30],a[1],a[0],e[31],e[32],e[33]).then(function(a){return a=a,e[34]=a[0],e[35]=a[1],a})},function(a){return e[34]?e[36]=!1:e[36]=!0,e[36]?d.sequence([function(a){return e[35]?e[42]=!1:e[42]=!0,e[42]?d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] Invalid Attachment payload generated"),e[46]=d.createArray(),void 0!==void 0?e[47]=(e[46].push(void 0),e[46]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueMessageBackupStoredProcedure","Invalid Attachment payload generated",e[46],d.i64.cast([0,3]))},function(a){return a=[void 0,void 0,e[29]],e[43]=a[0],e[44]=a[1],e[45]=a[2],a}]):d.resolve((a=[void 0,e[35],e[29]],e[43]=a[0],e[44]=a[1],e[45]=a[2],a))},function(a){return a=[e[43],e[44],e[45]],e[37]=a[0],e[38]=a[1],e[39]=a[2],a}]):d.resolve((e[42]=e[34].get("payload"),a=[e[42],void 0,e[29]],e[37]=a[0],e[38]=a[1],e[39]=a[2],a))},function(b){return e[42]=new d.Map(),e[43]=e[42].set("success",e[37]),e[44]=e[42].set("failure",e[38]),e[45]=e[42].set("upload_context",e[39]),e[46]=d.toJSON(e[42]),e[40]=e[46],e[41]=a[11].get("error"),b=[e[40],e[41]],e[27]=b[0],e[28]=b[1],b}]):d.resolve((function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] Null Attachments for the message"),c=[void 0,void 0],e[27]=c[0],e[28]=c[1],c))},function(a){return a=[e[27],e[28]],e[19]=a[0],e[20]=a[1],a}])},function(c){return e[21]=["eb_upload",":",a[0]].join(""),e[22]=d.i64.of_float(Date.now()),d.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),e[21],d.i64.cast([0,50026]),"",d.i64.cast([0,0]),d.i64.cast([0,93]),d.i64.le(d.i64.cast([0,0]),d.i64.cast([0,0]))?d.i64.cast([0,0]):d.i64.add(e[22],d.i64.sub(d.i64.cast([0,0]),d.i64.mod_(e[22],d.i64.cast([0,0])))),void 0,d.i64.cast([0,0])).then(function(a){return a=a,e[23]=a[0],a})},function(b){return d.db.table(177).add({pk:void 0,pendingBackupTaskId:e[23],actionType:d.i64.cast([0,1]),contentType:d.i64.cast([0,1]),backupStatus:d.i64.cast([0,1]),listKey:a[0],uniqueKey:a[1],sortKey:d.i64.to_string(d.i64.add(d.i64.mul(d.i64.div(a[2],d.i64.cast([0,1e3])),d.i64.cast([0,1e3])),d.i64.div(d.i64.mod_(d.i64.and_(d.i64.asr_(d.i64.from_string(a[1]),d.i64.to_int32(d.i64.cast([0,22]))),d.i64.cast([511,4294967295])),d.i64.cast([0,1e5])),d.i64.cast([0,100])))),persistentId:"",isInstamadillo:a[12],echoContent:a[4],lsTraceId:a[5],error:a[6],echoEncodingLatencyNs:a[7],errorMessage:a[8],attachmentPayload:e[19],attachmentErrorCode:e[20]})},function(b){return d.i64.eq(d.i64.cast([0,1]),d.i64.cast([0,1]))?d.i64.eq(d.i64.cast([0,1]),d.i64.cast([0,1]))?(e[27]=d.createArray(),e[29]=(e[27].push("Successfully issued message backup task. act thread id = "),e[27]),e[29]=(e[27].push(a[0]),e[27]),e[29]=(e[27].push(", otid = "),e[27]),e[29]=(e[27].push(a[1]),e[27]),e[28]=e[27].join(void 0||""),function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",e[28]].join("")),d.resolve()):(e[27]=d.createArray(),e[29]=(e[27].push("Successfully issued message remove task. act thread id = "),e[27]),e[29]=(e[27].push(a[0]),e[27]),e[29]=(e[27].push(", otid = "),e[27]),e[29]=(e[27].push(a[1]),e[27]),e[28]=e[27].join(void 0||""),function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",e[28]].join("")),d.resolve()):(e[27]=d.createArray(),e[29]=(e[27].push("Successfully issued thread remove task. act thread id = "),e[27]),e[29]=(e[27].push(a[0]),e[27]),e[28]=e[27].join(void 0||""),function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",e[28]].join("")),d.resolve())},function(f){return e[26]=function(a){return a==void 0?void 0:a}(c("qex")._("1526")),e[26]!==void 0?e[24]=e[26]:e[24]=!1,a[9]!==void 0?(e[27]=a[9].get("act_thread_id"),e[28]=a[9].get("backup_action"),e[29]=a[9].get("toplevel_offline_threading_id"),e[30]=a[9].get("message_timestamp_ms"),e[31]=a[9].get("supplemental_key"),e[32]=a[9].get("attachment_payload"),d.storedProcedure(b("LSWriteToPendingProtobufBackupsContextV2"),e[23],e[27],e[29],e[31],e[30],e[28],e[32],void 0,void 0)):d.resolve()},function(a){return e[25]=new d.Map(),e[25].set("task_id",e[23]),a=[e[25],void 0],e[15]=a[0],e[16]=a[1],a}]):d.sequence([function(b){return e[19]=d.createArray(),e[22]=(e[19].push("Skipping the message upload since EB is disabled. act thread id = "),e[19]),e[22]=(e[19].push(a[0]),e[19]),e[22]=(e[19].push(", otid = "),e[19]),e[22]=(e[19].push(a[1]),e[19]),e[20]=e[19].join(void 0||""),function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",e[20]].join("")),d.resolve()},function(a){return e[21]=new d.Map(),e[21].set("error_code",d.i64.cast([0,24])),e[21].set("stored_procedure","LSEncryptedBackupsIssueMessageBackupStoredProcedure"),e[21].set("error_message",""),a=[void 0,e[21]],e[15]=a[0],e[16]=a[1],a}])},function(a){return a=[e[15],e[16]],e[2]=a[0],e[3]=a[1],a}]))})},function(a){return e[5]=d.i64.of_float(Date.now()),e[6]=d.i64.random(),e[8]="Finishing execution. Execution time: ",e[9]=d.i64.to_string(d.i64.sub(e[5],e[0])),e[10]=" ms",e[7]="",function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ",e[7],e[8],e[7],e[9],e[7],e[10]].join("")),d.i64.eq(d.i64.mod_(e[6],d.i64.cast([0,1e3])),d.i64.cast([0,0]))?(e[11]=",",e[12]=d.createArray(),void 0!==void 0?e[13]=(e[12].push(void 0),e[12]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"issueMessageBackup",[e[8],e[11],e[9],e[11],e[10]].join(""),e[12],d.i64.cast([0,4]))):d.resolve()},function(a){return a=[e[2],e[3]],f[0]=a[0],f[1]=a[1],a}])},function(a){return d.resolve(f)}])}a.__sproc_name__="LSEncryptedBackupsIssueMessageBackupStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","pending_backups_context_v2"];d=a;g["default"]=d}),98);
__d("LSIssueMessageBackupStoredProcedure",["LSIssueMessageBackup","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueMessageBackup"),e.actThreadId,e.otid,e.authoritativeTs,e.source,e.echoDocument,e.traceId,e.error,e.echoEncodingLatencyNs,e.errorMessage,e.protobufBackupContext,e.tamThreadSubtype,e.attachmentBackupContext,e.isInstamadillo);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSIssueMessageRemove",["LSArrayGetObjectAt","LSIsEncryptionVersionSecure","LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][issueMessageRemove] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(b){return d[11]=c.createArray(),d[14]=(d[11].push("Skipping message upload since EB is disabled. act thread id = "),d[11]),d[14]=(d[11].push(a[0]),d[11]),d[14]=(d[11].push(", otid = "),d[11]),d[14]=(d[11].push(a[1]),d[11]),d[12]=d[11].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",d[12]].join("")),c.resolve()},function(a){return d[13]=new c.Map(),d[13].set("error_code",c.i64.cast([0,1])),d[13].set("stored_procedure","LSEncryptedBackupsIssueMessageRemoveStoredProcedure"),d[13].set("error_message",""),a=[void 0,d[13]],d[2]=a[0],d[3]=a[1],a}]):(f=e.item,c.sequence([function(a){return d[18]=f.backupTenancy,d[17]=f.encryptionVersion,d[11]=void 0,c.i64.neq(d[11],void 0)?c.resolve(d[12]=d[11]):c.sequence([function(a){return d[19]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[20]?d[29]=(d[19].push(c.i64.cast([0,0])),d[19]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[21]=a[0],a})},function(a){return d[21]?d[29]=(d[19].push(c.i64.cast([0,2])),d[19]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[22]=a[0],a})},function(a){return d[22]?d[29]=(d[19].push(c.i64.cast([0,3])),d[19]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[23]=a[0],a})},function(a){return d[23]?d[29]=(d[19].push(c.i64.cast([0,4])),d[19]):0,d[24]=c.createArray(),d[25]=c.i64.of_int32(d[19].length),c.i64.gt(d[25],c.i64.cast([0,0]))?c.loopAsync(d[25],function(a){return d[29]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[19],d[29]).then(function(a){return a=a,d[30]=a[0],d[31]=a[1],a})},function(a){return d[32]=(d[24].push(d[30]),d[24])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[29]=c.createArray(),d[30]=c.i64.of_int32(d[24].length),c.i64.gt(d[30],c.i64.cast([0,0]))?c.loopAsync(d[30],function(a){return d[32]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[24],d[32]).then(function(a){return a=a,d[33]=a[0],d[34]=a[1],a})},function(a){return d[35]=(d[29].push(c.i64.to_string(d[33])),d[29])}])}):c.resolve()},function(a){return d[31]=d[29].join(","),d[26]=d[31]}])},function(a){return d[24].some(function(a){return c.i64.eq(d[17],a)})?d[27]=d[17]:d[27]=void 0,c.i64.neq(d[27],void 0)?d[28]=d[27]:d[28]=void 0,d[12]=d[28]}])},function(e){return c.i64.neq(d[12],void 0)?d[13]=d[12]:d[13]=c.i64.cast([0,0]),c.i64.neq(d[18],void 0)?d[14]=d[18]:d[14]=c.i64.cast([0,1]),c.i64.neq(f.deviceId,void 0)?c.sequence([function(e){return d[19]=["eb_upload",":",a[0]].join(""),d[20]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),d[19],c.i64.cast([0,50026]),"",c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.le(c.i64.cast([0,0]),c.i64.cast([0,0]))?c.i64.cast([0,0]):c.i64.add(d[20],c.i64.sub(c.i64.cast([0,0]),c.i64.mod_(d[20],c.i64.cast([0,0])))),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[21]=a[0],a})},function(b){return c.db.table(177).add({pk:void 0,pendingBackupTaskId:d[21],actionType:c.i64.cast([0,2]),contentType:c.i64.cast([0,1]),backupStatus:c.i64.cast([0,1]),listKey:a[0],uniqueKey:a[1],sortKey:c.i64.to_string(c.i64.add(c.i64.mul(c.i64.div(a[2],c.i64.cast([0,1e3])),c.i64.cast([0,1e3])),c.i64.div(c.i64.mod_(c.i64.and_(c.i64.asr_(c.i64.from_string(a[1]),c.i64.to_int32(c.i64.cast([0,22]))),c.i64.cast([511,4294967295])),c.i64.cast([0,1e5])),c.i64.cast([0,100])))),persistentId:"",isInstamadillo:!1,lsTraceId:a[4],error:a[5]})},function(b){return c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))?c.i64.eq(c.i64.cast([0,2]),c.i64.cast([0,1]))?(d[23]=c.createArray(),d[25]=(d[23].push("Successfully issued message backup task. act thread id = "),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[25]=(d[23].push(", otid = "),d[23]),d[25]=(d[23].push(a[1]),d[23]),d[24]=d[23].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",d[24]].join("")),c.resolve()):(d[23]=c.createArray(),d[25]=(d[23].push("Successfully issued message remove task. act thread id = "),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[25]=(d[23].push(", otid = "),d[23]),d[25]=(d[23].push(a[1]),d[23]),d[24]=d[23].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",d[24]].join("")),c.resolve()):(d[23]=c.createArray(),d[25]=(d[23].push("Successfully issued thread remove task. act thread id = "),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[24]=d[23].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",d[24]].join("")),c.resolve())},function(a){return d[22]=new c.Map(),d[22].set("task_id",d[21]),a=[d[22],void 0],d[15]=a[0],d[16]=a[1],a}]):c.sequence([function(b){return d[19]=c.createArray(),d[22]=(d[19].push("Skipping message upload since EB is disabled. act thread id = "),d[19]),d[22]=(d[19].push(a[0]),d[19]),d[22]=(d[19].push(", otid = "),d[19]),d[22]=(d[19].push(a[1]),d[19]),d[20]=d[19].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",d[20]].join("")),c.resolve()},function(a){return d[21]=new c.Map(),d[21].set("error_code",c.i64.cast([0,24])),d[21].set("stored_procedure","LSEncryptedBackupsIssueMessageRemoveStoredProcedure"),d[21].set("error_message",""),a=[void 0,d[21]],d[15]=a[0],d[16]=a[1],a}])},function(a){return a=[d[15],d[16]],d[2]=a[0],d[3]=a[1],a}]))})},function(a){return d[5]=c.i64.of_float(Date.now()),d[6]=c.i64.random(),d[8]="Finishing execution. Execution time: ",d[9]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=" ms",d[7]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ",d[7],d[8],d[7],d[9],d[7],d[10]].join("")),c.i64.eq(c.i64.mod_(d[6],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[11]=",",d[12]=c.createArray(),void 0!==void 0?d[13]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"issueMessageRemove",[d[8],d[11],d[9],d[11],d[10]].join(""),d[12],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[2],d[3]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssueMessageRemoveStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","pending_backups_context_v2"];e.exports=a}),null);
__d("LSIssueMessageRemoveStoredProcedure",["LSIssueMessageRemove","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueMessageRemove"),e.actThreadId,e.otid,e.authoritativeTs,e.source,e.traceId,e.error);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSIssuePointQueryRestoreTask",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSBase64Encode.nop","LSIsEncryptionVersionSecure","LSIsMobileClient","LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop","LSLogWebQpl.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure] Beginning execution."),c.sequence([function(d){return a[3]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[3],c.i64.cast([0,2512]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[9]=a[0],a})},function(a){return d[9]?d[10]=!0:d[10]=!1,d[10]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[11]=c.createArray(),void 0!==void 0?d[12]=(d[11].push(void 0),d[11]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[11],c.i64.cast([0,3]))):c.resolve()}])},function(e){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure] Point query restore v2 is enabled"),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(e){return d[9]=new c.Map(),d[9].set("error_code",c.i64.cast([0,1])),d[9].set("error_message",""),d[9].set("stored_procedure","issuePointQueryRestoreTask"),d[10]=new c.Map(),d[10].set("act_thread_id",a[0]),d[11]=new c.Map(),d[11].set("restore_context",d[10]),d[11].set("failure",d[9]),d[12]=d[11].get("restore_context"),d[13]=d[11].get("success"),d[13]!==void 0?(d[19]=d[13].get("message_id"),d[14]=d[19]):d[14]="",d[15]=d[12].get("act_thread_id"),d[16]=":",d[17]=c.toJSON(d[11]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),["encrypted_backups_restore",d[16],d[15],d[16],d[14]].join(""),c.i64.cast([0,50035]),d[17],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[18]=a[0],a})},function(a){return d[1]=d[18]}]):(f=e.item,c.sequence([function(a){return d[16]=f.deviceId,d[15]=f.backupTenancy,d[14]=f.encryptionVersion,d[9]=void 0,c.i64.neq(d[9],void 0)?c.resolve(d[10]=d[9]):c.sequence([function(a){return d[17]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[18]=a[0],a})},function(a){return d[18]?d[27]=(d[17].push(c.i64.cast([0,0])),d[17]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[19]?d[27]=(d[17].push(c.i64.cast([0,2])),d[17]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[20]?d[27]=(d[17].push(c.i64.cast([0,3])),d[17]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[21]=a[0],a})},function(a){return d[21]?d[27]=(d[17].push(c.i64.cast([0,4])),d[17]):0,d[22]=c.createArray(),d[23]=c.i64.of_int32(d[17].length),c.i64.gt(d[23],c.i64.cast([0,0]))?c.loopAsync(d[23],function(a){return d[27]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[17],d[27]).then(function(a){return a=a,d[28]=a[0],d[29]=a[1],a})},function(a){return d[30]=(d[22].push(d[28]),d[22])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[27]=c.createArray(),d[28]=c.i64.of_int32(d[22].length),c.i64.gt(d[28],c.i64.cast([0,0]))?c.loopAsync(d[28],function(a){return d[30]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[22],d[30]).then(function(a){return a=a,d[31]=a[0],d[32]=a[1],a})},function(a){return d[33]=(d[27].push(c.i64.to_string(d[31])),d[27])}])}):c.resolve()},function(a){return d[29]=d[27].join(","),d[24]=d[29]}])},function(a){return d[22].some(function(a){return c.i64.eq(d[14],a)})?d[25]=d[14]:d[25]=void 0,c.i64.neq(d[25],void 0)?d[26]=d[25]:d[26]=void 0,d[10]=d[26]}])},function(e){return c.i64.neq(d[10],void 0)?d[11]=d[10]:d[11]=c.i64.cast([0,0]),c.i64.neq(d[15],void 0)?d[12]=d[15]:d[12]=c.i64.cast([0,1]),c.i64.neq(d[16],void 0)?c.sequence([function(e){return d[17]=new c.Map(),d[17].set("act_thread_id",a[0]),d[17].set("request_id",a[3]),d[17].set("tam_thread_subtype",c.i64.cast([0,0])),d[17].set("source",a[4]),c.nativeOperation(b("LSBase64Encode.nop"),f.ocmfClientStateBlob).then(function(a){return a=a,d[18]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),f.mailboxRootKeyBlob).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[20]=new c.Map(),d[20].set("ocmf_client_state_blob",d[18]==null?"":d[18]),d[20].set("mailbox_root_key",d[19]==null?"":d[19]),d[21]=c.createArray(),c.forEach(c.filter(c.db.table(169).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[36]=(d[21].push(a.epochId),d[21])})},function(a){return d[34]="Queried locally available epochs. Count: ",d[22]=c.i64.of_int32(d[21].length),d[35]=c.i64.to_string(d[22]),d[23]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBEpochClientUtils] ",d[23],d[34],d[23],d[35]].join("")),c.resolve()},function(e){return d[24]=new c.Map(),d[24].set("device_id",d[16]),d[24].set("raw_tokens",d[20]),d[24].set("locally_available_epochs",d[21]),d[25]=new c.Map(),d[25].set("reference_timestamp",a[2]),d[25].set("device_context",d[24]),d[25].set("message_id",a[1]),d[26]=new c.Map(),d[26].set("restore_context",d[17]),d[26].set("success",d[25]),d[27]=d[26].get("restore_context"),d[28]=d[26].get("success"),d[28]!==void 0?(d[36]=d[28].get("message_id"),d[29]=d[36]):d[29]="",d[30]=d[27].get("act_thread_id"),d[31]=":",d[32]=c.toJSON(d[26]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),["encrypted_backups_restore",d[31],d[30],d[31],d[29]].join(""),c.i64.cast([0,50035]),d[32],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[33]=a[0],a})},function(a){return d[13]=d[33]}]):c.sequence([function(e){return d[17]=new c.Map(),d[17].set("error_code",c.i64.cast([0,1])),d[17].set("error_message",""),d[17].set("stored_procedure","issuePointQueryRestoreTask"),d[18]=new c.Map(),d[18].set("act_thread_id",a[0]),d[19]=new c.Map(),d[19].set("restore_context",d[18]),d[19].set("failure",d[17]),d[20]=d[19].get("restore_context"),d[21]=d[19].get("success"),d[21]!==void 0?(d[27]=d[21].get("message_id"),d[22]=d[27]):d[22]="",d[23]=d[20].get("act_thread_id"),d[24]=":",d[25]=c.toJSON(d[19]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),["encrypted_backups_restore",d[24],d[23],d[24],d[22]].join(""),c.i64.cast([0,50035]),d[25],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[26]=a[0],a})},function(a){return d[13]=d[26]}])},function(a){return d[1]=d[13]}]))})},function(d){return a[3]!==void 0?c.nativeOperation(b("LSLogWebQpl.nop"),a[3],c.i64.cast([0,521476165]),"restore_task_start",c.i64.cast([0,1]),a[4],void 0):c.resolve()},function(e){return c.sequence([function(d){return a[3]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[3],c.i64.cast([0,2513]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[9]=a[0],a})},function(a){return d[9]?d[10]=!0:d[10]=!1,d[10]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[11]=c.createArray(),void 0!==void 0?d[12]=(d[11].push(void 0),d[11]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[11],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[3]=c.i64.of_float(Date.now()),d[4]=c.i64.random(),d[6]="Finishing execution. Execution time: ",d[7]=c.i64.to_string(c.i64.sub(d[3],d[0])),d[8]=" ms",d[5]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure] ",d[5],d[6],d[5],d[7],d[5],d[8]].join("")),c.i64.eq(c.i64.mod_(d[4],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[9]=",",d[10]=c.createArray(),void 0!==void 0?d[11]=(d[10].push(void 0),d[10]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure",[d[6],d[9],d[7],d[9],d[8]].join(""),d[10],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=d[1]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","secure_encrypted_backups_epochs"];e.exports=a}),null);
__d("LSIssuePointQueryRestoreTaskStoredProcedure",["LSIssuePointQueryRestoreTask","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssuePointQueryRestoreTask"),e.threadId,e.messageId,e.startSortKey,e.traceId,e.source);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSIssueThreadRemove",["LSArrayGetObjectAt","LSIsEncryptionVersionSecure","LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][issueThreadRemove] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(b){return d[11]=c.createArray(),d[14]=(d[11].push("Skipping thread remove since EB is disabled. act thread id = "),d[11]),d[14]=(d[11].push(a[0]),d[11]),d[12]=d[11].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[12]].join("")),c.resolve()},function(a){return d[13]=new c.Map(),d[13].set("error_code",c.i64.cast([0,1])),d[13].set("stored_procedure","LSEncryptedBackupsIssueThreadRemoveStoredProcedure"),d[13].set("error_message",""),a=[void 0,d[13]],d[2]=a[0],d[3]=a[1],a}]):(f=e.item,c.sequence([function(a){return d[18]=f.backupTenancy,d[17]=f.encryptionVersion,d[11]=void 0,c.i64.neq(d[11],void 0)?c.resolve(d[12]=d[11]):c.sequence([function(a){return d[19]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[20]?d[29]=(d[19].push(c.i64.cast([0,0])),d[19]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[21]=a[0],a})},function(a){return d[21]?d[29]=(d[19].push(c.i64.cast([0,2])),d[19]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[22]=a[0],a})},function(a){return d[22]?d[29]=(d[19].push(c.i64.cast([0,3])),d[19]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[23]=a[0],a})},function(a){return d[23]?d[29]=(d[19].push(c.i64.cast([0,4])),d[19]):0,d[24]=c.createArray(),d[25]=c.i64.of_int32(d[19].length),c.i64.gt(d[25],c.i64.cast([0,0]))?c.loopAsync(d[25],function(a){return d[29]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[19],d[29]).then(function(a){return a=a,d[30]=a[0],d[31]=a[1],a})},function(a){return d[32]=(d[24].push(d[30]),d[24])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[29]=c.createArray(),d[30]=c.i64.of_int32(d[24].length),c.i64.gt(d[30],c.i64.cast([0,0]))?c.loopAsync(d[30],function(a){return d[32]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[24],d[32]).then(function(a){return a=a,d[33]=a[0],d[34]=a[1],a})},function(a){return d[35]=(d[29].push(c.i64.to_string(d[33])),d[29])}])}):c.resolve()},function(a){return d[31]=d[29].join(","),d[26]=d[31]}])},function(a){return d[24].some(function(a){return c.i64.eq(d[17],a)})?d[27]=d[17]:d[27]=void 0,c.i64.neq(d[27],void 0)?d[28]=d[27]:d[28]=void 0,d[12]=d[28]}])},function(e){return c.i64.neq(d[12],void 0)?d[13]=d[12]:d[13]=c.i64.cast([0,0]),c.i64.neq(d[18],void 0)?d[14]=d[18]:d[14]=c.i64.cast([0,1]),c.i64.neq(f.deviceId,void 0)?c.sequence([function(e){return d[19]=["eb_upload",":",a[0]].join(""),d[20]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),d[19],c.i64.cast([0,50026]),"",c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.le(c.i64.cast([0,0]),c.i64.cast([0,0]))?c.i64.cast([0,0]):c.i64.add(d[20],c.i64.sub(c.i64.cast([0,0]),c.i64.mod_(d[20],c.i64.cast([0,0])))),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[21]=a[0],a})},function(b){return c.db.table(177).add({pk:void 0,pendingBackupTaskId:d[21],actionType:c.i64.cast([0,2]),contentType:c.i64.cast([0,2]),backupStatus:c.i64.cast([0,1]),listKey:a[0],uniqueKey:a[0],sortKey:a[1],persistentId:"",isInstamadillo:!1,lsTraceId:a[3],error:a[4]})},function(b){return c.i64.eq(c.i64.cast([0,2]),c.i64.cast([0,1]))?c.i64.eq(c.i64.cast([0,2]),c.i64.cast([0,1]))?(d[23]=c.createArray(),d[25]=(d[23].push("Successfully issued message backup task. act thread id = "),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[25]=(d[23].push(", otid = "),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[24]=d[23].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[24]].join("")),c.resolve()):(d[23]=c.createArray(),d[25]=(d[23].push("Successfully issued message remove task. act thread id = "),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[25]=(d[23].push(", otid = "),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[24]=d[23].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[24]].join("")),c.resolve()):(d[23]=c.createArray(),d[25]=(d[23].push("Successfully issued thread remove task. act thread id = "),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[24]=d[23].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[24]].join("")),c.resolve())},function(a){return d[22]=new c.Map(),d[22].set("task_id",d[21]),a=[d[22],void 0],d[15]=a[0],d[16]=a[1],a}]):c.sequence([function(b){return d[19]=c.createArray(),d[22]=(d[19].push("Skipping thread remove since EB is disabled. act thread id = "),d[19]),d[22]=(d[19].push(a[0]),d[19]),d[20]=d[19].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[20]].join("")),c.resolve()},function(a){return d[21]=new c.Map(),d[21].set("error_code",c.i64.cast([0,24])),d[21].set("stored_procedure","LSEncryptedBackupsIssueThreadRemoveStoredProcedure"),d[21].set("error_message",""),a=[void 0,d[21]],d[15]=a[0],d[16]=a[1],a}])},function(a){return a=[d[15],d[16]],d[2]=a[0],d[3]=a[1],a}]))})},function(a){return d[5]=c.i64.of_float(Date.now()),d[6]=c.i64.random(),d[8]="Finishing execution. Execution time: ",d[9]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=" ms",d[7]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ",d[7],d[8],d[7],d[9],d[7],d[10]].join("")),c.i64.eq(c.i64.mod_(d[6],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[11]=",",d[12]=c.createArray(),void 0!==void 0?d[13]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"issueThreadRemove",[d[8],d[11],d[9],d[11],d[10]].join(""),d[12],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[2],d[3]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssueThreadRemoveStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","pending_backups_context_v2"];e.exports=a}),null);
__d("LSIssueThreadRemoveStoredProcedure",["LSIssueThreadRemove","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueThreadRemove"),e.actThreadId,e.sortKey,e.source,e.traceId,e.error);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSTamThreadSubtype",[],(function(a,b,c,d,e,f){a=Object.freeze({STANDARD:0,VANISH_MODE:1,DUAL_SEND_SHADOW:2,BTV_COMPANION:3,BLEND_DUAL_SEND:4,BLEND_DUAL_SEND_NO_NETWORK:5});f["default"]=a}),66);
__d("MAWBridgeDeleteMessagesOfThreadHandler",["I64","LSEncryptedBackupsBackupTenancy","LSFactory","LSIntEnum","LSIssueThreadRemoveStoredProcedure","LSMEBTaskCreationSource","MAWEncryptedBackupUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(b.actionType===2){var e=(yield d("MAWEncryptedBackupUtils").getBackupTenancy(a));if(e==null||!(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsBackupTenancy").PRODUCTION)))return;yield c("LSIssueThreadRemoveStoredProcedure")(c("LSFactory")(a),{actThreadId:b.threadId,sortKey:b.ts.toString(),source:(i||(i=d("LSIntEnum"))).ofNumber(c("LSMEBTaskCreationSource").TAM_WEB)})}});return j.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeIssuePointQueryHandler",["I64","LSEncryptedBackupsBackupTenancy","LSFactory","LSIntEnum","LSIssuePointQueryRestoreTaskStoredProcedure","LSRequestId","MAWEBRestoreTrackingUtils","MAWEncryptedBackupUtils","Promise","WAGetStorageQplAnnotations","emptyFunction","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){c("promiseDone")(d("WAGetStorageQplAnnotations").getStorageQplAnnotations().then(function(b){d("MAWEBRestoreTrackingUtils").addQPLRestorePointWithAnnotations({annotations:b,pointName:"storage_estimation_retrieved",traceId:a})}))}function a(a,e){return d("MAWEncryptedBackupUtils").getBackupTenancy(a).then(function(f){if(f==null)return(j||(j=b("Promise"))).resolve();if(!(h||(h=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsBackupTenancy").PRODUCTION)))return(j||(j=b("Promise"))).resolve();f=c("LSRequestId").generate();var g=(i||(i=d("LSIntEnum"))).unwrapIntEnum((h||(h=d("I64"))).of_float(e.taskSource));d("MAWEBRestoreTrackingUtils").markEBRestorePoint(g,f,"LS");k(f);return c("LSIssuePointQueryRestoreTaskStoredProcedure")(c("LSFactory")(a),{messageId:e.messageId,source:i.ofNumber(g),startSortKey:e.startSortKey,threadId:e.threadId,traceId:f}).then(c("emptyFunction"))})}g.call=a}),98);
__d("MAWBridgeTraceUtils",["I64","Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,c,e){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.data_trace_meta).filter(function(a){var b=a.contextThree;if(b!=null&&c===b&&(i||(i=d("I64"))).equal(a.traceType,e))return a.shouldFlush===!1;else return!1})).then(function(a){if(a.length!==0)return(h||(h=b("Promise"))).resolve(a[0].traceId);else return(h||(h=b("Promise"))).resolve()})}g.getTraceId=a}),98);
__d("MAWBridgeStartTraceHandler",["ArmadilloDataTraceCheckPoint","ArmadilloDataTraceType","I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceTag","LSFactory","LSRequestId","MAWAckLevel","MAWBridgeTraceUtils","MAWMsg","MAWTimeUtils","Promise","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,e){return a.data_trace_meta.add({contextOne:void 0,contextThree:b.externalId,contextTwo:void 0,foregroundTimestampMs:(i||(i=d("I64"))).zero,initTimestampMs:d("MAWTimeUtils").toTimestamp(b.ts),predefinedId:void 0,shouldFlush:!1,traceId:e,traceType:b.traceType}).then(function(){return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").traceCreated,dataTraceId:e,syncChannel:(i||(i=d("I64"))).neg_one})}).then(function(){var f;if(b.threadKey==null||!c("gkx")("23995"))return;return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:e,syncChannel:(i||(i=d("I64"))).neg_one,tags:(f=b.threadKey)!=null?f:void 0})})}function a(a,e){var f=e.ack,g=e.traceType;return f===d("MAWAckLevel").ACK.clock?d("MAWBridgeTraceUtils").getTraceId(a,e.externalId,e.traceType).then(function(f){if(f!=null)return;var k=c("LSRequestId").generate();if((i||(i=d("I64"))).equal(g,d("ArmadilloDataTraceType").armadilloMessageSend))return j(a,e,k).then(function(){var b=e.threadType;if(b==="User")return;return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").traceGroupMessage,dataTraceId:k,syncChannel:(i||(i=d("I64"))).neg_one})}).then(function(){if(e.isFirstMsg)return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").armadilloActMessageSend,dataTraceId:k,syncChannel:(i||(i=d("I64"))).neg_one,tags:"first_msg=1"})}).then(function(){var f=e.type_;f=f===d("MAWMsg").text?d("ArmadilloDataTraceCheckPoint").traceTextMessage:f===d("MAWMsg").ptt||f===d("MAWMsg").image||f===d("MAWMsg").video||f===d("MAWMsg").gif?d("ArmadilloDataTraceCheckPoint").traceMediaMessage:void 0;if(f==null)return(h||(h=b("Promise"))).resolve(f);c("promiseDone")(c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:f,dataTraceId:k,syncChannel:(i||(i=d("I64"))).neg_one}));return(h||(h=b("Promise"))).resolve(f)}).then(function(b){if(b==null)return;if(!(i||(i=d("I64"))).equal(b,d("ArmadilloDataTraceCheckPoint").traceMediaMessage))return;b=e.type_;b=b===d("MAWMsg").image?d("LSDataTraceTag").image:b===d("MAWMsg").ptt?d("LSDataTraceTag").audio:b===d("MAWMsg").video?d("LSDataTraceTag").video:b===d("MAWMsg").gif?d("LSDataTraceTag").animatedImage:d("LSDataTraceTag").none;return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").richMediaMediaSendAttachmentType,dataTraceId:k,syncChannel:(i||(i=d("I64"))).neg_one,tags:String(b)})});else return j(a,e,k)}):(h||(h=b("Promise"))).resolve()}g.call=a}),98);
__d("MAWBridgeStartTraceWithTraceIdHandler",["MAWMainTraceUtils","MAWTimeUtils","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("MAWMainTraceUtils").startTraceWithTxn(a,d("MAWTimeUtils").toTimestamp(d("WATimeUtils").unixTime()),b.traceId,b.traceType,void 0,void 0,b.traceContext)}g.call=a}),98);
__d("MAWBridgeUpdateDYIStatusV2",["EncryptedBackupdDYIFileSaver","EncryptedBackupsDYIFileUtils","EncryptedBackupsDYITypes","FBLogger","QPLUserFlow","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){d("EncryptedBackupdDYIFileSaver").saveFile(a,b),window.setTimeout(function(){c("promiseDone")(e())},1e3)});return i.apply(this,arguments)}function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.qplEvent,f=a.qplInstanceKeyE2E;a=a.status;var g=c("FBLogger")("[labyrinth_web][dyi]");if(a===d("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.Completed)try{if(navigator.storage==null)throw g.mustfixThrow("Storage management API is not supported. Please try one of the supported browsers.");var i=d("EncryptedBackupsDYIFileUtils").DyiArchiveFilename,j=(yield d("EncryptedBackupsDYIFileUtils").getRootFolderHandle()),k=(yield d("EncryptedBackupsDYIFileUtils").readFile(j,i));yield h(i,k,b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield j.removeEntry(i)}));g.info("Saving file with filename ",i);e!=null&&f!=null&&c("QPLUserFlow").endSuccess(e,{instanceKey:f});g.info("DYI Complete")}catch(a){g.mustfix("Failed to download the DYI archive: %s",a);e!=null&&f!=null&&c("QPLUserFlow").endFailure(e,a.message,{instanceKey:f});return d("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.Failed}a===d("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.Failed&&(e!=null&&f!=null&&c("QPLUserFlow").endFailure(e,"Unknown error",{instanceKey:f}));return a});return j.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeUpdateTraceHandler",["ArmadilloDataTraceCheckPoint","I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceCheckPoint","LSFactory","LSIntEnum","MAWBridgeTraceEvent","Promise","ReQL","emptyFunction","updateAndFlushLSDataTrace"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,e,f){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.data_trace_meta).filter(function(a){var b=a.contextThree;if(b!=null&&e.externalIds.includes(b)&&(j||(j=d("I64"))).equal(a.traceType,e.traceType))return a.shouldFlush===!1;else return!1})).then(function(g){var i=[];return g.reduce(function(b,g){return b.then(function(){i.push(g.traceId);var b=e.errorMessage;if(b!=null)return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:f,dataTraceId:g.traceId,errorMessage:b,syncChannel:(j||(j=d("I64"))).neg_one});else return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:f,dataTraceId:g.traceId,syncChannel:(j||(j=d("I64"))).neg_one})})},(h||(h=b("Promise"))).resolve()).then(function(){return i})})}function l(a,d){return d.reduce(function(b,d){return b.then(function(){return c("updateAndFlushLSDataTrace")(a,d)})},(h||(h=b("Promise"))).resolve())}function a(a,e){var f=e.event;if(f===c("MAWBridgeTraceEvent").ReceivedReceipt)return k(a,e,d("ArmadilloDataTraceCheckPoint").deliveryReceiptReceived).then(function(b){return l(a,b)});else if(f===c("MAWBridgeTraceEvent").ReceivedSent)return k(a,e,d("ArmadilloDataTraceCheckPoint").advancedCryptoMEMSendTaskComplete).then(c("emptyFunction"));else if(f===c("MAWBridgeTraceEvent").FlowEndForFailure)return k(a,e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_FOR_FAILURE)).then(function(b){return l(a,b)});else if(f===c("MAWBridgeTraceEvent").FlowEndForSuccess)return k(a,e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_AND_FLUSH)).then(function(b){return l(a,b)});else return(h||(h=b("Promise"))).resolve()}g.call=a}),98);
__d("MAWBridgeUploadMessageHandler",["EncryptedBackupsWriteToMPSTables","FBLogger","I64","LSDataTraceCheckPoint","LSEncryptedBackupsAttachmentErrorCode","LSEncryptedBackupsBackupTenancy","LSFactory","LSIntEnum","LSIssueMessageBackupStoredProcedure","LSIssueMessageRemoveStoredProcedure","LSMEBTaskCreationSource","LSShape","LSTamThreadSubtype","LSVec","MAWCastToMsgrServerMediaType","MAWEBFrontendQPLLogger","MAWEncryptedBackupUtils","MAWMsgType","MAWTraceUtils","MWEBODSEntityName.enum","MWEBODSUtils","Promise","WATimeUtils","asyncToGeneratorRuntime","err","gkx","isInstamadillo","isInstamadilloEB","qex","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=c("requireDeferred")("EncryptedBackupTaskIssuedFalcoEvent").__setRef("MAWBridgeUploadMessageHandler");function a(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f,g;if(c("isInstamadilloEB")())return(j||(j=b("Promise"))).resolve();e.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(e.uploadTrackingInstanceKey,"upload_tracking_bridge_handler");d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload."+((f=e.messageType)!=null?f:"unknown"));f=e.protoMsg;var l=e.traceId;l=(yield d("MAWEncryptedBackupUtils").getBackupTenancy(a,l,e.uploadTrackingInstanceKey));g=((g=e.uploadTrackingInstanceKey)!=null?g:e.traceId).toString();if(l==null||!(h||(h=d("I64"))).equal(l,(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsBackupTenancy").PRODUCTION))){if(e.uploadTrackingInstanceKey!=null){l=e.uploadTrackingInstanceKey;d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(l,"user_device_not_enrolled_invalid_echo_request");d("MAWEBFrontendQPLLogger").endEBUploadTracking(l)}d("MAWTraceUtils").recordCheckpointForTrace(g,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_WEB_UPLOAD_USER_DEVICE_NOT_ENROLLED),[],!1);d("MAWTraceUtils").recordInvalidUploadRequestAndFlushTrace(g,i.ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_INVALID_REQUEST),[]);return}l=e.echoDocument;var n=d("WATimeUtils").castMilliSecondsToUnixTime(e.sortOrderMs);if(e.actionType===1){var o=e.echoEncodingLatencyNs,p=e.errorCode,q=e.errorMessage;e.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(e.uploadTrackingInstanceKey,"issuing_message_backup");var r;if((c("qex")._("1527")===!0||c("gkx")("23966"))&&f!=null)try{var s=f.sortOrderMs;if(s==null)throw c("err")("sort order is null for the protobuf message");yield d("EncryptedBackupsWriteToMPSTables").writeToMPSTables(a,f,e.threadId,!1);r=d("LSShape").ofRecord({act_thread_id:e.threadId,attachment_payload:null,backup_action:(i||(i=d("LSIntEnum"))).ofNumber(f.backupActionType),message_timestamp_ms:(h||(h=d("I64"))).of_float(s),supplemental_key:f.supplementalKey,toplevel_offline_threading_id:(s=(s=f.originalMsgProtocolId)==null?void 0:s.externalId)!=null?s:f.msgId.externalId})}catch(a){c("FBLogger")("labyrinth_web").catching(a).mustfix("[labyrinth_web] Error writing to MPSTables for the upload message")}var t;if(e.attachmentBackupContext!=null){s=m({bridgeUploadAttachmentBackupContext:e.attachmentBackupContext,messageId:e.messageId,serverThreadKey:null,threadId:e.threadId,traceId:e.traceId});s!=null&&(t=d("LSShape").ofRecord(s))}e.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(e.uploadTrackingInstanceKey,"upload_handler_echo_protobuf_context",{bool:{attachment_backup_context:t!=null,protobuf_context:r!=null}});if(e.messageType!=null){f=d("MAWMsgType").isMAWSupportedMediaType(e.messageType)?"media":"non-media";d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload."+f)}t!=null&&d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload.attachment_unified_backup");yield c("LSIssueMessageBackupStoredProcedure")(c("LSFactory")(a),{actThreadId:e.threadId,attachmentBackupContext:t,authoritativeTs:(h||(h=d("I64"))).of_float(n*1e3),echoDocument:(s=l)!=null?s:"",echoEncodingLatencyNs:o!=null?(h||(h=d("I64"))).of_float(o):void 0,error:p!=null?(i||(i=d("LSIntEnum"))).ofNumber(p):void 0,errorMessage:q!=null?q:void 0,isInstamadillo:c("isInstamadillo")(),otid:e.messageId,protobufBackupContext:r,source:(i||(i=d("LSIntEnum"))).ofNumber(c("LSMEBTaskCreationSource").TAM),tamThreadSubtype:i.ofNumber(c("isInstamadillo")()?c("LSTamThreadSubtype").BLEND_DUAL_SEND:c("LSTamThreadSubtype").STANDARD),traceId:g});e.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(e.uploadTrackingInstanceKey,"upload_tracking_upload_task_issued");void k.load().then(function(a){return a.log(function(){return{message_id:e.messageId,trace_id:e.traceId}})})}else e.actionType===2&&(yield c("LSIssueMessageRemoveStoredProcedure")(c("LSFactory")(a),{actThreadId:e.threadId,authoritativeTs:(h||(h=d("I64"))).of_float(n*1e3),otid:e.messageId,source:(i||(i=d("LSIntEnum"))).ofNumber(c("LSMEBTaskCreationSource").TAM),traceId:g}),e.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(e.uploadTrackingInstanceKey,"upload_tracking_remove_task_issued"))});return l.apply(this,arguments)}function m(a){var b;if(!c("gkx")("6956"))return void 0;var e=a.bridgeUploadAttachmentBackupContext,f=a.messageId,g=a.serverThreadKey,h=a.threadId;a=a.traceId;if(e.attachmentInfos.length===0)return;var j=e.attachmentInfos;d("MAWEBFrontendQPLLogger").startFlowUploadAttachmentBackup({deliveryObjectId:j[0].zippyObjectId,flow:"unified",mediaType:(b=d("MAWCastToMsgrServerMediaType").castMediaAttachmentTypeToServerMediaType(j[0].mediaType))!=null?b:"unknown",messageId:f,threadId:h,traceId:a});b=c("LSVec").ofArray(j.map(function(a){return d("LSShape").ofRecord({attachment_trace_id:a.attachmentTraceId,media_type:a.mediaType,zippy_object_id:a.zippyObjectId})}));f=(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsAttachmentErrorCode").NO_ERROR);e.error!=null&&(f=(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsAttachmentErrorCode").UNKNOWN_ERROR));h={attachment_infos:b,error:f,error_message:null,product_type:e.productType,server_thread_key:g};return h}g.call=a;g.getMessageUploadAttachmentBackupContext=m}),98);
__d("MAWBridgeUploadMessageByBatchHandler",["MAWBridgeTraceRecordCheckpointHandler","MAWBridgeUploadMessageHandler","MAWEBFrontendQPLLogger","Promise","QPLUserFlow","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){a.forEach(function(a){a.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(a.uploadTrackingInstanceKey,b)})}function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){i(e.messages,"upload_tracking_bridge_batch_handler");e.qpl.forEach(function(a){return c("QPLUserFlow").addPoint(a.event,a.action.name,{instanceKey:a.instanceKey,timestamp:a.timestamp})});e.checkPoint.forEach(function(b){return c("promiseDone")(d("MAWBridgeTraceRecordCheckpointHandler").call(a,b))});for(e of e.messages)yield d("MAWBridgeUploadMessageHandler").call(a,e);return(h||(h=b("Promise"))).resolve()});return j.apply(this,arguments)}g.call=a}),98);
__d("MAWSetupBridgeOfflineConsumer",["InteractionTracingMetrics","MAWBridgeInitOfflineQueueSyncCompleteHandler","MAWMIC","MAWOfflineQueueStatus","MAWSharedProtocolQueueConst","MWChatInteraction","WATagsLogger","asyncToGeneratorRuntime","cr:9793","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats failed: expected: ",", processed: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats end: expected: ",", processed: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats: expected: ",", processed: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats start: ",""]);k=function(){return a};return a}var l=d("WATagsLogger").TAGS(["ServerRPC","OfflineConsumer"]);function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield a;if(b("cr:9793")!=null){a=c("gkx")("7697");b("cr:9793").prewarmMediaWasmWorker(a?"mp4RepairMux":"mp4CheckAndRepair")}return d("MAWBridgeInitOfflineQueueSyncCompleteHandler").call()});return n.apply(this,arguments)}function o(a){d("MAWMIC").addIntAnnotation("offlineQueueSize",a);var b=d("MWChatInteraction").get(d("MWChatInteraction").MW_AUTO_CHAT_TAB_OPEN);b!=null&&c("InteractionTracingMetrics").addAnnotationInt(b,"offlineQueueSize",a)}function p(a,b){var e=d("MWChatInteraction").get(d("MWChatInteraction").MW_AUTO_CHAT_TAB_OPEN);e!=null&&c("InteractionTracingMetrics").addSubspan(e,"offline_queue","LONGTASK",a,b,{})}function a(a,b){return function(e){var f=e.chatJidStatus,g=e.status,n=e.timestamp,q=e.totalExpectedCount,r=e.totalProcessedCount;switch(g){case d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Initializing:l.LOG(k(),q);o(q);b({tag:"InitOfflineQueueSyncStart",value:q});d("MAWOfflineQueueStatus").markThreadWithOfflineQueueStatus(f,d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Initializing);d("MAWMIC").addPoint("worker_process_offline_queue_start",n);d("MAWOfflineQueueStatus").resetOfflineQueueState();return;case d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Processing:l.LOG(j(),q,r);b({tag:"InitOfflineQueueConsumerSyncProgress",value:{chatJidStatus:f,processed:r}});d("MAWOfflineQueueStatus").markThreadWithOfflineQueueStatus(f,d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Processing);return;case d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete:l.LOG(i(),q,r);e.startTime!=null&&p(e.startTime,n);b({tag:"InitOfflineQueueSyncComplete",value:f});c("promiseDone")(m(a));d("MAWOfflineQueueStatus").markThreadWithOfflineQueueStatus(f,d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete);d("MAWMIC").addPoint("worker_process_offline_queue_end",n);d("MAWOfflineQueueStatus").markOfflineQueueComplete();return;case d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Failed:l.LOG(h(),q,r);d("MAWMIC").addPoint("worker_process_offline_queue_failed",n);d("MAWMIC").addPoint("worker_process_offline_queue_end",n);b({tag:"InitOfflineQueueSyncComplete",value:void 0});c("promiseDone")(m(a));d("MAWOfflineQueueStatus").markThreadWithOfflineQueueStatus(f,d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Failed);d("MAWOfflineQueueStatus").markOfflineQueueComplete();return}}}g["default"]=a}),98);
__d("ReverbWriteFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5829");b=d("FalcoLoggerInternal").create("reverb_write_failure",a);e=b;g["default"]=e}),98);
__d("ReverbWriteSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5831");b=d("FalcoLoggerInternal").create("reverb_write_success",a);e=b;g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("LSClientSchemaType",[],(function(a,b,c,d,e,f){"use strict";a="maw";f.MAW_SCHEMA_NAME=a}),66);
__d("MAWDbVersionList",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}b={V21:21,V22:22,V23:23,V24:24,V25:25,V26:26,V27:27,V28:28,V29:29,V30:30,V31:31,V32:32,V33:33,V34:34,V35:35,V36:36,V37:37,V38:38,V39:39,V40:40,V41:41,V42:42,V43:43,V44:44,V45:45,V46:46,V47:47,V48:48,V49:49,V50:50,V51:51,V52:52,V53:53,V54:54,V55:55,V56:56,V57:57,V58:58,V59:59,V60:60,V61:61,V62:62,V63:63,V64:64,V65:65,V66:66,V67:67,V68:68,V69:69,V70:70,V71:71,V72:72,V73:73,V74:74,V75:75,V76:76,V77:77,V78:78,V79:79,V80:80,V81:81,V82:82,V83:83,V84:84,V85:85,V86:86,V87:87,V88:88,V89:89,V90:90,V91:91,V92:92,V93:93,V94:94,V95:95,V96:96,V97:97,V98:98,V99:99,V100:100,V101:101,V102:102,V103:103,V104:104,V105:105,V106:106,V107:107,V108:108,V109:109,V110:110,V111:111,V112:112,V113:113,V114:114,V115:115,V116:116,V117:117,V118:118,V119:119,V120:120,V121:121};f.toVersion=a;f.VERSION=b}),66);
__d("MAWDbSchema",["MAWDbVersionList"],(function(a,b,c,d,e,f,g){"use strict";a=[{autoIncrement:!0,indexes:{externalId:{columns:["externalId"]}},name:"e2ee_appData",primaryKey:["appDataId"]},{autoIncrement:!1,indexes:{},name:"e2ee_meta",primaryKey:["key"]},{autoIncrement:!1,indexes:{},name:"e2ee_appMeta",primaryKey:["key"]},{autoIncrement:!1,indexes:{},name:"e2ee_prekey",primaryKey:["keyId"]},{autoIncrement:!1,indexes:{},name:"e2ee_prekeyGeneration",primaryKey:["generationId"]},{autoIncrement:!1,indexes:{},name:"e2ee_session",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_signedPrekey",primaryKey:["keyId"]},{autoIncrement:!1,indexes:{},name:"e2ee_tasks",primaryKey:["taskName"]},{autoIncrement:!1,indexes:{groupJid:{columns:["groupJid"],unique:!1},userJid:{columns:["userJid"],unique:!1}},name:"e2ee_senderKeySessions",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_personalSenderKeyStatuses",primaryKey:["groupJid"]},{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},thread:{columns:["thread"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{externalIdWithType:{columns:["externalIdWithType"],unique:!1}},name:"e2ee_pendingStanzas",primaryKey:["rowId"]},{autoIncrement:!1,indexes:{threadId:{columns:["threadId"],unique:!1},userJid:{columns:["userJid"],unique:!1}},name:"e2ee_participants",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_contacts",primaryKey:["contactJid"]},{autoIncrement:!1,indexes:{},name:"e2ee_receipts",primaryKey:["msgId"]},{autoIncrement:!0,indexes:{"*msgIds":{columns:["msgIds"],multiEntry_DO_NOT_USE:!0},hashedPlaintextHash:{columns:["hashedPlaintextHash"]}},name:"e2ee_media",primaryKey:["mediaId"]},{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},reactionId:{columns:["reactionId"],unique:!1},reactToExternalId:{columns:["reactToExternalId"],unique:!1},reactToMsgId:{columns:["reactToMsgId"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_reactions",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{hashedPlaintextHash:{columns:["hashedPlaintextHash"]}},name:"e2ee_chunk",primaryKey:["chunkId"]},{autoIncrement:!0,indexes:{jid:{columns:["jid"]},threadOrder:{columns:["threadOrder"],unique:!1}},name:"e2ee_threads",primaryKey:["chatId"]},{autoIncrement:!1,indexes:{},name:"e2ee_existingUsers",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_pendingReceipts",primaryKey:["id"]},{autoIncrement:!0,indexes:{version:{columns:["version"]}},name:"e2ee_browserEncryptionMeta",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsBackloggedMessages",primaryKey:["rowId"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsEncryptionMeta",primaryKey:["key"]},{autoIncrement:!0,indexes:{"*prefixes":{columns:["prefixes"],multiEntry_DO_NOT_USE:!0,unique:!1},chatId:{columns:["chatId"],unique:!1},id:{columns:["id"],unique:!1}},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"]},{autoIncrement:!0,indexes:{uniqKey:{columns:["uniqKey"]}},name:"e2ee_jobs",primaryKey:["jobId"]},{autoIncrement:!1,indexes:{},name:"e2ee_identity",primaryKey:["deviceJid"]},{autoIncrement:!1,indexes:{threadId:{columns:["threadId"],unique:!1}},name:"e2ee_groupInfo",primaryKey:["groupJid"]}];b=[{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}];c=[{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}];e=[{autoIncrement:!0,indexes:{},name:"e2ee_isDualSend",primaryKey:["rowId"]}];f=[{autoIncrement:!1,indexes:{},name:"e2ee_historySyncQRCodeSecretKey",primaryKey:["key"]}];var h=[{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},messageDeleteForMeTs:{columns:["messageDeleteForMeTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]}],i=[{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},messageDeleteForMeTs:{columns:["messageDeleteForMeTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]}],j=[{autoIncrement:!1,indexes:{inviterJid:{columns:["inviterJid"],unique:!1}},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId"]}],k=[{autoIncrement:!0,indexes:{deleteTs:{columns:["deleteTs"],unique:!1},externalIdWithType:{columns:["externalIdWithType"],unique:!1}},name:"e2ee_pendingStanzas",primaryKey:["rowId"]}],l=[{autoIncrement:!0,indexes:{"*msgIds":{columns:["msgIds"],multiEntry_DO_NOT_USE:!0},fbid:{columns:["fbid"]},hashedPlaintextHash:{columns:["hashedPlaintextHash"]},objectId:{columns:["objectId"]}},name:"e2ee_media",primaryKey:["mediaId"]}],m=[{autoIncrement:!0,indexes:{},name:"e2ee_dualSendMedia",primaryKey:["id"]}],n=[{autoIncrement:!0,indexes:{associatedMessageId:{columns:["associatedMessageId"],unique:!1},defaultPreviewMediaId:{columns:["defaultPreviewMediaId"],unique:!1},faviconMediaId:{columns:["faviconMediaId"],unique:!1},headerMediaId:{columns:["headerMediaId"],unique:!1},targetExpiringAtSec:{columns:["targetExpiringAtSec"],unique:!1}},name:"e2ee_xma",primaryKey:["xmaId"]}],o=[{autoIncrement:!1,indexes:{},name:"e2ee_historySyncQRCodeData",primaryKey:["rowId"]}],p=[{autoIncrement:!0,indexes:{associatedMessageId:{columns:["associatedMessageId"],unique:!1},defaultPreviewMediaId:{columns:["defaultPreviewMediaId"],unique:!1},externalId:{columns:["externalId"],unique:!1},faviconMediaId:{columns:["faviconMediaId"],unique:!1},headerMediaId:{columns:["headerMediaId"],unique:!1},targetExpiringAtSec:{columns:["targetExpiringAtSec"],unique:!1}},name:"e2ee_xma",primaryKey:["xmaId"]}],q=[{autoIncrement:!0,indexes:{},name:"e2ee_dyiBatch",primaryKey:["batchId"]}],r=[{autoIncrement:!1,indexes:{correspondingOpenThreadKey:{columns:["correspondingOpenThreadKey"],unique:!1},threadId:{columns:["threadId"],unique:!1}},name:"e2ee_groupInfo",primaryKey:["groupJid"]}],s=[{autoIncrement:!1,indexes:{},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId","inviterJid"],removed:!0}],t=[{autoIncrement:!1,indexes:{inviterJid:{columns:["inviterJid"],unique:!1}},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId","inviterJid"]}],u=[{autoIncrement:!0,indexes:{"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteForMeTs:{columns:["messageDeleteForMeTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]}],v=[{autoIncrement:!1,indexes:{"[modelId+modelType+actionState]":{columns:["modelId","modelType","actionState"],unique:!1},action:{columns:["action"],unique:!1},actionState:{columns:["actionState"],unique:!1},collection:{columns:["collection"],unique:!1},indexMac:{columns:["indexMac"],unique:!1}},name:"e2ee_syncActions",primaryKey:["index"]}],w=[{autoIncrement:!1,indexes:{},name:"e2ee_missingKeys",primaryKey:["keyHex"]}],x=[{autoIncrement:!0,indexes:{action:{columns:["action"],unique:!1},collection:{columns:["collection"],unique:!1},index:{columns:["index"],unique:!1}},name:"e2ee_pendingMutations",primaryKey:["id"]}],y=[{autoIncrement:!0,indexes:{collection:{columns:["collection"]}},name:"e2ee_collectionVersions",primaryKey:["id"]}],z=[{autoIncrement:!0,indexes:{keyEpoch:{columns:["keyEpoch"],unique:!1},keyId:{columns:["keyId"]}},name:"e2ee_syncKeys",primaryKey:["id"]}],A=[{autoIncrement:!1,indexes:{userJid:{columns:["userJid"],unique:!1}},name:"e2ee_identity",primaryKey:["deviceJid"]}],B=[{autoIncrement:!1,indexes:{externalId:{columns:["externalId"],unique:!1},lastRetryTs:{columns:["lastRetryTs"],unique:!1},traceId:{columns:["traceId"],unique:!1}},name:"e2ee_uploadRetryStatus",primaryKey:["externalId","lastRetryTs"]}],C=[{autoIncrement:!0,indexes:{jid:{columns:["jid"],unique:!1},stanzaId:{columns:["stanzaId"],unique:!1},type:{columns:["type"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],D=[{autoIncrement:!0,indexes:{},name:"e2ee_deviceChangeAlerts",primaryKey:["deviceChangeAlertsId"]}],E=[{autoIncrement:!1,indexes:{},name:"e2ee_retroactiveBackupsState",primaryKey:["threadId"]}],F=[{autoIncrement:!0,indexes:{deduplicationKey:{columns:["deduplicationKey"],predicate:function(a){return a.deduplicationKey!=null}},jid:{columns:["jid"]},threadOrder:{columns:["threadOrder"],unique:!1}},name:"e2ee_threads",primaryKey:["chatId"]}],G=[{autoIncrement:!0,indexes:{mediaId:{columns:["mediaId"],unique:!1},msgId:{columns:["msgId"],unique:!1},objectId:{columns:["objectId"]}},name:"e2ee_mediaBackup",primaryKey:["mediaBackupId"]}],H=[{autoIncrement:!0,indexes:{authoritativeThreadKey:{columns:["authoritativeThreadKey"]},deduplicationKey:{columns:["deduplicationKey"],predicate:function(a){return a.deduplicationKey!=null}},jid:{columns:["jid"]},threadOrder:{columns:["threadOrder"],unique:!1}},name:"e2ee_threads",primaryKey:["chatId"]}],I=[{autoIncrement:!0,indexes:{"[jid+type]":{columns:["jid","type"],unique:!1},jid:{columns:["jid"],unique:!1},stanzaId:{columns:["stanzaId"],unique:!1},type:{columns:["type"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],J=[{autoIncrement:!0,indexes:{originalMsgExternalId:{columns:["originalMsgExternalId"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_editMsgHistory",primaryKey:["editMsgHistoryId"]}],K=[{autoIncrement:!1,indexes:{},name:"e2ee_ftsBackloggedMessages",primaryKey:["rowId"],removed:!0},{autoIncrement:!1,indexes:{},name:"e2ee_ftsEncryptionMeta",primaryKey:["key"],removed:!0},{autoIncrement:!0,indexes:{},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"],removed:!0}],L=[{autoIncrement:!0,indexes:{"*msgIds":{columns:["msgIds"],multiEntry_DO_NOT_USE:!0},fbid:{columns:["fbid"],unique:!1},hashedPlaintextHash:{columns:["hashedPlaintextHash"]},objectId:{columns:["objectId"],unique:!1}},name:"e2ee_media",primaryKey:["mediaId"]}],M=[{autoIncrement:!0,indexes:{},name:"e2ee_ebRestoreQueue",primaryKey:["queueId"]},{autoIncrement:!0,indexes:{},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],N=[{autoIncrement:!0,indexes:{"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebRestoreQueue",primaryKey:["queueId"]},{autoIncrement:!0,indexes:{"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],O=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],unique:!1},"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],P=[{autoIncrement:!0,indexes:{},name:"e2ee_jobs",primaryKey:[],removed:!0}],Q=[{autoIncrement:!0,indexes:{},name:"e2ee_danglingQueue",primaryKey:["queueId"]}],R=[{autoIncrement:!0,indexes:{dbVersion:{columns:["dbVersion"],unique:!1}},name:"e2ee_staleQueue",primaryKey:["staleQueueId"]}],S=[{autoIncrement:!0,indexes:{"[offlineThreadingId+backupActionType]":{columns:["offlineThreadingId","backupActionType"],unique:!1},"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},backupActionType:{columns:["backupActionType"],unique:!1},msgIdKey:{columns:["msgIdKey"],unique:!1},offlineThreadingId:{columns:["offlineThreadingId"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],T=[{autoIncrement:!1,indexes:{},name:"e2ee_ftsBackloggedMessages",primaryKey:["rowId"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsEncryptionMeta",primaryKey:["key"]},{autoIncrement:!0,indexes:{"*prefixes":{columns:["prefixes"],multiEntry_DO_NOT_USE:!0,unique:!1},chatId:{columns:["chatId"],unique:!1},id:{columns:["id"],unique:!1}},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"]}],U=[{autoIncrement:!1,indexes:{"[threadJid+userJid]":{columns:["threadJid","userJid"],unique:!1},threadId:{columns:["threadId"],unique:!1},userJid:{columns:["userJid"],unique:!1}},name:"e2ee_participants",primaryKey:["id"]}],V=[{autoIncrement:!0,indexes:{},name:"e2ee_pendingMessageStanzaQueue",primaryKey:["pendingMessageStanzaQueueId"]}],W=[{autoIncrement:!0,indexes:{author:{columns:["author"],unique:!1},chat:{columns:["chat"],unique:!1},externalId:{columns:["externalId"],unique:!1}},name:"e2ee_deletedMessages",primaryKey:["rowId"]}],X=[{autoIncrement:!0,indexes:{threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_ebMsgRanges",primaryKey:["rangeId"]}],Y=[{autoIncrement:!1,indexes:{inviterJid:{columns:["inviterJid"],unique:!1},threadJid:{columns:["threadJid","inviteeJid"],unique:!1}},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId","inviterJid"]}],Z=[{autoIncrement:!1,indexes:{waMsgId:{columns:["waMsgId"]}},name:"e2ee_receipts",primaryKey:["msgId"]}],$=[{autoIncrement:!0,indexes:{"[jid+priority]":{columns:["jid","priority"],unique:!1},"[jid+type]":{columns:["jid","type"],unique:!1},jid:{columns:["jid"],unique:!1},priority:{columns:["priority"],unique:!1},stanzaId:{columns:["stanzaId"],unique:!1},type:{columns:["type"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],aa=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],unique:!1},"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],ba=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],predicate:function(a){return a.serverTs!=null},unique:!1},"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],ca=[{autoIncrement:!1,dexieOnly_primaryKeyUnique:!0,indexes:{ts:{columns:["ts"],unique:!1}},name:"e2ee_sentBytesCache",primaryKey:["waMsgId"]}],da=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],predicate:function(a){return a.serverTs!=null},unique:!1},"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],ea=[{autoIncrement:!0,indexes:{"[originalMsgExternalId+threadJid]":{columns:["originalMsgExternalId","threadJid"],unique:!1}},name:"e2ee_editMsgHistory",primaryKey:["editMsgHistoryId"]}],fa=[{autoIncrement:!0,indexes:{deviceJid:{columns:["deviceJid"],unique:!1},displayOrder:{columns:["isArchived","ts"],unique:!1},isConfirmedActionTs:{columns:["isConfirmed","action","ts"],unique:!1},isNotifiedTs:{columns:["isNotified","ts"],unique:!1}},name:"e2ee_deviceChangeAlerts",primaryKey:["deviceChangeAlertsId"]},{autoIncrement:!1,indexes:{threadId:{columns:["threadId"],unique:!1}},name:"e2ee_groupInfo",primaryKey:["groupJid"]}],ga=[{autoIncrement:!0,indexes:{"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},backupActionType:{columns:["backupActionType"],unique:!1},msgIdKey:{columns:["msgIdKey"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],ha=[{autoIncrement:!1,indexes:{},name:"e2ee_ephemeralSettings",primaryKey:["userJid"]}],ia=[{autoIncrement:!1,indexes:{ebClientRequired:{columns:["ebClientRequired","timestampMs"],unique:!1},restorable:{columns:["restorable","timestampMs"],unique:!1}},name:"e2ee_ebMessageRestoreTasks",primaryKey:["messageId"]}],ja=[{autoIncrement:!1,indexes:{},name:"e2ee_igMessageAuxiliaryInfo",primaryKey:["messageId"]}],ka=[{autoIncrement:!1,indexes:{plaintextHash:{columns:["plaintextHash"],unique:!1}},name:"e2ee_mediaKeys",primaryKey:["ciphertextHash"]}],la=[{autoIncrement:!0,indexes:{"[jid+priority]":{columns:["jid","priority"],unique:!1},jid:{columns:["jid"],unique:!1},priority:{columns:["priority"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],ma=[{autoIncrement:!1,indexes:{"[threadJid+userJid]":{columns:["threadJid","userJid"],unique:!1},userJid:{columns:["userJid"],unique:!1}},name:"e2ee_participants",primaryKey:["id"]}],na=[{autoIncrement:!1,indexes:{},name:"e2ee_groupInfo",primaryKey:["groupJid"]}],oa=[{autoIncrement:!0,indexes:{},name:"e2ee_ebRestoreQueue",primaryKey:["queueId"]}],pa=[{autoIncrement:!1,indexes:{},name:"e2ee_ftsPurgeBacklog",primaryKey:["externalId"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsPurgeThreadBacklog",primaryKey:["chatJid"]}],qa=[{autoIncrement:!0,indexes:{"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],ra=[{autoIncrement:!0,indexes:{"*prefixes":{columns:["prefixes"],multiEntry_DO_NOT_USE:!0,unique:!1},chatId:{columns:["chatId"],unique:!1},id:{columns:["id"],unique:!1}},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"],removed:!0}],sa=[{autoIncrement:!0,indexes:{fbid:{columns:["fbid"],unique:!1},hashedPlaintextHash:{columns:["hashedPlaintextHash"]},objectId:{columns:["objectId"],unique:!1}},name:"e2ee_media",primaryKey:["mediaId"]}],ta=[{autoIncrement:!1,indexes:{},name:"e2ee_retroactiveBackupsState",primaryKey:["threadId"],removed:!0}],ua=[{autoIncrement:!1,indexes:{},name:"e2ee_uploadRetryStatus",primaryKey:[],removed:!0}],va=[{autoIncrement:!1,indexes:{},name:"e2ee_receiverFetchInfo",primaryKey:["receiverFetchId"]}],wa=[{autoIncrement:!0,indexes:{"[threadJid+ts]":{columns:["threadJid","ts"],unique:!1},externalId:{columns:["externalId"],unique:!1},reactionId:{columns:["reactionId"],unique:!1},reactToExternalId:{columns:["reactToExternalId"],unique:!1},reactToMsgId:{columns:["reactToMsgId"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},ts:{columns:["ts"],unique:!1}},name:"e2ee_reactions",primaryKey:["rowId"]}],xa=[{autoIncrement:!0,indexes:{"*msgIds":{columns:["msgIds"],multiEntry_DO_NOT_USE:!0},fbid:{columns:["fbid"],unique:!1},hashedPlaintextHash:{columns:["hashedPlaintextHash"]},objectId:{columns:["objectId"],unique:!1}},name:"e2ee_media",primaryKey:["mediaId"]}],ya=[{autoIncrement:!0,indexes:{"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExpirationTs:{columns:["quoteExpirationTs"],predicate:function(a){return a.quoteExpirationTs!=null},unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],za=[{autoIncrement:!0,indexes:{"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},ack:{columns:["ack"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExpirationTs:{columns:["quoteExpirationTs"],predicate:function(a){return a.quoteExpirationTs!=null},unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],Aa=[{autoIncrement:!0,indexes:{"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},ack:{columns:["ack"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},protocolMsgId:{columns:["protocolMsgId"],unique:!0},quoteExpirationTs:{columns:["quoteExpirationTs"],predicate:function(a){return a.quoteExpirationTs!=null},unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],Ba=[{autoIncrement:!0,indexes:{version:{columns:["version"],unique:!0}},name:"e2ee_encryptionMetaV3",primaryKey:["id"]}];a=new Map([[(d=d("MAWDbVersionList")).VERSION.V21,a],[d.VERSION.V22,b],[d.VERSION.V23,c],[d.VERSION.V24,e],[d.VERSION.V25,f],[d.VERSION.V30,h],[d.VERSION.V31,i],[d.VERSION.V32,j],[d.VERSION.V33,k],[d.VERSION.V34,l],[d.VERSION.V35,m],[d.VERSION.V36,n],[d.VERSION.V37,o],[d.VERSION.V38,p],[d.VERSION.V39,q],[d.VERSION.V40,r],[d.VERSION.V41,s],[d.VERSION.V42,t],[d.VERSION.V45,u],[d.VERSION.V48,v],[d.VERSION.V49,w],[d.VERSION.V50,x],[d.VERSION.V51,y],[d.VERSION.V52,z],[d.VERSION.V57,A],[d.VERSION.V59,B],[d.VERSION.V61,C],[d.VERSION.V62,D],[d.VERSION.V63,E],[d.VERSION.V64,F],[d.VERSION.V65,G],[d.VERSION.V67,H],[d.VERSION.V69,I],[d.VERSION.V70,J],[d.VERSION.V73,K],[d.VERSION.V74,L],[d.VERSION.V75,M],[d.VERSION.V77,N],[d.VERSION.V78,O],[d.VERSION.V79,P],[d.VERSION.V80,Q],[d.VERSION.V81,R],[d.VERSION.V83,S],[d.VERSION.V84,T],[d.VERSION.V85,U],[d.VERSION.V86,V],[d.VERSION.V88,W],[d.VERSION.V89,X],[d.VERSION.V90,Y],[d.VERSION.V91,Z],[d.VERSION.V92,$],[d.VERSION.V93,aa],[d.VERSION.V94,ba],[d.VERSION.V95,ca],[d.VERSION.V96,da],[d.VERSION.V97,ea],[d.VERSION.V98,fa],[d.VERSION.V99,ga],[d.VERSION.V100,ha],[d.VERSION.V102,ia],[d.VERSION.V103,ja],[d.VERSION.V104,ka],[d.VERSION.V105,la],[d.VERSION.V106,ma],[d.VERSION.V107,na],[d.VERSION.V108,oa],[d.VERSION.V109,pa],[d.VERSION.V110,qa],[d.VERSION.V111,ra],[d.VERSION.V112,sa],[d.VERSION.V113,ta],[d.VERSION.V114,ua],[d.VERSION.V115,va],[d.VERSION.V116,wa],[d.VERSION.V117,xa],[d.VERSION.V118,ya],[d.VERSION.V119,za],[d.VERSION.V120,Aa],[d.VERSION.V121,Ba]]);b=["messages","unrenderedMessages","groupInfo","meta","identity","prekey","prekeyGeneration","session","signedPrekey","senderKeySessions","receipts","pendingReceipts","threads","contacts","participants","tasks","personalSenderKeyStatuses","appData","appMeta","chunk","mediaBackup","media","reactions","groupInvites","dyiBatch","syncActions","missingKeys","pendingMutations","collectionVersions","syncKeys","deviceChangeAlerts","xma","editMsgHistory","deletedMessages","ebMsgRanges","receiverFetchInfo"];g.dbSchema=a;g.TABLES_TO_ENCRYPT=b}),98);
__d("MAWGetDbVersion",["MAWDbVersionList","justknobx","objectValues"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function a(){var a;return(a=h)!=null?a:d("MAWDbVersionList").toVersion(c("justknobx")._("1716"))}function b(a){if(!c("justknobx")._("1495"))return;if(a==null){h=null;return h}if(a==="current"){h=null;return h}var b=Math.max.apply(Math,c("objectValues")(d("MAWDbVersionList").VERSION));if(a==="latest"){h=d("MAWDbVersionList").toVersion(b);return h}if(!Number.isInteger(a))return h;if(a<0){h=d("MAWDbVersionList").toVersion(b+a);return h}h=d("MAWDbVersionList").toVersion(a)}g.getArmadilloDbVersion=a;g.setArmadilloDbVersionForTest=b}),98);
__d("MAWDbSchema.restore",["MAWDbSchema","MAWGetDbVersion","objectEntries","sortBy"],(function(a,b,c,d,e,f,g){"use strict";a={e2ee_appData:!0,e2ee_appMeta:!0,e2ee_chunk:!0,e2ee_collectionVersions:!0,e2ee_deletedMessages:!0,e2ee_deviceChangeAlerts:!0,e2ee_dyiBatch:!0,e2ee_ebMessageRestoreTasks:!0,e2ee_ebMsgRanges:!0,e2ee_ebUploadQueue:!0,e2ee_editMsgHistory:!0,e2ee_encryptionMetaV3:!0,e2ee_ephemeralSettings:!0,e2ee_existingUsers:!0,e2ee_ftsBackloggedMessages:!0,e2ee_ftsEncryptionMeta:!0,e2ee_ftsIndexV3:!0,e2ee_ftsPurgeBacklog:!0,e2ee_ftsPurgeThreadBacklog:!0,e2ee_groupInfo:!0,e2ee_groupInvites:!0,e2ee_historySyncQRCodeData:!0,e2ee_historySyncQRCodeSecretKey:!0,e2ee_igMessageAuxiliaryInfo:!0,e2ee_isDualSend:!0,e2ee_media:!0,e2ee_mediaBackup:!0,e2ee_messages:!0,e2ee_missingKeys:!0,e2ee_participants:!0,e2ee_pendingMessageStanzaQueue:!0,e2ee_pendingMutations:!0,e2ee_pendingReceipts:!0,e2ee_pendingStanzas:!0,e2ee_reactions:!0,e2ee_receiverFetchInfo:!0,e2ee_syncActions:!0,e2ee_syncKeys:!0,e2ee_threads:!0,e2ee_unrenderedMessages:!0,e2ee_xma:!0};function h(a){var b=Object.fromEntries(c("objectEntries")(a.indexes).filter(function(a){a=a[1];return a.multiEntry_DO_NOT_USE!==!0}).map(function(b){var c=b[0];b=b[1];return[c,{columns:[].concat(b.columns,b.unique!==!1?[]:a.primaryKey),predicate:b.predicate}]}));b={auto_increment:a.autoIncrement===!0,indexes:b,name:a.name,primary_key:a.primaryKey};return b}var i=c("sortBy")(Array.from(d("MAWDbSchema").dbSchema.entries()),function(a){a=a[0];return a}).map(function(a){var b=a[0];a=a[1];return{schema:a,version:b}});b=function(a){return Array.from(i.filter(function(b){return b.version<=a&&b.schema!=null}).reduce(function(a,b){(b=b.schema)==null?void 0:b.forEach(function(b){if(b.removed===!0){a["delete"](b.name);return}a.set(b.name,h(b))});return a},new Map()).values())};e=b(d("MAWGetDbVersion").getArmadilloDbVersion());g.msgrDbStores=a;g.getSchemaForVersion=b;g.clientSchema=e}),98);
__d("LSDbSchema",["MAWDbSchema.restore"],(function(a,b,c,d,e,f){"use strict";a=importNamespace("MAWDbSchema.restore").clientSchema;f.clientSchema=a}),66);
__d("ReStoreMigrateUtil",["$InternalEnum","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;f=b("$InternalEnum").Mirrored(["UPDATE_METADATA","UPGRADE_COMPLETE","NO_UPGRADE_NEEDED"]);function a(a,b){b="V"+b;return b in a?b:null}function i(a,b){return j.apply(this,arguments)}function j(){j=babelHelpers.wrapAsyncGenerator(function*(a,b){a=a.iterator(new WeakMap());var c=[],d=(yield babelHelpers.awaitAsyncGenerator(a.next()));while(!d.done){var e=d.value;e[0];e=e[1];c.push(e);c.length===b&&(yield c,c=[]);d=(yield babelHelpers.awaitAsyncGenerator(a.next()))}c.length&&(yield c)});return j.apply(this,arguments)}function c(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){var f=!0,g=!1,j;try{for(var k=babelHelpers.asyncIterator(i(d("ReQL").fromTableAscending(a),100)),l,l;l=(yield k.next()),f=l.done,l=(yield l.value),!f;f=!0){l=l;yield (h||(h=b("Promise"))).all(l.map(function(b){return c(b).then(a.put)}));e==null?void 0:e()}}catch(a){g=!0,j=a}finally{try{!f&&k["return"]!=null&&(yield k["return"]())}finally{if(g)throw j}}});return k.apply(this,arguments)}function e(a,b){function c(b){if(b==null)return void 0;var c={};for(var d in b)c[a+"_"+d]=b[d];return c}return{bool:c(b.bool),"int":c(b["int"]),string:c(b.string)}}g.ReStoreMigrateResult=f;g.getVersionFromNumber=a;g.fetchReQLBatch=i;g.upgradeTableEntries=c;g.prefixAnnotations=e}),98);
__d("ReStoreDefaultValuesMetadata",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b={c:"string",t:"string"};for(var d in b){if(!Object.prototype.hasOwnProperty.call(a,d)||a[d]==null){c("FBLogger")("messenger_web_product").warn('Malformed default values data, missing key "%s"',d);return null}var e=a[d],f=b[d];e=typeof e;if(e!==f){c("FBLogger")("messenger_web_product").warn('Malformed default values data, key "%s" has type "%s" but expected "%s"',d,e,f);return null}}if(typeof a.c!=="string"||typeof a.t!=="string")return null;e=[];f=a.t;try{e=JSON.parse(a.c);for(d=0;d<e.length;d++){b=e[d];if(typeof b!=="string")return null}}catch(a){return null}return{columns:e,tableName:f}}function b(a){return{c:JSON.stringify(a.columns),t:a.tableName}}d="_db_defaults_meta";g.tryParseDefaultValuesData=a;g.defaultValuesColumnToValue=b;g.defaultValuesTableName=d}),98);
__d("ReStoreCommonUtils",["isPromise"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){function d(b){if(b.done)return b.value;return!(h||(h=c("isPromise")))(b.value)?d(a.next(b.value)):b.value.then(function(b){return d(a.next(b))})}return d(a.next(b))}g.gen=a}),98);
__d("ReStoreOperationLock",["ReStoreCommonUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a==="\u2757"}c=function(){function a(a){var b=this;this.isSync=!1;this.waitFor=null;this.waitFor=a.then(function(a){return b.waitFor=null})}var b=a.prototype;b.chainPromiseOrValue=function(a){if(this.waitFor!=null)return this.waitFor.then(function(){return a("\ud83d\udd12")});else return a("\ud83d\udd12")};return a}();e=function(){function a(){this.isSync=!0}var b=a.prototype;b.chainPromiseOrValue=function(a){return a("\u2757")};return a}();f=function(){function a(){this.isSync=!1,this.$1=Promise.resolve()}var b=a.prototype;b.chainPromiseOrValue=function(a){var b=this;return new Promise(function(c,d){b.$1=b.$1.then(async function(){try{c(await a("\ud83d\udd12"))}catch(a){d(a)}})})};return a}();function b(a,b){return{next:function(c){return b.chainPromiseOrValue(function(b){return d("ReStoreCommonUtils").gen(a.next(b,c))})}}}g.isNoopLockProof=a;g.WaitForPromiseLock=c;g.NoopLock=e;g.ReStoreOperationLock=f;g.lockIterator=b}),98);
__d("ReStoreIndex",["ReQLBounds","ReStoreOperationLock","ReStoreUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b,c,e,f){var g=this;this.entries=function(a,b,c){b===void 0&&(b="asc");return d("ReStoreOperationLock").lockIterator(d("ReStoreUtils").entries(g.$5,a,g.$1,g.$3,b,c,g.$2),g.$4)};this.get=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return g.$4.chainPromiseOrValue(function(a){return d("ReStoreUtils").getLocked(g.$5,new WeakMap(),g.$1.name,g.$3,b,a,g.$2)})};this.getKey=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return g.$4.chainPromiseOrValue(function(a){return g.$6(g.$5,new WeakMap(),b,a)})};this.keys=function(a,b,c){b===void 0&&(b="asc");return d("ReStoreOperationLock").lockIterator(d("ReStoreUtils").keys(g.$5,a,g.$1,g.$3,b,c),g.$4)};this.$3=a;this.keyFields=b.indexes[a];this.$1=b;this.$2=c;this.$4=e;this.$5=f}var b=a.prototype;b.$6=function(a,b,c,e){var f=this;a=d("ReStoreUtils").getLocked(a,b,this.$1.name,this.$3,c,e,this.$2);return a.then(function(a){return a===void 0?void 0:d("ReStoreUtils").searchKey(f.$1,a)})};return a}();b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);c=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e,f,g,i){var j;j=a.call(this,b,c,e,f,g)||this;j.subscribe=function(a,b,c){return j.$ReStoreIndex$p_3.subscribeIndex(j.$ReStoreIndex$p_1.name,j.$ReStoreIndex$p_2,a,(h||(h=d("ReQLBounds"))).extendBounds(b,j.$ReStoreIndex$p_1.indexes[j.$ReStoreIndex$p_2].length),c)};j.$ReStoreIndex$p_2=b;j.$ReStoreIndex$p_1=c;j.$ReStoreIndex$p_3=i;return j}return b}(a);g.ReStoreTransactionIndex=b;g.ReStoreIndex=c}),98);
__d("ReStoreTable",["I64","LSSynchronousPromise","PromiseOrValue","ReQLBounds","ReStoreCommonUtils","ReStoreIndex","ReStoreOperationLock","ReStoreUtils","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){a=(h||(h=d("I64"))).cast(a);if(a===void 0)throw c("unrecoverableViolation")("Expected int64","messenger_web_product");return h.to_float(a)}function l(a,b,c,d,e){b=JSON.stringify([b,c]);c=a.get(b);a.set(b,[c==null?d:c[0],e])}a=function(){function a(a,b,e,f){var g=this;this.entries=function(a,b,c){b===void 0&&(b="asc");return d("ReStoreOperationLock").lockIterator(d("ReStoreUtils").entries(g.$4,a,g.$1,void 0,b,c,g.$2),g.$3)};this.get=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return g.$3.chainPromiseOrValue(function(a){return d("ReStoreUtils").getLocked(g.$4,new WeakMap(),g.$1.name,void 0,b,a,g.$2)})};this.keys=function(a,b,c){b===void 0&&(b="asc");return d("ReStoreOperationLock").lockIterator(d("ReStoreUtils").keys(g.$4,a,g.$1,void 0,b,c),g.$3)};this.peekNextAutoIncrementId=function(){return g.$5(g.$3.chainPromiseOrValue(function(a){a=g.$1.autoIncrement;if(!a)throw c("unrecoverableViolation")("only supported for auto-incrementing tables","maw_db");return d("LSSynchronousPromise").wrapInMaybeSyncPromiseIfNotPromise(d("ReStoreCommonUtils").gen(g.$4.table(g.$1.name).readSeed(new WeakMap()))).then(function(a){if(a===void 0)throw c("unrecoverableViolation")("unexpected undefined autoIncrementSeed","maw_db");return(h||(h=d("I64"))).of_float(a)})}))};this.keyFields=a.primaryKeyIds;this.$1=a;this.$2=b;this.$3=e;this.$4=f}var b=a.prototype;b.$5=function(a){return this.$3.isSync?d("LSSynchronousPromise").wrapInMaybeSyncPromiseIfNotPromise(a):Promise.resolve(a)};return a}();b=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e,f,g,h,j,k,l,m){var n;b=c.tableNames[b];n=a.call(this,b,e,f,g)||this;n.$ReStoreTransactionTable$p_1=new Map();n.$ReStoreTransactionTable$p_10=new Map();n.add=function(a){return n.$ReStoreTransactionTable$p_12((i||(i=d("PromiseOrValue"))).map(i.map(n.$ReStoreTransactionTable$p_4.beforeAdd({tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:a}),function(a){return n.$ReStoreTransactionTable$p_13(function(b,c){var e;(e=n.$ReStoreTransactionTable$p_9)==null?void 0:e.recordLogicalWrite();return d("ReStoreCommonUtils").gen(n.$ReStoreTransactionTable$p_14(n.$ReStoreTransactionTable$p_10,c,new WeakMap(),n.$ReStoreTransactionTable$p_3.name,a,b))})}),function(b){return(i||(i=d("PromiseOrValue"))).map(n.$ReStoreTransactionTable$p_4.afterAdd({key:b,tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:a}),function(){return b})}))};n.delete=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return n.$ReStoreTransactionTable$p_12((i||(i=d("PromiseOrValue"))).map(n.$ReStoreTransactionTable$p_4.beforeDelete({key:b,tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8}),function(a){return n.$ReStoreTransactionTable$p_13(function(b,c){var e=babelHelpers.assertThisInitialized(n);return d("ReStoreCommonUtils").gen(function*(){var f;(f=e.$ReStoreTransactionTable$p_9)==null?void 0:f.recordLogicalWrite();yield* d("ReStoreUtils").deleteItemLocked(e.$ReStoreTransactionTable$p_2,e.$ReStoreTransactionTable$p_10,c,new WeakMap(),e.$ReStoreTransactionTable$p_3.name,a,b);yield* d("ReStoreUtils").cascadeKeyUpdatesLocked(e.$ReStoreTransactionTable$p_2,e.$ReStoreTransactionTable$p_10,c,new WeakMap(),e.$ReStoreTransactionTable$p_3.name,a,void 0,e.$ReStoreTransactionTable$p_4,b,e.$ReStoreTransactionTable$p_11)}())})}))};n.put=function(a){return n.$ReStoreTransactionTable$p_12((i||(i=d("PromiseOrValue"))).map(i.map(n.$ReStoreTransactionTable$p_4.beforePut({tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:a}),function(a){return n.$ReStoreTransactionTable$p_13(function(b,c){var e;(e=n.$ReStoreTransactionTable$p_9)==null?void 0:e.recordLogicalWrite();return d("ReStoreCommonUtils").gen(d("ReStoreUtils").putLocked(n.$ReStoreTransactionTable$p_2,n.$ReStoreTransactionTable$p_10,c,new WeakMap(),n.$ReStoreTransactionTable$p_3.name,a,n.$ReStoreTransactionTable$p_4,b,n.$ReStoreTransactionTable$p_11))})}),function(b){return(i||(i=d("PromiseOrValue"))).map(n.$ReStoreTransactionTable$p_4.afterPut({key:b,tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:a}),function(){return b})}))};n.upsert=function(a,b){return n.$ReStoreTransactionTable$p_12((i||(i=d("PromiseOrValue"))).map(n.$ReStoreTransactionTable$p_4.beforeUpsert({tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:b}),function(c){return n.$ReStoreTransactionTable$p_13(function(e,f){var g=babelHelpers.assertThisInitialized(n);return d("ReStoreCommonUtils").gen(function*(){var h;(h=g.$ReStoreTransactionTable$p_9)==null?void 0:h.recordLogicalWrite();yield* d("ReStoreUtils").upsertLocked(g.$ReStoreTransactionTable$p_2,g.$ReStoreTransactionTable$p_10,f,new WeakMap(),g.$ReStoreTransactionTable$p_3.name,a,c,g.$ReStoreTransactionTable$p_4,e,g.$ReStoreTransactionTable$p_11);yield* d("ReStoreUtils").cascadeKeyUpdatesLocked(g.$ReStoreTransactionTable$p_2,g.$ReStoreTransactionTable$p_10,f,new WeakMap(),g.$ReStoreTransactionTable$p_3.name,a,d("ReStoreUtils").searchKey(g.$ReStoreTransactionTable$p_3,b),g.$ReStoreTransactionTable$p_4,e,g.$ReStoreTransactionTable$p_11)}())})}))};n.index=function(a){return d("ReStoreUtils").getOrCreate(n.$ReStoreTransactionTable$p_1,a,function(){return new(d("ReStoreIndex").ReStoreTransactionIndex)(a,n.$ReStoreTransactionTable$p_3,n.$ReStoreTransactionTable$p_4,n.$ReStoreTransactionTable$p_5,n.$ReStoreTransactionTable$p_6)})};n.$ReStoreTransactionTable$p_3=b;n.$ReStoreTransactionTable$p_2=c;n.$ReStoreTransactionTable$p_4=e;n.$ReStoreTransactionTable$p_5=f;n.$ReStoreTransactionTable$p_6=g;n.$ReStoreTransactionTable$p_7=h;n.$ReStoreTransactionTable$p_8=j;n.$ReStoreTransactionTable$p_9=k;n.$ReStoreTransactionTable$p_10=l;n.$ReStoreTransactionTable$p_11=m;return n}var c=b.prototype;c.$ReStoreTransactionTable$p_12=function(a){return this.$ReStoreTransactionTable$p_5.isSync?d("LSSynchronousPromise").wrapInMaybeSyncPromiseIfNotPromise(a):Promise.resolve(a)};c.$ReStoreTransactionTable$p_13=function(a){var b=this;return this.$ReStoreTransactionTable$p_5.chainPromiseOrValue(function(c){var e=b.$ReStoreTransactionTable$p_6.createNested(b.$ReStoreTransactionTable$p_9);return(i||(i=d("PromiseOrValue"))).map(a(c,e),function(a){e.flush();return a})})};c.$ReStoreTransactionTable$p_14=function*(a,b,c,e,f,g){var i=b.table(e),j=this.$ReStoreTransactionTable$p_2.tableNames[e];if(j.autoIncrement){var m=f[j.primaryKeyIds[0]];m=(h||(h=d("I64"))).of_float(yield* i.incrementSeed(c,m===void 0?m:k(m)));f[j.primaryKeyIds[0]]=m}m=d("ReStoreUtils").appendDefaultValues(f,j.name,this.$ReStoreTransactionTable$p_11);f=d("ReStoreUtils").searchKey(j,m);if(f==null)throw new Error("Evaluating the object store's key path did not yield a value");if((yield* i.tableGet(c,f))==null){j=d("ReStoreUtils").indicesWithKeyForValue(this.$ReStoreTransactionTable$p_3,Object.keys(j.indexes),m);yield* d("ReStoreUtils").deconflictIndicesLocked(this.$ReStoreTransactionTable$p_2,a,b,c,e,j,this.$ReStoreTransactionTable$p_4,g,this.$ReStoreTransactionTable$p_11);g=(yield* i.tableSet(c,f,m));i=g[0];yield* d("ReStoreUtils").addIdToIndices(b,c,e,i,j);l(a,e,f,void 0,m)}return f};return b}(a);e=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e,f,g){var h;h=a.call(this,b,c,e,f)||this;h.$ReStoreTable$p_1=new Map();h.index=function(a){return d("ReStoreUtils").getOrCreate(h.$ReStoreTable$p_1,a,function(){return new(d("ReStoreIndex").ReStoreIndex)(a,h.$ReStoreTable$p_2,h.$ReStoreTable$p_3,h.$ReStoreTable$p_4,h.$ReStoreTable$p_5,h.$ReStoreTable$p_6)})};h.subscribe=function(a,b,c){return h.$ReStoreTable$p_6.subscribeTable(h.$ReStoreTable$p_2.name,a,(j||(j=d("ReQLBounds"))).extendBounds(b,h.$ReStoreTable$p_2.primaryKeyIds.length),c)};h.$ReStoreTable$p_2=b;h.$ReStoreTable$p_3=c;h.$ReStoreTable$p_4=e;h.$ReStoreTable$p_5=f;h.$ReStoreTable$p_6=g;return h}return b}(a);g.ReStoreTransactionTable=b;g.ReStoreTable=e}),98);
__d("LSStorage",["ReStoreKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return(h||(h=d("ReStoreKeyComparer"))).compareKey(a,b)===0}g.areKeysEqual=a}),98);
__d("ReStoreUtils",["I64","LSStorage","LSSynchronousPromise","Random","ReQLBounds","ReStoreCommonUtils","ReStoreKeyComparer","ReStoreOperationLock","ReStoreTable","gkx","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=500;async function a(a){var b=[],c=await a.next();while(!c.done)b.push(c.value),c=await a.next();return b}function l(a,b,d){var e=a.indexes;a=a.primaryKeyIds;a=d==null?a:e[d];return a.map(function(a){if(b[a]!==void 0||d!=null)return b[a];throw c("unrecoverableViolation")("primary key must be defined on object","maw_db")})}function m(a,b,c){var d=c[b];return!d?a:Object.keys(d).reduce(function(a,b){Object.prototype.hasOwnProperty.call(a,b)||(a[b]=d[b]);return a},babelHelpers.extends({},a))}function n(a,b,c,e,f,g,i){function j(){var k=a.table(c.name),l=babelHelpers.extends({},(h||(h=d("ReQLBounds"))).extendBounds(g,(e===void 0?c.primaryKeyIds:c.indexes[e]).length),{dir:f}),m=e==null?k.tableEntries(b,l):k.indexEntries(b,e,l);return k={next:function*(a,b){a=(yield* m.next(b));if(a.done)return{done:!0};b=a.value[1];return{done:!1,value:[a.value[0],i==null?b:i.afterEntriesNext({tableName:c.name,value:b})]}}},k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=j,k}return j()}function b(a,b,c,e,f,g){function i(){var j=a.table(c.name),k=j.keys(b,e,babelHelpers.extends({},(h||(h=d("ReQLBounds"))).extendBounds(g,(e===void 0?c.primaryKeyIds:c.indexes[e]).length),{dir:f}));return j={next:function*(a,b){return yield* k.next(b)}},j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=i,j}return i()}function e(a,b,c,e,f,g,h){a=a.table(c);g=d("ReStoreOperationLock").isNoopLockProof(g)?d("LSSynchronousPromise").wrapInMaybeSyncPromiseIfNotPromise:Promise.resolve.bind(Promise);e!=null?e=g(d("ReStoreCommonUtils").gen(a.indexGet(b,e,f))):e=g(d("ReStoreCommonUtils").gen(a.tableGet(b,f)));return e.then(function(a){return a===void 0?void 0:h.afterGet({tableName:c,value:a})})}function o(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}function p(a){a=(i||(i=d("I64"))).cast(a);if(a===void 0)throw c("unrecoverableViolation")("Expected int64","messenger_web_product");return i.to_float(a)}function q(a,b,c,d,e){b=JSON.stringify([b,c]);c=a.get(b);(c==null?d:c[0])==null&&e==null?a.delete(b):a.set(b,[c==null?d:c[0],e])}function* r(a,b,c,e,f,g,h,i,k,m){function o(a,b){return a.length>=b?a:[].concat(a,[(j||(j=d("ReStoreKeyComparer"))).MAX_KEY])}if(h!=null&&(j||(j=d("ReStoreKeyComparer"))).compareKey(g,h)===0)return;f=a.tableNames[f];var p=f.cascadeUpdates,q=f.primaryKeyIds;f=function*(d){var f=d.indexName;d=d.tableName;var j=a.tableNames[d],p=j.indexes,s=j.primaryKeyIds,v=f==null?s:p[f];s={gte:g,lte:o(g,v.length)};p=n(c,e,j,f,"asc",s);j=[];f=(yield* p.next(k));while(!f.done)j.push(f.value),f=(yield* p.next(k));for(s of j){s[0];p=s[1];f=l(a.tableNames[d],p);if(h===void 0)yield* u(a,b,c,e,d,f,k),yield* r(a,b,c,e,d,f,void 0,i,k,m);else{j=q.reduce(function(a,b,c){if(c>=h.length)return a;a[v[c]]=h[c];return a},babelHelpers.extends({},p));yield* t(a,b,c,e,d,f,j,i,k,m);yield* r(a,b,c,e,d,f,l(a.tableNames[d],j),i,k,m)}}};for(p of p)yield* f(p)}function* s(a,b,c,e,f,g,h,k,n){var o=c.table(f),r=a.tableNames[f];if(r.autoIncrement){var s=g[r.primaryKeyIds[0]];s=(i||(i=d("I64"))).of_float(yield* o.incrementSeed(e,s===void 0?s:p(s)));g[r.primaryKeyIds[0]]=s}s=l(r,g);var t={},u=(yield* o.tableGet(e,s)),y=g;u!==void 0?t=v(r,Object.keys(r.indexes),u):y=m(g,r.name,n);g=(yield* o.tableSet(e,s,y));var z=g[0];g=g[1];r=v(r,Object.keys(r.indexes),y);var A=babelHelpers.extends({},r);for(var B of Object.keys(A))t[B]!==void 0&&(j||(j=d("ReStoreKeyComparer"))).compareKey(t[B],A[B])===0&&(delete A[B],delete t[B]);yield* w(a,b,c,e,f,A,h,k,n);yield* x(c,e,f,z,g?r:A);for(B of Object.keys(t))yield* o.indexDelete(e,B,t[B]);q(b,f,s,u,y);return s}function* t(a,b,c,e,f,g,h,i,j,k){var m=l(a.tableNames[f],h);d("LSStorage").areKeysEqual(g,m)||(yield* u(a,b,c,e,f,g,j));yield* s(a,b,c,e,f,h,i,j,k)}function* u(a,b,c,d,e,f,g){g=c.table(e);c=a.tableNames[e];a=(yield* g.tableGet(d,f));if(a!==void 0){if(Object.keys(c.indexes).length)for(var h of Object.keys(c.indexes)){var i=l(c,a,h);i!=null&&(yield* g.indexDelete(d,h,i))}yield* g.tableDelete(d,f);q(b,e,f,a,void 0)}}function v(a,b,c){return b.reduce(function(b,d){var e;e=(e=a.indexPredicates)==null?void 0:e[d];if(e!=null&&!e(c))return b;e=l(a,c,d);b[d]=e;return b},{})}function* w(a,b,c,d,e,f,g,h,i){var j=c.table(e);for(var k of Object.keys(f)){var m=f[k];m=(yield* j.indexGet(d,k,m));if(m!=null){m=l(a.tableNames[e],m);yield* u(a,b,c,d,e,m,h);yield* r(a,b,c,d,e,m,void 0,g,h,i)}}}function* x(a,b,c,d,e){a=a.table(c);for(c of Object.keys(e)){var f=e[c];f===void 0?yield* a.indexDelete(b,c,f):yield* a.indexSet(b,c,f,d)}}function* f(a,b,d,e,f,g,h,i,j,l){var m=d.table(i),o=g.tableNames[i];for(var p of j)yield* m.clearIds(e,p);p=j.filter(function(a){return(o==null?void 0:o.indexes[a])!=null});if(p.length===0)return;j=n(d,e,o,void 0,"asc",void 0,f);var q=[],r=(yield* j.next(l));while(!r.done){while(!r.done&&q.length<=k)q.push(r.value),r=(yield* j.next(l));for(var s of q){var t=s[0],u=s[1];u=v(g.tableNames[i],p,u);yield* w(g,a,d,e,i,u,f,l,h);t=c("nullthrows")(yield* m.getId(e,t));yield* x(d,e,i,t,u)}q.length=0;b==null?void 0:b()}}var y="__internal__transaction_id";function z(a,b,e,f,g,h,i){var j=null,k=new(d("ReStoreOperationLock").NoopLock)(),l=new(d("ReStoreOperationLock").ReStoreOperationLock)(),m=i==null?void 0:i.qplFlow,n=new Map(),p=new Proxy((i={},i[y]=c("Random").uint32(),i.reportUsedTablesForSyncAccess=function(a){j=a&&a.every(function(a){return g.tablePermitsSynchronousIO(a)})&&j!==!1},i.table=function(c){return new(d("ReStoreTable").ReStoreTransactionTable)(c,a,e,l,g,f,p,m,h,b)},i),{get:function(i,q){var r=q.split("::"),s=r[0],t=r[1];return!Object.prototype.hasOwnProperty.call(a.tableNames,s)?Reflect.get.apply(Reflect,arguments):o(n,q,function(){return new(d("ReStoreTable").ReStoreTransactionTable)(s,a,e,j===!0&&t&&c("gkx")("2839")?k:l,g,f,p,m,h,b)})}});return p}function A(a){return a.types.includes("indexeddb")}g.collectIterator=a;g.searchKey=l;g.appendDefaultValues=m;g.entries=n;g.keys=b;g.getLocked=e;g.getOrCreate=o;g.cascadeKeyUpdatesLocked=r;g.putLocked=s;g.upsertLocked=t;g.deleteItemLocked=u;g.indicesWithKeyForValue=v;g.deconflictIndicesLocked=w;g.addIdToIndices=x;g.rebuildIndicesLocked=f;g.createReStoreTransaction=z;g.isPDB=A}),98);
__d("ReStoreDefaultValueMigration",["LSPlatformLsInitLog","ReStoreDefaultValuesMetadata","ReStoreUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c={};b=(yield d("ReStoreUtils").collectIterator(b[d("ReStoreDefaultValuesMetadata").defaultValuesTableName].entries(a)));for(a of b){b=a[0];var e=a[1];if(b!=null){var f;b=d("ReStoreDefaultValuesMetadata").tryParseDefaultValuesData(e);if(b==null)continue;e=b.columns;b=b.tableName;c[b]=(f=c[b])!=null?f:new Set();for(f of e)c[b].add(f)}}return c});return i.apply(this,arguments)}function j(a,b,c,d){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d){a=(yield h(a,b));b={};for(c in c.tableNames){var e=d[c];if(e!=null)for(var f in e){var g;g=(g=a[c])==null?void 0:g.has(f);if(!g){b[c]=(g=b[c])!=null?g:{};b[c][f]=e[f]}}}return b});return k.apply(this,arguments)}function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){for(b in b){var e=Object.keys(c[b]||{});e={columns:e,tableName:b};yield a[d("ReStoreDefaultValuesMetadata").defaultValuesTableName].put(d("ReStoreDefaultValuesMetadata").defaultValuesColumnToValue(e))}});return m.apply(this,arguments)}function a(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f=new WeakMap();d("LSPlatformLsInitLog").addPoint("default_values_update_start");var g=function(a,b){d("LSPlatformLsInitLog").addPoint("default_values_update_end_failure",{string:{default_values_update_failure_point:b,default_values_update_failure_reason:String(a)}})};try{b=(yield j(f,a,b,e));try{if(c===!1)for(c in b){var h=a[c].entries(f),i=(yield h.next());while(!i.done){var k=babelHelpers["extends"]({},i.value[1]);k=d("ReStoreUtils").appendDefaultValues(k,c,e);yield a[c].put(k);i=(yield h.next())}}yield l(a,b,e);d("LSPlatformLsInitLog").addPoint("default_values_update_end")}catch(a){g(a,"setDefaultValues")}}catch(a){g(a,"findDefaultValuesToUpdate")}});return n.apply(this,arguments)}g.runMigrationForTableDefaultValuesIfNeeded=a}),98);
__d("ReStoreIndexMetadata",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=typeof a==="string"?a:null;if(a==null)return null;try{a=JSON.parse(a);for(var b=a,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;if(typeof e!=="string")return null}return a}catch(a){return null}}function a(a){var b={indexName:"string",keyIds:"string","predicate?":"string",tableName:"string"};for(var d in b){var e=d.endsWith("?");if(e)e=a[d.slice(0,-1)];else{if(!Object.prototype.hasOwnProperty.call(a,d)||a[d]==null){c("FBLogger")("messenger_web_product").warn('Malformed index data, missing key "%s"',d);return null}e=a[d]}var f=b[d],g=typeof e;if(e!=null&&g!==f){c("FBLogger")("messenger_web_product").warn('Malformed index data, key "%s" has type "%s" but expected "%s"',d,g,f);return null}}e=h(a.keyIds);if(e==null){c("FBLogger")("messenger_web_product").warn('Malformed index data, key IDs "%s" are invalid',typeof a.keyIds==="string"?a.keyIds:"<"+typeof a.keyIds+">");return null}return typeof a.indexName!=="string"||typeof a.tableName!=="string"||typeof a.predicate!=="string"&&a.predicate!=null?null:babelHelpers["extends"]({data:e,indexName:a.indexName,tableName:a.tableName},a.predicate==null?{}:{predicate:a.predicate})}function b(a,b){if(a[0]==null)return!0;if(a[0].length!==b[0].length)return!0;for(var c=0;c<a[0].length;c++)if(a[0][c]!==b[0][c])return!0;return a[1]!==b[1]?!0:!1}function d(a){return babelHelpers["extends"]({indexName:a.indexName,keyIds:JSON.stringify(a.data),tableName:a.tableName},a.predicate==null?{}:{predicate:a.predicate})}e="_db_indices_meta";g.tryParseIndexData=a;g.indicesDiffer=b;g.indexDataToValue=d;g.indicesTableName=e}),98);
__d("ReStoreIndicesMigration",["LSPlatformLsInitLog","ReStoreCommonUtils","ReStoreIndexMetadata","ReStoreOperationLock","ReStoreUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c={};b=(yield d("ReStoreUtils").collectIterator(b[d("ReStoreIndexMetadata").indicesTableName].entries(a)));for(a of b){b=a[0];var e=a[1];if(b!=null){var f;e=d("ReStoreIndexMetadata").tryParseIndexData(e);if(e==null)continue;var g=e.indexName,h=e.tableName;c[h]=(f=c[h])!=null?f:{};c[h][g]=babelHelpers["extends"]({index:e.data,key:b},e.predicate==null?{}:{predicate:e.predicate})}}return c});return i.apply(this,arguments)}function j(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){a=(yield h(a,b));b={};for(var e in c.tableNames){var f=c.tableNames[e];for(var g in f.indexes){var i,j;i=[f.indexes[g],(i=f.indexPredicates)==null?void 0:(i=i[g])==null?void 0:i.toString()];j=(j=a[e])==null?void 0:j[g];if(d("ReStoreIndexMetadata").indicesDiffer([j==null?void 0:j.index,j==null?void 0:j.predicate],i)){b[e]=(j=b[e])!=null?j:{};b[e][g]=i}}}j={};for(i in c.tableNames)if(i in a){g=a[i];for(f in g){var k;e=g[f];k=(k=c.tableNames[i])==null?void 0:(k=k.indexes)==null?void 0:k[f];if(k==null){j[i]=(k=j[i])!=null?k:{};j[i][f]=e}}}return{toRemove:j,toUpdate:b}});return k.apply(this,arguments)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){for(var c in b){var e=b[c];for(var f in e){var g=e[f],h=g[0];g=g[1];h=babelHelpers["extends"]({data:h,indexName:f,tableName:c},g==null?{}:{predicate:g});yield a[d("ReStoreIndexMetadata").indicesTableName].put(d("ReStoreIndexMetadata").indexDataToValue(h))}}});return m.apply(this,arguments)}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){for(var c in b){var e=b[c];for(var f in e){var g,h=e[f].key;yield (g=a[d("ReStoreIndexMetadata").indicesTableName])["delete"].apply(g,h)}}});return o.apply(this,arguments)}function p(a,b,c,e,f){return new(d("ReStoreOperationLock").ReStoreOperationLock)().chainPromiseOrValue(function(g){return d("ReStoreCommonUtils").gen(d("ReStoreUtils").rebuildIndicesLocked(a.changedKeys,a.clearCache,a.storeTx,new WeakMap(),a.hooksManager,c,e,b,f,g))})}function a(a,c,e,f){var g=new WeakMap();d("LSPlatformLsInitLog").addPoint("index_migration_start");var h=function(a,b){d("LSPlatformLsInitLog").addPoint("index_migration_end_failure",{string:{index_migration_failure_point:b,index_migration_failure_reason:String(a)}})};return j(g,a.transaction,c).then(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var g=b.toRemove;b=b.toUpdate;var h=Array.from(new Set([].concat(Object.keys(b),Object.keys(g))));d("LSPlatformLsInitLog").addAnnotations({"int":{index_migration_rebuild_tables_count:h.length}});if(f===!1)for(h of h)if(c.tableNames[h]!=null){var i;i=Array.from(new Set([].concat(Object.keys((i=b[h])!=null?i:{}),Object.keys((i=g[h])!=null?i:{}))));yield p(a,h,c,e,i)}yield l(a.transaction,b);yield n(a.transaction,g);d("LSPlatformLsInitLog").addPoint("index_migration_end")});return function(a){return g.apply(this,arguments)}}(),function(a){return h(a,"findIndicesToUpdateOrRemove")})["catch"](function(a){return h(a,"rebuildIndices")})}g.runMigrationForIndicesIfNeeded=a}),98);
__d("ReStoreHashMigration",["ReStoreDefaultValueMigration","ReStoreIndicesMigration","ReStoreMigrateUtil","ReStorePersistedMetadata","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=Object.values(a.tableNames).map(function(a){return babelHelpers["extends"]({},a,{indexPredicates:Object.entries((a=a.indexPredicates)!=null?a:{}).map(function(a){var b=a[0];a=a[1];return[b,a.toString()]})})});return JSON.stringify(a)}function c(a,b,c,d){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f,g,h,i=e.loggers,j=i.logHistory;i=i.userFlow;var k=e.storeTx,l=e.transaction,m=d("ReStorePersistedMetadata").ReStorePersistedDefaultValuesVersion.hash(c),n=d("ReStorePersistedMetadata").ReStorePersistedSchemaVersion.hash(b);i==null?void 0:i.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(a,{"int":{defaultValuesVersion:m,schemaVersion:n}}));var o=new(d("ReStorePersistedMetadata").ReStorePersistedSchemaVersion)(a),p=new(d("ReStorePersistedMetadata").ReStorePersistedDefaultValuesVersion)(a);f=(f=(yield o.read(k)))==null?void 0:f.schemaVersion;g=(g=(yield p.read(k)))==null?void 0:g.defaultValuesVersion;j==null?void 0:j.debug("storeSchemaVersion: "+((h=f)!=null?h:"null"));j==null?void 0:j.debug("storeDefaultValuesVersion: "+((h=g)!=null?h:"null"));f!=null&&(i==null?void 0:i.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(a,{"int":{storeDefaultValuesVersion:g,storeSchemaVersion:f}})));if(f===n&&g===m)return d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED;h=f==null;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(l,b,h,c);j==null?void 0:j.debug("migration default values finished");yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,b,c,h);j==null?void 0:j.debug("migration indices finished");o.write(k,{schemaVersion:n});p.write(k,{defaultValuesVersion:m});j==null?void 0:j.debug("version is written");j==null?void 0:j.debug("migration hash end");i==null?void 0:i.addPoint("migration_hash_end");if(h)return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA;else return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE});return h.apply(this,arguments)}g.serializeTableData=a;g.runHashMigration=c}),98);
__d("ReStorePersistenceIds",[],(function(a,b,c,d,e,f){"use strict";b="nextId";c="seed";function a(a){return a}f.idForNextId=b;f.idForSeed=c;f.castPersistenceId=a}),66);
__d("ReStorePersistedMetadata",["ReStoreCommonUtils","ReStoreHashMigration","ReStorePersistenceIds","hashString"],(function(a,b,c,d,e,f,g){"use strict";var h="_db_schema_meta";a=function(){function a(a){this.$1=d("ReStorePersistenceIds").castPersistenceId(a)}var b=a.prototype;b.read=async function(a){a=await d("ReStoreCommonUtils").gen(a.table(h).readData(new WeakMap(),this.$1));return a};b.write=function(a,b){a.table(h).writeData(new WeakMap(),this.$1,b)};b.getId=function(){return this.$1};return a}();b=function(a){babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,b+"_schema_version")||this}b.hash=function(a){return c("hashString")(d("ReStoreHashMigration").serializeTableData(a))};return b}(a);e=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,"custom_migration_value_version")||this}return b}(a);f=function(a){babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,b+"_default_value_version")||this}b.hash=function(a){return c("hashString")(JSON.stringify(a))};return b}(a);g.schemaMetadataTableName=h;g.ReStorePersistedMetadata=a;g.ReStorePersistedSchemaVersion=b;g.ReStorePersistedCustomMigrationVersion=e;g.ReStorePersistedDefaultValuesVersion=f}),98);
__d("ReStoreVaulting",["cr:2075","cr:2151","cr:2203"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("cr:2075")!=null?b("cr:2075").vault(a):a}function c(a){return b("cr:2075")!=null?b("cr:2075").unvault(a):a}function d(a,c){return b("cr:2151")!=null&&b("cr:2203")!=null?b("cr:2151").unvaultDbRow(a,c,b("cr:2203").PERSISTED_DB_VAULT_DEFINITIONS):a}function e(a,c){return b("cr:2151")!=null&&b("cr:2203")!=null?b("cr:2151").vaultDbRow(a,c,b("cr:2203").PERSISTED_DB_VAULT_DEFINITIONS):a}g.maybeVault=a;g.maybeUnvault=c;g.maybeUnvaultDbRow=d;g.maybeVaultDbRow=e}),98);
__d("LSSchemaProvider",["cr:2649","cr:2670"],(function(a,b,c,d,e,f,g){"use strict";var f=(a=b("cr:2670"))!=null?a:b("cr:2649");c=f.schemaProvider;g["default"]=c}),98);
__d("ReStoreMetadata",["ReStoreDefaultValuesMetadata","ReStoreIndexMetadata","ReStorePersistedMetadata"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return!0}function a(a){var b=a.reduce(function(a,b){return function(c){return c[b]!=null&&a(c)}},h);b.toString=function(){return"dynamic predicate on ["+a.join(",")+"]"};return b}function b(a){return function(b){var c={},d={};for(var b=b,e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;for(var g=g,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j,k;if(h){if(i>=g.length)break;k=g[i++]}else{i=g.next();if(i.done)break;k=i.value}k=k;k.id!=null&&(c[k.id]=k.name);d[k.name]={autoIncrement:(j=k.auto_increment)!=null?j:!1,cascadeUpdates:(j=a[k.name])!=null?j:[],indexes:(j=Object.fromEntries(Object.entries((j=k.indexes)!=null?j:{}).map(function(a){var b=a[0];a=a[1].columns;return[b,a]})))!=null?j:{},indexPredicates:Object.fromEntries(Object.entries((j=k.indexes)!=null?j:{}).filter(function(a){a[0];a=a[1];return a.predicate}).map(function(a){var b=a[0];a=a[1];return[b,a.predicate]})),name:k.name,primaryKeyIds:k.primary_key}}}return{tableIds:c,tableNames:d}}}e=(c={},c[d("ReStoreDefaultValuesMetadata").defaultValuesTableName]={autoIncrement:!1,cascadeUpdates:[],indexes:{},name:d("ReStoreDefaultValuesMetadata").defaultValuesTableName,primaryKeyIds:["t"]},c[d("ReStoreIndexMetadata").indicesTableName]={autoIncrement:!1,cascadeUpdates:[],indexes:{},name:d("ReStoreIndexMetadata").indicesTableName,primaryKeyIds:["tableName","indexName"]},c[d("ReStorePersistedMetadata").schemaMetadataTableName]={autoIncrement:!1,cascadeUpdates:[],indexes:{},name:d("ReStorePersistedMetadata").schemaMetadataTableName,primaryKeyIds:[]},c);g.createPredicate=a;g.getBuildTableData=b;g.RESTORE_METADATA_TABLES=e}),98);
__d("ReStoreHashSchemaProvider",["ReStoreHashMigration","ReStoreMetadata","ReStoreMigrateUtil","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){var e=b.tableIds;b=b.tableNames;c===void 0&&(c={});this.$1=a;this.tableNames=babelHelpers["extends"]({},b,d("ReStoreMetadata").RESTORE_METADATA_TABLES);this.tableIds=e;this.defaults=(a=c)!=null?a:{}}var c=a.prototype;c.migrate=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,c;(b=a.loggers.logHistory)==null?void 0:b.debug("["+this.$1+"][ReStoreHashSchemaProvider] Start migration");(b=a.loggers.userFlow)==null?void 0:b.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(this.$1,{string:{schemaProviderType:"hash"}}));(b=a.loggers.userFlow)==null?void 0:b.addPoint(this.$1+"_migration_hash_start");b=(yield d("ReStoreHashMigration").runHashMigration(this.$1,{tableIds:this.tableIds,tableNames:this.tableNames},this.defaults,a));(c=a.loggers.logHistory)==null?void 0:c.debug("["+this.$1+"][ReStoreHashSchemaProvider] End migration. Result: "+b);(c=a.loggers.userFlow)==null?void 0:c.addPoint(this.$1+"_migration_hash_end");return b});function c(b){return a.apply(this,arguments)}return c}();return a}();g["default"]=a}),98);
__d("ReStoreSchemaProvider",["ReStoreMigrateUtil","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c){return{defaults:babelHelpers["extends"]({},a.defaults,c.defaults),migrate:function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var e=(yield a.migrate(b));b=(yield c.migrate(b));if(e===d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE||b===d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE)return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE;else if(e===d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA||b===d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA)return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA;else return d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED});function f(a){return e.apply(this,arguments)}return f}(),tableIds:babelHelpers["extends"]({},a.tableIds,c.tableIds),tableNames:babelHelpers["extends"]({},a.tableNames,c.tableNames)}}g.mergeSchemaProviders=a}),98);
__d("LSMetadata",["LSClientSchemaType","LSDbSchema","LSSchemaProvider","ReStoreHashSchemaProvider","ReStoreMetadata","ReStoreSchemaProvider"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("ReStoreSchemaProvider").mergeSchemaProviders(a,h)}var h=new(c("ReStoreHashSchemaProvider"))(d("LSClientSchemaType").MAW_SCHEMA_NAME,d("ReStoreMetadata").getBuildTableData({})([d("LSDbSchema").clientSchema]));b=a(c("LSSchemaProvider"));g.buildSchema=a;g.schema=b}),98);/*FB_PKG_DELIM*/
__d("IGDSActionDialog.react",["IGDSDialog.react","IGDSTextVariants.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={media:{alignItems:"x1qjc9v5",justifyContent:"xl56j7k",marginTop:"x1crbq5u",marginEnd:"x1kj9wry",marginBottom:"x19qqan6",marginStart:"xy1572q",":first-child_marginTop":"x14dv08r",$$css:!0},mediaWithoutMargins:{marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",":first-child_marginTop":"x14l7nz5",":first-child_marginEnd":"xistku6",":first-child_marginBottom":"x1gut22",":first-child_marginStart":"x1uw6ca5",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(25),e=a.body,f=a.children,g=a.closeButtonPosition,i=a["data-testid"],l=a.disableMediaMargin,m=a.enablePopInAnimation,n=a.forceTop,o=a.forwardRef,p=a.isVisible,q=a.media,r=a.onModalClose,s=a.size;a=a.title;g=g===void 0?"hidden":g;n=n===void 0?!1:n;s=s===void 0?"default":s;var t=!!q,u=a!=null||e!=null,v;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(v="x78zum5 xdt5ytf xl56j7k",b[0]=v):v=b[0];var w;b[1]!==l||b[2]!==q?(w=q!=null&&j.jsx("div",{className:(h||(h=c("stylex")))([k.media,l!=null&&k.mediaWithoutMargins]),children:q}),b[1]=l,b[2]=q,b[3]=w):w=b[3];b[4]!==e||b[5]!==t||b[6]!==u||b[7]!==a?(l=u&&j.jsxs("div",{className:"x1crbq5u x1fd2adx x19qqan6 x19v5lwq x2b8uid x14dv08r",children:[a!=null&&(t?j.jsx(d("IGDSTextVariants.react").IGDSTextHeadline2,{children:a}):j.jsx(d("IGDSTextVariants.react").IGDSTextTitle,{children:a})),e!=null&&j.jsx("div",{className:"xyamay9",children:j.jsx(d("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",children:e})})]}),b[4]=e,b[5]=t,b[6]=u,b[7]=a,b[8]=l):l=b[8];b[9]!==f?(q=f!=null&&j.jsx("div",{className:"x78zum5 xdt5ytf x1crbq5u xvrdyt3 x179zr98",children:f}),b[9]=f,b[10]=q):q=b[10];b[11]!==i||b[12]!==w||b[13]!==l||b[14]!==q?(e=j.jsxs("div",{className:v,"data-testid":void 0,children:[w,l,q]}),b[11]=i,b[12]=w,b[13]=l,b[14]=q,b[15]=e):e=b[15];b[16]!==g||b[17]!==m||b[18]!==n||b[19]!==o||b[20]!==p||b[21]!==r||b[22]!==s||b[23]!==e?(t=j.jsx(c("IGDSDialog.react"),{closeButtonPosition:g,enablePopInAnimation:m,forceTop:n,isVisible:p,onClose:r,ref:o,size:s,children:e}),b[16]=g,b[17]=m,b[18]=n,b[19]=o,b[20]=p,b[21]=r,b[22]=s,b[23]=e,b[24]=t):t=b[24];return t}g["default"]=a}),98);
__d("IGDSDialogItem.react",["IGDSBox.react","IGDSSpinner.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={item:{backgroundColor:"xjbqb8w",borderBottomWidth:"x1qhh985",borderEndWidth:"xcfux6l",borderStartWidth:"xm0m39n",borderTopColor:"x1yvgwvq",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",cursor:"x1ypdohk",fontSize:"xvs91rp",lineHeight:"x1evy7pa",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",minHeight:"x1wxaq2x",paddingTop:"x1iorvi4",paddingEnd:"x1sxyh0",paddingBottom:"xjkvuk6",paddingStart:"xurb0ha",textAlign:"x2b8uid",userSelect:"x87ps6o",verticalAlign:"xxymvpz",width:"xh8yej3",":active_backgroundColor":"x52vrxo",":active_opacity":"x4gyw5p",$$css:!0},itemDanger:{color:"xkmlbd1",fontWeight:"x1xlr1w8",$$css:!0},itemDisabled:{color:"x1roi4f4",cursor:"xt0e3qv",$$css:!0},itemPrimary:{color:"x173jzuc",fontWeight:"x1xlr1w8",$$css:!0},itemSecondary:{color:"x5n08af",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(15),e=a.children,f=a.color,g=a.disabled,i=a.forwardRef,l=a.loading,m=a.onClick;a=a.testid;f=f===void 0?"secondaryButton":f;g=g===void 0?!1:g;l=l===void 0?!1:l;var n=f==="errorOrDestructive"&&k.itemDanger,o=f==="primaryButton"&&k.itemPrimary;f=f==="secondaryButton"&&k.itemSecondary;var p=g&&k.itemDisabled,q;b[0]!==n||b[1]!==o||b[2]!==f||b[3]!==p?(q=(h||(h=c("stylex")))([k.item,n,o,f,p]),b[0]=n,b[1]=o,b[2]=f,b[3]=p,b[4]=q):q=b[4];n=l||g;b[5]!==e||b[6]!==l?(o=l===!0?j.jsx(c("IGDSBox.react"),{alignItems:"center",children:j.jsx(c("IGDSSpinner.react"),{size:"small"})}):e,b[5]=e,b[6]=l,b[7]=o):o=b[7];b[8]!==i||b[9]!==m||b[10]!==o||b[11]!==q||b[12]!==n||b[13]!==a?(f=j.jsx("button",{className:q,"data-testid":void 0,disabled:n,onClick:m,ref:i,tabIndex:"0",children:o}),b[8]=i,b[9]=m,b[10]=o,b[11]=q,b[12]=n,b[13]=a,b[14]=f):f=b[14];return f}function b(a){var b=d("react-compiler-runtime").c(3);a=a.children;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c="xjbqb8w xt0e3qv xvs91rp xdj266r x11i5rnm xat24cr x1mh8g0r x1wxaq2x x1iorvi4 x1sxyh0 xjkvuk6 xurb0ha x2b8uid x87ps6o",b[0]=c):c=b[0];b[1]!==a?(c=j.jsx("div",{className:c,children:a}),b[1]=a,b[2]=c):c=b[2];return c}g.IGDSDialogItem=a;g.IGDSDialogSection=b}),98);
__d("IGDSConfirmDialog.react",["fbt","IGDSActionDialog.react","IGDSDialogItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(19),e=a.body,f=a.cancelLabel,g=a.confirmLabel,i=a.confirmLoading,k=a.destructiveConfirm,l=a.onClose,m=a.onConfirm,n=a.testid;a=a.title;var o;b[0]!==f?(o=f===void 0?h._(/*BTDS*/"__JHASH__hU1XYuyRZTd__JHASH__"):f,b[0]=f,b[1]=o):o=b[1];f=o;b[2]!==g?(o=g===void 0?h._(/*BTDS*/"__JHASH__sRH4Jq7eE_5__JHASH__"):g,b[2]=g,b[3]=o):o=b[3];g=o;o=k===void 0?!1:k;b[4]!==g||b[5]!==i||b[6]!==o||b[7]!==m?(k=m!=null&&g!=null&&j.jsx(d("IGDSDialogItem.react").IGDSDialogItem,{color:o?"errorOrDestructive":"primaryButton",loading:i,onClick:m,testid:void 0,children:g}),b[4]=g,b[5]=i,b[6]=o,b[7]=m,b[8]=k):k=b[8];b[9]!==f||b[10]!==l?(g=l!=null&&f!=null&&j.jsx(d("IGDSDialogItem.react").IGDSDialogItem,{onClick:l,testid:void 0,children:f}),b[9]=f,b[10]=l,b[11]=g):g=b[11];b[12]!==e||b[13]!==l||b[14]!==k||b[15]!==g||b[16]!==n||b[17]!==a?(i=j.jsxs(c("IGDSActionDialog.react"),{body:e,"data-testid":void 0,isVisible:!0,onModalClose:l,size:"default",title:a,children:[k,g]}),b[12]=e,b[13]=l,b[14]=k,b[15]=g,b[16]=n,b[17]=a,b[18]=i):i=b[18];return i}g["default"]=a}),226);
__d("PolarisPostBlockConfirmDialog.react",["fbt","IGDSConfirmDialog.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(10),e=a.isBlockedByViewer,f=a.onClose;a=a.username;var g;b[0]!==e||b[1]!==a?(g=e?h._(/*BTDS*/"__JHASH__GUFJuF6ZBCE__JHASH__",[h._param("Username of current profile",a)]):h._(/*BTDS*/"__JHASH__ozRxIE-blb3__JHASH__",[h._param("Username of current profile",a)]),b[0]=e,b[1]=a,b[2]=g):g=b[2];a=g;b[3]!==e?(g=e?h._(/*BTDS*/"__JHASH__T_z23n9DnTg__JHASH__"):h._(/*BTDS*/"__JHASH__CI1UMw4FRHL__JHASH__"),b[3]=e,b[4]=g):g=b[4];e=g;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"__JHASH__1rmUdf8FlF-__JHASH__"),b[5]=g):g=b[5];b[6]!==e||b[7]!==a||b[8]!==f?(g=j.jsx(c("IGDSConfirmDialog.react"),{body:e,cancelLabel:g,onClose:f,testid:void 0,title:a}),b[6]=e,b[7]=a,b[8]=f,b[9]=g):g=b[9];return g}g["default"]=a}),226);
__d("PolarisPreBlockConfirmDialog.react",["fbt","IGDSConfirmDialog.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(14),e=a.isBlockedByViewer,f=a.onClose,g=a.onConfirm;a=a.username;var i;b[0]!==e||b[1]!==a?(i=e?h._(/*BTDS*/"__JHASH__Q_glRLYdlkr__JHASH__",[h._param("Username of current profile",a)]):h._(/*BTDS*/"__JHASH__6PAiw3V2Cpy__JHASH__",[h._param("Username of current profile",a)]),b[0]=e,b[1]=a,b[2]=i):i=b[2];a=i;b[3]!==e?(i=e?h._(/*BTDS*/"__JHASH__MGggjrTzO4e__JHASH__"):h._(/*BTDS*/"__JHASH__yBXsrrRaA4V__JHASH__"),b[3]=e,b[4]=i):i=b[4];i=i;var k;b[5]!==e?(k=e?h._(/*BTDS*/"__JHASH__kk_zaQ6uup9__JHASH__"):h._(/*BTDS*/"__JHASH__AbPRnNWi98f__JHASH__"),b[5]=e,b[6]=k):k=b[6];e=k;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._(/*BTDS*/"__JHASH__n64CUWuu8AI__JHASH__"),b[7]=k):k=b[7];b[8]!==i||b[9]!==e||b[10]!==a||b[11]!==f||b[12]!==g?(k=j.jsx(c("IGDSConfirmDialog.react"),{body:i,cancelLabel:k,confirmLabel:e,destructiveConfirm:!0,onClose:f,onConfirm:g,testid:void 0,title:a}),b[8]=i,b[9]=e,b[10]=a,b[11]=f,b[12]=g,b[13]=k):k=b[13];return k}g["default"]=a}),226);
__d("PolarisSupervisionStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";e=h._(/*BTDS*/"__JHASH__enW2Xn0wATC__JHASH__");f=h._(/*BTDS*/"__JHASH__ZWE-egy5_3A__JHASH__");function a(a){return h._(/*BTDS*/"__JHASH__3ax9pBxAVL5__JHASH__",[h._param("Username of current profile",a)])}function b(a){return h._(/*BTDS*/"__JHASH__Uf_3msgtFJw__JHASH__",[h._param("Username of current profile",a)])}function c(a){return h._(/*BTDS*/"__JHASH__s-LVheOir-z__JHASH__",[h._param("Username of current profile",a)])}function d(a){return h._(/*BTDS*/"__JHASH__zL2hv9yo5hM__JHASH__",[h._param("Username of current profile",a)])}var i=h._(/*BTDS*/"__JHASH__3eQoiFe-MIv__JHASH__"),j=h._(/*BTDS*/"__JHASH__JV0NstNjoD2__JHASH__"),k=h._(/*BTDS*/"__JHASH__08c7x5WdTTU__JHASH__"),l=h._(/*BTDS*/"__JHASH__wcSXGUJyF4h__JHASH__");g.FAMILY_CENTER_LABEL=e;g.EDUCATION_HUB_LABEL=f;g.getCantBlockDialogBodyForGuardianUpdated=a;g.getCantBlockDialogBodyForGuardian=b;g.getCantBlockDialogBodyForSupervisedUserUpdated=c;g.getCantBlockDialogBodyForSupervisedUser=d;g.NAVIGATE_TO_FC_BUTTON_TEXT=i;g.NAVIGATE_TO_SUPERVISION_BUTTON_TEXT=j;g.CANT_BLOCK_DIALOG_TITLE=k;g.CANT_BLOCK_DIALOG_TITLE_UPDATED=l}),226);
__d("PolarisRemoveSupervisionDialog.react",["fbt","IGDSActionDialog.react","IGDSDialogItem.react","PolarisNavigationUtils","PolarisSupervisionStrings","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){return"https://familycenter.instagram.com/accounts/"+a+"/remove"}function k(a){return"https://familycenter.instagram.com/accounts/"+a+"/?account_type=INSTAGRAM"}function b(a){var b=d("react-compiler-runtime").c(15),e=a.onClose,f=a.supervisedByViewer,g=a.userFbId;a=a.username;var i;b[0]!==f||b[1]!==a?(i=f?d("PolarisSupervisionStrings").getCantBlockDialogBodyForGuardianUpdated(a):d("PolarisSupervisionStrings").getCantBlockDialogBodyForSupervisedUserUpdated(a),b[0]=f,b[1]=a,b[2]=i):i=b[2];f=i;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"__JHASH__o0Gz7vRdkjm__JHASH__"),b[3]=a):a=b[3];i=a;a=e;var l;b[4]!==g?(l=k(g),b[4]=g,b[5]=l):l=b[5];var m=l;b[6]!==a?(g=a!=null&&i!=null&&j.jsx(d("IGDSDialogItem.react").IGDSDialogItem,{color:"primaryButton",onClick:a,testid:void 0,children:i}),b[6]=a,b[7]=g):g=b[7];b[8]!==m?(l=j.jsx(d("IGDSDialogItem.react").IGDSDialogItem,{onClick:function(){return d("PolarisNavigationUtils").openURLWithFullPageReload(m,{openInNewTab:!0})},testid:void 0,children:d("PolarisSupervisionStrings").NAVIGATE_TO_FC_BUTTON_TEXT}),b[8]=m,b[9]=l):l=b[9];b[10]!==f||b[11]!==e||b[12]!==g||b[13]!==l?(i=j.jsxs(c("IGDSActionDialog.react"),{body:f,isVisible:!0,onModalClose:e,size:"default",title:d("PolarisSupervisionStrings").CANT_BLOCK_DIALOG_TITLE_UPDATED,children:[g,l]}),b[10]=f,b[11]=e,b[12]=g,b[13]=l,b[14]=i):i=b[14];return i}g.getRemoveSupervisionUrl=a;g.getGoToFamilyCenterURL=k;g.RemoveSupervisionDialog=b}),226);
__d("PolarisBlockDialog.react",["PolarisPostBlockConfirmDialog.react","PolarisPreBlockConfirmDialog.react","PolarisRemoveSupervisionDialog.react","Promise","QPLUserFlow","qpl","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;e.useCallback;var k=e.useState;function a(a){var e=d("react-compiler-runtime").c(21),f=a.guardianOfViewer,g=a.isBlockedByViewer,i=a.onBlockUser,m=a.onClose,n=a.onUnblockUser,o=a.supervisedByViewer,p=a.userFbId,q=a.userId;a=a.username;var r=k(!1),s=r[0],t=r[1];e[0]!==m?(r=function(){t(!1),m()},e[0]=m,e[1]=r):r=e[1];var u=r;e[2]!==g||e[3]!==i||e[4]!==u||e[5]!==n||e[6]!==q?(r=function(){var a=g?c("qpl")._(379204232,"1261"):c("qpl")._(379192731,"1257");c("QPLUserFlow").addPoint(a,"block_dialog_action_confirmed");a=g?n(q,"reportModal"):i(q,"reportModal");(h||(h=b("Promise"))).resolve(a).then(function(){t(!0)})["catch"](function(){u()})},e[2]=g,e[3]=i,e[4]=u,e[5]=n,e[6]=q,e[7]=r):r=e[7];r=r;var v=l;if(f||o){e[8]!==m||e[9]!==o||e[10]!==p||e[11]!==a?(f=j.jsx(d("PolarisRemoveSupervisionDialog.react").RemoveSupervisionDialog,{onClose:m,supervisedByViewer:o,userFbId:p,username:a}),e[8]=m,e[9]=o,e[10]=p,e[11]=a,e[12]=f):f=e[12];return f}if(s){e[13]!==g||e[14]!==a?(o=j.jsx(c("PolarisPostBlockConfirmDialog.react"),{isBlockedByViewer:g,onClose:v,username:a}),e[13]=g,e[14]=a,e[15]=o):o=e[15];return o}e[16]!==g||e[17]!==u||e[18]!==r||e[19]!==a?(p=j.jsx(c("PolarisPreBlockConfirmDialog.react"),{isBlockedByViewer:g,onClose:u,onConfirm:r,username:a}),e[16]=g,e[17]=u,e[18]=r,e[19]=a,e[20]=p):p=e[20];return p}function l(){window.location.reload()}g["default"]=a}),98);
__d("PolarisDirectActionBlockDirectUser",[],(function(a,b,c,d,e,f){"use strict";function a(a){return function(b){return b({type:"DIRECT_BLOCK_USER",userId:a})}}f.blockDirectUser=a}),66);
__d("PolarisRelationshipActionBlockUser",["fbt","PolarisDirectActionBlockDirectUser","PolarisGenericStrings","PolarisInteractionsStrings","PolarisRelationshipTypes","PolarisSharedAPI","PolarisToastActions","QPLUserFlow","polarisLogAction","polarisRelationshipSelectors.react","qpl"],(function(a,b,c,d,e,f,g,h){"use strict";var i=h._(/*BTDS*/"__JHASH__17piKRHrsBw__JHASH__"),j=h._(/*BTDS*/"__JHASH__laClZt7LrUm__JHASH__"),k=h._(/*BTDS*/"__JHASH__Sj0ncjpiguH__JHASH__");function a(a,b){return function(e,f){c("polarisLogAction")("blockUserAttempt",{source:b});f=d("polarisRelationshipSelectors.react").getRelationship(f().relationships,a);f=f.followedByViewer;var g=f.state===d("PolarisRelationshipTypes").FOLLOW_STATUS_FOLLOWING;e({subjectUserId:a,type:"BLOCK_USER",wasFollowedByViewer:g});return d("PolarisSharedAPI").blockUser(a).then(function(){c("polarisLogAction")("blockUserSuccess",{source:b}),e({subjectUserId:a,type:"BLOCK_USER_SUCCEEDED",wasFollowedByViewer:g}),e(d("PolarisDirectActionBlockDirectUser").blockDirectUser(a)),e(d("PolarisToastActions").showToast({text:d("PolarisInteractionsStrings").BLOCK_TEXT})),c("QPLUserFlow").endSuccess(c("qpl")._(379192731,"1257"))},function(f){var g;c("polarisLogAction")("blockUserFailure",{source:b});c("QPLUserFlow").endFailure(c("qpl")._(379192731,"1257"),"api_errored");g=(g=f.responseObject)==null?void 0:g.message;g=g===i||g===j?k:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE;e(d("PolarisToastActions").showToast({text:g}));e({subjectUserId:a,type:"BLOCK_USER_FAILED"});throw f})}}g.blockUser=a}),226);
__d("PolarisDirectActionUnblockDirectUser",[],(function(a,b,c,d,e,f){"use strict";function a(a){return function(b){return b({type:"DIRECT_UNBLOCK_USER",userId:a})}}f.unblockDirectUser=a}),66);
__d("PolarisRelationshipActionUnblockUser",["PolarisDirectActionUnblockDirectUser","PolarisInteractionsStrings","PolarisSharedAPI","PolarisToastActions","QPLUserFlow","polarisLogAction","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return function(e){c("polarisLogAction")("unblockUserAttempt",{source:b});e({subjectUserId:a,type:"UNBLOCK_USER"});return d("PolarisSharedAPI").unblockUser(a).then(function(){c("polarisLogAction")("unblockUserSuccess",{source:b}),e({subjectUserId:a,type:"UNBLOCK_USER_SUCCEEDED"}),e(d("PolarisDirectActionUnblockDirectUser").unblockDirectUser(a)),e(d("PolarisToastActions").showToast({text:d("PolarisInteractionsStrings").UNBLOCK_TEXT})),c("QPLUserFlow").endSuccess(c("qpl")._(379204232,"1261"))},function(){c("polarisLogAction")("unblockUserFailure",{source:b}),c("QPLUserFlow").endFailure(c("qpl")._(379204232,"1261"),"api_errored"),e({subjectUserId:a,type:"UNBLOCK_USER_SUCCEEDED"}),e(d("PolarisDirectActionUnblockDirectUser").unblockDirectUser(a))})}}g.unblockUser=a}),98);
__d("PolarisBlockDialogContainer.react",["PolarisBlockDialog.react","PolarisReactRedux.react","PolarisRelationshipActionBlockUser","PolarisRelationshipActionUnblockUser","polarisRelationshipSelectors.react","polarisUserSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a,b){var c=b.fbidV2,e=b.relationship,f=b.userId;c=(c=c)!=null?c:d("polarisUserSelectors").getUserByIdOrThrows(a,f).fbid;return{guardianOfViewer:d("polarisRelationshipSelectors.react").guardianOfViewer(e),isBlockedByViewer:d("polarisRelationshipSelectors.react").isBlockedByViewer(e),supervisedByViewer:d("polarisRelationshipSelectors.react").supervisedByViewer(e),userFbId:c,username:b.username}}function b(a){return{onBlockUser:function(b,c){return a(d("PolarisRelationshipActionBlockUser").blockUser(b,c))},onUnblockUser:function(b,c){return a(d("PolarisRelationshipActionUnblockUser").unblockUser(b,c))}}}e=d("PolarisReactRedux.react").connect(a,b)(c("PolarisBlockDialog.react"));g["default"]=e}),98);
__d("PolarisFollowChainingListItem.react",["IGDSBox.react","InstagramODS","PolarisGenericStrings","PolarisIGCorePressable.react","polarisLogAction","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={large:{backgroundImage:"xo3uz88",backgroundPosition:"xlon915",backgroundRepeat:"xiy17q3",height:"x170jfvy",width:"x1fsd2vl",$$css:!0},small:{backgroundImage:"xo3uz88",backgroundPosition:"xx7dfb8",backgroundRepeat:"xiy17q3",height:"xdk7pt",width:"x1xc55vz",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(34),e=a.analyticsContext,f=a.clickPoint,g=a.icon,i=a.isSmallScreen,l=a.onClick,m=a.onDismissed,n=a.primaryCta,o=a.primaryText;a=a.secondaryText;var p;b[0]!==e||b[1]!==f?(p=function(a){e&&(c("polarisLogAction")("chainingClick",{source:e,source_of_action:f,target:a}),c("InstagramODS").incr("web.chaining.click"))},b[0]=e,b[1]=f,b[2]=p):p=b[2];var q=p;b[3]!==q||b[4]!==m?(p=function(a){q("dismiss"),m&&m(),a.stopPropagation()},b[3]=q,b[4]=m,b[5]=p):p=b[5];p=p;var r;b[6]!==q||b[7]!==l?(r=function(){q("other"),l&&l()},b[6]=q,b[7]=l,b[8]=r):r=b[8];r=r;var s;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(s="xvbhtw8 x1yvgwvq x1dqoszc x1ixjvfu xhk4uv x1lcm9me x1yr5g0i xrt01vj x10y3i5r x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x178xt8z xm81vs4 xso031l xy80clv x9f619 x78zum5 xdt5ytf",b[9]=s):s=b[9];var t=i?4:5,u;b[10]!==p||b[11]!==i||b[12]!==m?(u=m&&j.jsx("button",{alt:d("PolarisGenericStrings").DISMISS_TEXT,"aria-label":d("PolarisGenericStrings").DISMISS_TEXT,className:"xjbqb8w x1ejq31n xd10rxx x1sy0etr x17r0tee x1ypdohk xds687c xz9dl7a xn6708d xsag5q8 x1ye3gou x10l6tqk x13vifvy x1vjfegm","data-testid":void 0,onClick:p,children:j.jsx("div",{className:(h||(h=c("stylex")))(i?k.small:k.large)})}),b[10]=p,b[11]=i,b[12]=m,b[13]=u):u=b[13];p=i?2:5;var v;b[14]!==g||b[15]!==p?(v=j.jsx(c("IGDSBox.react"),{marginBottom:p,position:"relative",children:g}),b[14]=g,b[15]=p,b[16]=v):v=b[16];b[17]!==o?(g=j.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"center",marginBottom:1,maxWidth:"100%",position:"relative",children:o}),b[17]=o,b[18]=g):g=b[18];p=i?2:3;b[19]!==a||b[20]!==p?(o=j.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"center",marginBottom:p,maxWidth:"100%",position:"relative",children:a}),b[19]=a,b[20]=p,b[21]=o):o=b[21];b[22]!==o||b[23]!==g?(i=j.jsxs(c("IGDSBox.react"),{height:50,maxWidth:"100%",children:[g,o]}),b[22]=o,b[23]=g,b[24]=i):i=b[24];b[25]!==n||b[26]!==i||b[27]!==t||b[28]!==u||b[29]!==v?(a=j.jsxs(c("IGDSBox.react"),{alignItems:"center","data-testid":void 0,padding:t,position:"relative",width:"100%",children:[u,v,i,n]}),b[25]=n,b[26]=i,b[27]=t,b[28]=u,b[29]=v,b[30]=a):a=b[30];b[31]!==r||b[32]!==a?(p=j.jsx(c("PolarisIGCorePressable.react"),{className:s,onPress:r,children:a}),b[31]=r,b[32]=a,b[33]=p):p=b[33];return p}g["default"]=a}),98);
__d("PolarisFollowCard.react",["cx","invariant","IGDSBox.react","IGDSVerifiedBadge.react","InstagramODS","PolarisConnectionsLogger","PolarisFollowButtonContainer.react","PolarisFollowChainingListItem.react","PolarisIGCoreText","PolarisLinkBuilder","PolarisUserAvatar.react","PolarisUserLink.react","isStringNullOrEmpty","polarisLogAction","react","react-compiler-runtime","useCometRouterDispatcher"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=77,m=54,n=33;function o(a){return a.length<n?a:a.substr(0,n-3)+"\u2026"}function p(a,b,d){c("polarisLogAction")("chainingClick",{source:b,source_of_action:d,target:a}),c("InstagramODS").incr("web.chaining.click")}function q(a){var b=d("react-compiler-runtime").c(8),e=a.analyticsContext,f=a.clickPoint,g=a.isSmallScreen,h=a.profilePictureUrl;a=a.username;c("isStringNullOrEmpty")(h)&&i(0,51397);var j;b[0]!==e||b[1]!==f?(j=function(a){p("avatar",e,f),a.stopPropagation()},b[0]=e,b[1]=f,b[2]=j):j=b[2];j=j;g=g?l:m;var n;b[3]!==j||b[4]!==h||b[5]!==g||b[6]!==a?(n=k.jsx(c("PolarisUserAvatar.react"),{canTabFocus:!1,isLink:!0,onClick:j,profilePictureUrl:h,size:g,username:a}),b[3]=j,b[4]=h,b[5]=g,b[6]=a,b[7]=n):n=b[7];return n}function r(a){var b=d("react-compiler-runtime").c(7),e=a.analyticsContext,f=a.clickPoint,g=a.handleFollowButtonClick,h=a.userId;a=a.username;var i=s,j;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(j={chn:"1"},b[0]=j):j=b[0];a=(a=a)!=null?a:"";b[1]!==e||b[2]!==f||b[3]!==g||b[4]!==a||b[5]!==h?(i=k.jsx("div",{onClick:i,role:"button",tabIndex:-1,children:k.jsx(c("PolarisFollowButtonContainer.react"),{analyticsContext:e,analyticsExtra:j,clickPoint:f,fullWidth:!0,onClick:g,userId:h,username:a})}),b[1]=e,b[2]=f,b[3]=g,b[4]=a,b[5]=h,b[6]=i):i=b[6];return i}function s(a){a.stopPropagation()}function t(a){var b=d("react-compiler-runtime").c(13),e=a.fullName,f=a.handleUsernameClick,g=a.isVerified,h=a.showDescription,j=a.suggestionDescription;a=a.username;c("isStringNullOrEmpty")(a)&&i(0,51399);g!=null||i(0,51398);h=h&&j!=null;b[0]!==e||b[1]!==h||b[2]!==a?(j=h&&e!=null&&e!==""&&e.length>0?k.jsx(c("PolarisIGCoreText"),{display:"truncated",children:e}):k.jsx(c("PolarisIGCoreText").BodyEmphasized,{display:"truncated",children:a}),b[0]=e,b[1]=h,b[2]=a,b[3]=j):j=b[3];b[4]!==f||b[5]!==j||b[6]!==a?(e=k.jsx(c("PolarisUserLink.react"),{className:"_aci-","data-testid":void 0,onClick:f,username:a,children:j}),b[4]=f,b[5]=j,b[6]=a,b[7]=e):e=b[7];b[8]!==g?(h=g&&k.jsx(c("IGDSBox.react"),{"data-testid":void 0,marginStart:1,position:"relative",children:k.jsx(c("IGDSVerifiedBadge.react"),{size:"small"})}),b[8]=g,b[9]=h):h=b[9];b[10]!==e||b[11]!==h?(f=k.jsxs(k.Fragment,{children:[e,h]}),b[10]=e,b[11]=h,b[12]=f):f=b[12];return f}function u(a){var b=d("react-compiler-runtime").c(4),e=a.fullName,f=a.showDescription;a=a.suggestionDescription;var g;b[0]!==e||b[1]!==f||b[2]!==a?(g=f&&a!=null?k.jsx("span",{className:"_acj0",title:a,children:k.jsx(c("PolarisIGCoreText"),{color:"ig-secondary-text",display:"truncated",children:o(a)})}):k.jsx("span",{className:"_aci_",title:e,children:k.jsx(c("PolarisIGCoreText"),{color:"ig-secondary-text",display:"truncated",children:e})}),b[0]=e,b[1]=f,b[2]=a,b[3]=g):g=b[3];return g}function a(a){var b=d("react-compiler-runtime").c(56),e=a.analyticsContext,f=a.clickPoint,g=a.impressionModule,h=a.isSmallScreen,j=a.onDismissed,l=a.position,m=a.showDescription;a=a.user;var n=a.fullName,o=a.id,s=a.isVerified,v=a.profilePictureUrl,w=a.suggestionDescription,x=a.username;b[0]!==e||b[1]!==g||b[2]!==l||b[3]!==o?(a=function(a){d("PolarisConnectionsLogger").logConnectionAction({containerModule:e,eventName:a,position:l,targetId:o,viewModule:g})},b[0]=e,b[1]=g,b[2]=l,b[3]=o,b[4]=a):a=b[4];var y=a,z=g===d("PolarisConnectionsLogger").VIEW_MODULES.web_profile_chaining,A=c("useCometRouterDispatcher")();b[5]!==e||b[6]!==f||b[7]!==z||b[8]!==y?(a=function(a){p("username",e,f),y(z?"similar_username_tapped":"recommended_username_tapped"),a.stopPropagation()},b[5]=e,b[6]=f,b[7]=z,b[8]=y,b[9]=a):a=b[9];a=a;var B;b[10]!==e||b[11]!==f||b[12]!==z||b[13]!==y?(B=function(){p("follow",e,f),y(z?"similar_user_follow_button_tapped":"recommended_follow_button_tapped")},b[10]=e,b[11]=f,b[12]=z,b[13]=y,b[14]=B):B=b[14];B=B;var C;b[15]!==z||b[16]!==y||b[17]!==j||b[18]!==o?(C=function(){y(z?"similar_user_dismiss_tapped":"recommended_user_dismissed"),j&&j(o)},b[15]=z,b[16]=y,b[17]=j,b[18]=o,b[19]=C):C=b[19];C=C;var D;b[20]!==A||b[21]!==x?(D=function(){c("isStringNullOrEmpty")(x)&&i(0,51399);var a=d("PolarisLinkBuilder").buildUserLink(x);A==null?void 0:A.go(a,{})},b[20]=A,b[21]=x,b[22]=D):D=b[22];D=D;var E;b[23]!==e||b[24]!==f||b[25]!==h||b[26]!==v||b[27]!==x?(E=k.jsx(q,{analyticsContext:e,clickPoint:f,isSmallScreen:h,profilePictureUrl:v,username:x}),b[23]=e,b[24]=f,b[25]=h,b[26]=v,b[27]=x,b[28]=E):E=b[28];v=j?C:null;b[29]!==e||b[30]!==f||b[31]!==B||b[32]!==o||b[33]!==x?(C=k.jsx(r,{analyticsContext:e,clickPoint:f,handleFollowButtonClick:B,userId:o,username:x}),b[29]=e,b[30]=f,b[31]=B,b[32]=o,b[33]=x,b[34]=C):C=b[34];b[35]!==n||b[36]!==a||b[37]!==s||b[38]!==m||b[39]!==w||b[40]!==x?(B=k.jsx(t,{fullName:n,handleUsernameClick:a,isVerified:s,showDescription:m,suggestionDescription:w,username:x}),b[35]=n,b[36]=a,b[37]=s,b[38]=m,b[39]=w,b[40]=x,b[41]=B):B=b[41];b[42]!==n||b[43]!==m||b[44]!==w?(a=k.jsx(u,{fullName:n,showDescription:m,suggestionDescription:w}),b[42]=n,b[43]=m,b[44]=w,b[45]=a):a=b[45];b[46]!==e||b[47]!==f||b[48]!==D||b[49]!==h||b[50]!==a||b[51]!==E||b[52]!==v||b[53]!==C||b[54]!==B?(s=k.jsx(c("PolarisFollowChainingListItem.react"),{analyticsContext:e,clickPoint:f,icon:E,isSmallScreen:h,onClick:D,onDismissed:v,primaryCta:C,primaryText:B,secondaryText:a}),b[46]=e,b[47]=f,b[48]=D,b[49]=h,b[50]=a,b[51]=E,b[52]=v,b[53]=C,b[54]=B,b[55]=s):s=b[55];return s}g["default"]=a}),98);
__d("PolarisFollowChainingList.react",["cx","fbt","DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE","IGDSBox.react","PolarisConnectionsLogger","PolarisErrorRetrySection.react","PolarisFollowCard.react","PolarisIGCoreText","PolarisScrollWatchedComponent.react","PolarisSeeAllLink.react","PolarisUA","PolarisVirtualHSnapScrollCollapsibleList.react","isStringNullOrEmpty","joinClasses","nullthrows","polarisLogAction","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=i._(/*BTDS*/"__JHASH__2k--O48PVwS__JHASH__"),m={cardWidth:156,gapWidth:5,gutterWidth:20},n={cardWidth:160,gapWidth:10,gutterWidth:0},o={cardWidth:176,gapWidth:24,gutterWidth:24},p=208,q=216,r=10;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.$5=function(){c.$1=!0,c.$6(),c.props.onScrollEnter&&c.props.onScrollEnter()};c.$7=function(){c.$1=!1,c.props.onScrollLeave&&c.props.onScrollLeave()};c.$8=function(a){var b=a.endPct;a=a.startPct;c.$2=Math.max(0,Math.floor(a));c.$3=Math.max(0,Math.floor(b));c.$6()};c.$1=!1;c.$4={};return c}var e=b.prototype;e.$6=function(){if(!this.$1||this.$2==null||this.$3==null||this.props.chainingSuggestions==null)return;for(var a=this.$2;a<=this.$3;++a){var b=this.props.chainingSuggestions[a];if(b==null)continue;if(!this.$4[b.id]){var e=this.props.impressionModule,f={containerModule:this.props.analyticsContext,position:a,targetId:b.id,viewModule:e};e===d("PolarisConnectionsLogger").VIEW_MODULES.web_profile_chaining?d("PolarisConnectionsLogger").logConnectionAction(babelHelpers["extends"]({eventName:"similar_user_impression"},f)):e===d("PolarisConnectionsLogger").VIEW_MODULES.hscroll_feed||e===d("PolarisConnectionsLogger").VIEW_MODULES.end_of_feed?d("PolarisConnectionsLogger").logConnectionAction(babelHelpers["extends"]({eventName:"recommended_user_impression"},f)):e===d("PolarisConnectionsLogger").VIEW_MODULES.trending_accounts_private_profile&&c("polarisLogAction")("trendingAccountModuleScroll",{position:a,source:this.props.analyticsContext,targetId:b.id,viewModule:e});this.$4[b.id]=!0}}};e.render=function(){var a=this.props,b=a.analyticsContext,e=a.chainingFailed,f=a.chainingSuggestions,g=a.className,h=a.clickPoint,j=a.impressionModule,s=a.isSmallScreen,t=a.isTrendingAccountModule;t=t===void 0?!1:t;var u=a.onRetryClicked,v=a.onSuggestionDismissed,w=a.overscan,x=a.seeAllHref,y=a.showDescription;a=a.title;var z=b===d("PolarisConnectionsLogger").CONNECTIONS_CONTAINER_MODULES.profile&&d("PolarisUA").isDesktop(),A=b===d("PolarisConnectionsLogger").CONNECTIONS_CONTAINER_MODULES.feed_timeline&&d("PolarisUA").isDesktop(),B=s?m:z?n:o,C=y?q:p,D=f&&f.map(function(a,d){return k.jsx(c("PolarisFollowCard.react"),{analyticsContext:b,clickPoint:h,impressionModule:j,isSmallScreen:s,onDismissed:v,position:d,showDescription:y,user:a},a.id)});D!=null&&(D=D.map(function(a){return k.jsx(c("IGDSBox.react"),{alignItems:"center",height:C,position:"relative",width:B.cardWidth+(z&&!s?0:B.gapWidth),children:k.jsx(c("IGDSBox.react"),{position:"relative",width:B.cardWidth,children:a})},c("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(a).key)}));return k.jsxs(c("PolarisScrollWatchedComponent.react"),{className:c("joinClasses")(g,(s||z?"_ackg":"")+(!s&&!z?" _ackh":"")),onScrollEnter:this.$5,onScrollLeave:this.$7,children:[e!==!0&&!f&&k.jsx("div",{className:"_acki",children:k.jsx("p",{children:l})}),e===!0&&k.jsx("div",{className:"_ackj",children:k.jsx(c("PolarisErrorRetrySection.react"),{errorText:i._(/*BTDS*/"__JHASH__NNRhOmL9Qil__JHASH__"),onRetry:c("nullthrows")(u)})}),e!==!0&&f&&k.jsxs("div",{className:"_ackk"+(!A&&(!z||s)?" _ajrd":"")+(A||z&&!s?" _ajre":""),children:[k.jsx("span",{className:"_ackl",children:k.jsx(c("PolarisIGCoreText").BodyEmphasized,{color:t?"ig-primary-text":"ig-secondary-text",zeroMargin:!0,children:a})}),!c("isStringNullOrEmpty")(x)&&k.jsx(c("PolarisSeeAllLink.react"),{href:x,onClick:this.props.onSeeAllClicked})]}),e!==!0&&f&&D!=null&&k.jsx(c("IGDSBox.react"),{height:C,position:"relative",children:k.jsx(c("PolarisVirtualHSnapScrollCollapsibleList.react"),{gutterWidth:A||z&&!s?0:Math.max(0,B.gutterWidth-B.gapWidth/2),initialVisibleItemsGuess:r,itemWidth:B.cardWidth+B.gapWidth,onVisibilityChange:this.$8,overscan:w,children:D})})]})};return b}(k.Component);a.defaultProps={showDescription:!1};g["default"]=a}),226);
__d("PolarisPostsGridItemStatsOverlayContainer.react",["PolarisBoostAcquisitionUtils","PolarisConfig","PolarisPostsGridItemStatsOverlay.react","PolarisReactRedux.react","polarisPostSelectors","react","react-compiler-runtime","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b,e=d("react-compiler-runtime").c(17),f=a.id;e[0]!==f?(a=function(a){return f?d("polarisPostSelectors").getPostById(a,f):null},e[0]=f,e[1]=a):a=e[1];a=d("PolarisReactRedux.react").useSelector(a);b=(b=(b=c("usePolarisViewer")())==null?void 0:b.isProfessionalAccount)!=null?b:!1;var g=(a==null?void 0:a.ownerId)!=null&&(a==null?void 0:a.ownerId)===d("PolarisConfig").getViewerId();if(!a)return null;var h;e[2]!==b||e[3]!==g?(h=d("PolarisBoostAcquisitionUtils").isEligibleForBoostButtonOverlay(b,g),e[2]=b,e[3]=g,e[4]=h):h=e[4];b=h;e[5]!==b||e[6]!==a.boostUnavailableIdentifier||e[7]!==a.boostUnavailableReason||e[8]!==a.boostedStatus||e[9]!==a.commentsDisabled||e[10]!==a.id||e[11]!==a.isVideo||e[12]!==a.numComments||e[13]!==a.numPreviewLikes||e[14]!==a.productType||e[15]!==a.videoViews?(g=i.jsx(c("PolarisPostsGridItemStatsOverlay.react"),{boostedStatus:a.boostedStatus,boostUnavailableIdentifier:a.boostUnavailableIdentifier,boostUnavailableReason:a.boostUnavailableReason,commentsDisabled:a.commentsDisabled,isVideo:a.isVideo,mediaId:a.id,numComments:a.numComments,numPreviewLikes:a.numPreviewLikes,productType:a.productType,showBoostButton:b,videoViews:a.videoViews}),e[5]=b,e[6]=a.boostUnavailableIdentifier,e[7]=a.boostUnavailableReason,e[8]=a.boostedStatus,e[9]=a.commentsDisabled,e[10]=a.id,e[11]=a.isVideo,e[12]=a.numComments,e[13]=a.numPreviewLikes,e[14]=a.productType,e[15]=a.videoViews,e[16]=g):g=e[16];return g}g["default"]=a}),98);
__d("PolarisPostsGridItemOptionalOverlay.react",["PolarisConfig","PolarisPostsGridItemOverlay.react","PolarisPostsGridItemStatsOverlayContainer.react","PolarisShouldHideLikeCountsWithControls","react","react-compiler-runtime","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e=a.isFocused,f=a.post;a=a.shouldShowStats;var g=f.numPreviewLikes,h=f.owner;h=h!==void 0&&h.id===d("PolarisConfig").getViewerId();var j=c("usePolarisViewer")();if(!e)return null;if(g==null)return null;e=g===-1||d("PolarisShouldHideLikeCountsWithControls").shouldHideLikeCountsWithControls(j==null?void 0:j.hideLikeAndViewCounts,f.likeAndViewCountsDisabled,h);if(e)return null;b[0]!==f.id||b[1]!==a?(g=a?i.jsx(c("PolarisPostsGridItemStatsOverlayContainer.react"),{id:f.id}):i.jsx(c("PolarisPostsGridItemOverlay.react"),{}),b[0]=f.id,b[1]=a,b[2]=g):g=b[2];return g}g["default"]=a}),98);
__d("PolarisPostsGridItem.react",["fbt","PolarisDynamicExploreMediaHelpers","PolarisExploreLogger","PolarisFastLink.react","PolarisInstagramMediaOverlayFalcoEvent","PolarisLinkBuilder","PolarisOrganicThumbnailImpression","PolarisPhoto.react","PolarisPostCaptionInHeadlineTag","PolarisPostsGridItemMediaIndicator.react","PolarisPostsGridItemOptionalOverlay.react","PolarisReactRedux.react","PolarisSensitivityOverlay.react","PolarisUA","PolarisViewpointReact.react","isStringNullOrEmpty","nullthrows","polarisGetPostFromGraphMediaInterface","polarisMediaOverlayInfoUtils","polarisPostSelectors","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useEffect,m=b.useState,n={root:{display:"x1lliihq",position:"x1n2onr6",width:"xh8yej3",":active_opacity":"x4gyw5p",$$css:!0}};function o(a,b){var c=b||{},e=c.mediaOverlayInfo;d("PolarisInstagramMediaOverlayFalcoEvent").PolarisInstagramMediaOverlayFalcoEvent.log(function(){return d("PolarisInstagramMediaOverlayFalcoEvent").PolarisInstagramMediaOverlayFalcoEvent.buildPayloadForLog({containerModule:d("PolarisInstagramMediaOverlayFalcoEvent").PolarisInstagramMediaOverlayFalcoEvent.getLoggableContainerModuleFromAnalyticsContext(a),customAction:"go_to_post",customSourceOfAction:"media_grid",entityID:b.id,event:d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.ACTION,overlayLayout:d("polarisMediaOverlayInfoUtils").getMediaOverlayLayout(e),overlayType:d("polarisMediaOverlayInfoUtils").getMediaOverlayType(e)})})}var p=h._(/*BTDS*/"__JHASH__0C3tbV4wRe8__JHASH__");function q(a){var b=d("react-compiler-runtime").c(18),e=a.analyticsContext;a=a.post;var f,g,h,i,j,l,m,n;if(b[0]!==e||b[1]!==a){n=Symbol["for"]("react.early_return_sentinel");bb0:{var o=d("polarisGetPostFromGraphMediaInterface").getPostOrSidecarItemForSensitivityOverlay(a);if(o==null){n=null;break bb0}var p=d("polarisGetPostFromGraphMediaInterface").getMediaOverlayMediaCoverInfoFromPostOrSidecarItem(o),q=o.id,r=o.isVideo,s=o.mediaPreview,t=o.owner;g=s;s=o===a&&(a==null?void 0:a.isSidecar)===!0;f=c("PolarisSensitivityOverlay.react");h=e;i=r!==!0&&!s;j=q;l=p;m=c("nullthrows")(t)}b[0]=e;b[1]=a;b[2]=f;b[3]=g;b[4]=h;b[5]=i;b[6]=j;b[7]=l;b[8]=m;b[9]=n}else f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],l=b[7],m=b[8],n=b[9];if(n!==Symbol["for"]("react.early_return_sentinel"))return n;b[10]!==f||b[11]!==g||b[12]!==h||b[13]!==i||b[14]!==j||b[15]!==l||b[16]!==m.id?(o=k.jsx(f,{analyticsContext:h,isPhoto:i,mediaId:j,mediaOverlayCoverInfo:l,ownerId:m.id,previewData:g,variant:"grid"}),b[10]=f,b[11]=g,b[12]=h,b[13]=i,b[14]=j,b[15]=l,b[16]=m.id,b[17]=o):o=b[17];return o}function a(a){var b=d("react-compiler-runtime").c(58),e=a.analyticsContext,f=a.id,g=a.isVisible,h=a.mediaLinkBuilder,j=a.onClick,s=a.onImpression,t=a.onMediaRendered,u=a.profileUser,v=a.shouldSpawnModals,w=a.xstyle,x=a.loggingData;a=h===void 0?d("PolarisLinkBuilder").buildMediaLink:h;b[0]!==f?(h=function(a){return d("polarisPostSelectors").getPostById(a,f)},b[0]=f,b[1]=h):h=b[1];var y=d("PolarisReactRedux.react").useSelector(h),z=y.accessibilityCaption,A=y.caption;h=y.code;var B=y.felixProfileGridCrop,C=y.hasUpcomingEvent,D=y.isSidecar,E=y.isVideo,F=y.pinnedForUsers,G=y.src,H=y.thumbnailResources,I=y.thumbnailSrc,J=m(!1),K=J[0],L=J[1];J=m(!1);var M=J[0],N=J[1],O;b[2]!==g||b[3]!==s||b[4]!==y?(J=function(){s&&g&&s(y)},O=[s,g,y],b[2]=g,b[3]=s,b[4]=y,b[5]=J,b[6]=O):(J=b[5],O=b[6]);l(J,O);b[7]!==f||b[8]!==t?(J=function(a,b){t&&t(f,b)},b[7]=f,b[8]=t,b[9]=J):J=b[9];var P=J;b[10]!==e||b[11]!==x||b[12]!==j||b[13]!==y?(O=function(a,b){b!=null&&o(e,b),j&&j(a,y,x),N(!1)},b[10]=e,b[11]=x,b[12]=j,b[13]=y,b[14]=O):O=b[14];var Q=O;b[15]!==h||b[16]!==E||b[17]!==a?(J=a(c("nullthrows")(h),E),b[15]=h,b[16]=E,b[17]=a,b[18]=J):J=b[18];var R=J;b[19]!==E||b[20]!==y?(O=E===!0&&d("polarisGetPostFromGraphMediaInterface").isClipsPost(y),b[19]=E,b[20]=y,b[21]=O):O=b[21];var S=O;b[22]!==y?(h=d("polarisGetPostFromGraphMediaInterface").getPostOrSidecarItemForSensitivityOverlay(y),b[22]=y,b[23]=h):h=b[23];var T=h;a=(x==null?void 0:x.displayVariant)||"BASIC";b[24]!==e||b[25]!==x||b[26]!==y||b[27]!==a?(J=d("PolarisOrganicThumbnailImpression").makeThumbnailImpressionAction(babelHelpers["extends"]({analyticsContext:e,gridItemSize:d("PolarisDynamicExploreMediaHelpers").GRID_ITEM_SIZE.ONE_BY_ONE,itemType:d("PolarisExploreLogger").getDiscoverGridItemType(a),mediaType:d("polarisGetPostFromGraphMediaInterface").getPostMediaType(y),postId:y.id},x)),b[24]=e,b[25]=x,b[26]=y,b[27]=a,b[28]=J):J=b[28];b[29]!==J?(O=[J],b[29]=J,b[30]=O):O=b[30];h=O;b[31]!==z||b[32]!==e||b[33]!==A||b[34]!==R||b[35]!==B||b[36]!==Q||b[37]!==C||b[38]!==S||b[39]!==K||b[40]!==D||b[41]!==M||b[42]!==E||b[43]!==T||b[44]!==P||b[45]!==F||b[46]!==y||b[47]!==(u==null?void 0:u.id)||b[48]!==v||b[49]!==G||b[50]!==H||b[51]!==I||b[52]!==w?(a=function(a){return k.jsxs("div",{className:(i||(i=c("stylex")))(n.root,w),"data-testid":void 0,ref:a,children:[k.jsxs(c("PolarisFastLink.react"),{"aria-label":T!=null?p:void 0,href:R,onBlur:function(){return N(!1)},onClick:function(a){return Q(a,T)},onFocus:function(){return N(!0)},onMouseEnter:function(){return L(!0)},onMouseLeave:function(){return L(!1)},shouldOpenModal:v===!0,children:[T!=null?k.jsx(q,{analyticsContext:e,post:y}):k.jsx(c("PolarisPhoto.react"),{accessibilityCaption:z,caption:A,ignoreSrcSet:!0,onPhotoRendered:P,profileGridCrop:B,rich:!0,src:c("nullthrows")(c("isStringNullOrEmpty")(I)?G:I),srcSet:H}),T==null&&k.jsx(c("PolarisPostsGridItemMediaIndicator.react"),{hasUpcomingEvent:C===!0,isClipsVideo:S,isPinnedForThisUser:(F||[]).map(r).includes(u==null?void 0:u.id),isSharedToCloseFriends:y.audience==="MediaAudience.BESTIES",isSidecar:D===!0,isVideo:E===!0}),k.jsx(c("PolarisPostsGridItemOptionalOverlay.react"),{isFocused:!d("PolarisUA").isMobile()&&(M||K),post:y,shouldShowStats:T==null})]}),e==="profilePage"&&k.jsx(c("PolarisPostCaptionInHeadlineTag"),{caption:A})]})},b[31]=z,b[32]=e,b[33]=A,b[34]=R,b[35]=B,b[36]=Q,b[37]=C,b[38]=S,b[39]=K,b[40]=D,b[41]=M,b[42]=E,b[43]=T,b[44]=P,b[45]=F,b[46]=y,b[47]=u==null?void 0:u.id,b[48]=v,b[49]=G,b[50]=H,b[51]=I,b[52]=w,b[53]=a):a=b[53];b[54]!==y.id||b[55]!==a||b[56]!==h?(J=k.jsx(d("PolarisViewpointReact.react").Viewpoint,{action:h,id:y.id,children:a}),b[54]=y.id,b[55]=a,b[56]=h,b[57]=J):J=b[57];return J}function r(a){return a.id}g["default"]=a}),226);
__d("PolarisPPRLoggedPostsGridItem",["PolarisPostsGridItem.react","polarisWithPPRLogging"],(function(a,b,c,d,e,f,g){"use strict";a=c("polarisWithPPRLogging")(c("PolarisPostsGridItem.react"));g["default"]=a}),98);
__d("PolarisSavedPostsLogger",["InstagramODS"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(b){case"saved":case"SavedCollectionPage":case"postPage":case"feed":case"profile":case"selfProfilePageModal":case"exploreLandingPageModal":c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.createCollection."+a+"."+b);break;default:c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.createCollection."+a+".undefined")}}function b(a,b){switch(b){case"saved":case"SavedCollectionPage":case"postPage":case"feed":case"profile":case"selfProfilePageModal":case"exploreLandingPageModal":c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.editCollection."+a+"."+b);break;default:c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.editCollection."+a+".undefined")}}function d(a,b){switch(b){case"SavedCollectionPage":c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.deleteCollection."+a+".SavedCollectionPage");break;default:c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.deleteCollection."+a+".undefined")}}g.logCreateCollection=a;g.logEditCollection=b;g.logDeleteCollection=d}),98);
__d("PolarisUserActionDismissRelatedProfileSuggestion",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return function(c){c({dismissedId:b,targetId:a,type:"RELATED_PROFILE_DISMISSED_SUGGESTION"})}}f.dismissRelatedProfileSuggestion=a}),66);
__d("PolarisVirtualPostsGrid.react",["IGDSSpinner.react","PolarisPPRLoggedPostsGridItem","PolarisPostsGridQEHelpers","PolarisVirtualPostsGridConstants","PolarisVirtualizedWithScrollLogging.react","polarisLogAction","react","shallowEqual","stylex","usePrevious","vc-tracker"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useEffect,m=b.useRef,n=b.useState,o={item:{marginEnd:"x2pgyrj x56m6dy x1ntc13c xn45foy x1upln17",$$css:!0},item4px:{marginEnd:"x2pgyrj x56m6dy x1ntc13c xn45foy x9i3mqj",$$css:!0},row:{marginBottom:"xzboxd6 x11ulueq x1f01sob xwq5r7b x1rqjbyr",$$css:!0},row4px:{marginBottom:"xzboxd6 x11ulueq x1f01sob xwq5r7b xcghwft",$$css:!0}},p=4,q=8,r=[],s=[],t=0;function a(a){var b=a.PostGridItem,e=a.allowSampledScrollLogging;e=e===void 0?!1:e;var f=a.hasNextPage,g=a.initialRowsRenderCount;g=g===void 0?p:g;var i=a.isFetching,u=a.onNextPage,v=a.overscanRowsCount;v=v===void 0?q:v;var w=a.postIds,x=w===void 0?r:w;w=a.posts;var y=w===void 0?s:w;w=a.postsPerRow;w=w===void 0?3:w;var z=a.shouldSpawnModals,A=a.sizeCache,B=a.visibleCount,C=a.analyticsContext,D=a.loggingData,E=a.mediaLinkBuilder,F=a.onClick,G=a.onImpression,H=a.profileUser,I=m(null);a=n(0);var J=a[0],K=a[1],L=c("usePrevious")({hasNextPage:f,postIds:x}),M=k(function(){return t++},[]);l(function(){K(M())},[M]);var N=function(a){a=a.numScreensFromEnd;f&&!i&&u&&(a<d("PolarisVirtualPostsGridConstants").NEXT_PAGE_THRESHOLD&&(c("polarisLogAction")("loadMoreScroll"),u()))},O=d("PolarisPostsGridQEHelpers").getMarginForPostsGridItems();a=function(a){var d=a.index,e=a.isVisible;a.visibleIndex;a=babelHelpers.objectWithoutPropertiesLoose(a,["index","isVisible","visibleIndex"]);var f=y[d];f=f?f.id:x[d];return b?j.jsx(b,{analyticsContext:C,className:(h||(h=c("stylex")))(O===28&&o.item,O===4&&o.item4px),id:f,isVisible:e,loggingData:babelHelpers["extends"]({},a,D),mediaLinkBuilder:E,onClick:F,onImpression:G,profileUser:H,shouldSpawnModals:z},f):j.jsx(c("PolarisPPRLoggedPostsGridItem"),{analyticsContext:C,id:f,isGridView:!0,isVisible:e,loggingData:babelHelpers["extends"]({},a,D),mediaLinkBuilder:E,onClick:F,onImpression:G,profileUser:H,shouldSpawnModals:z,xstyle:O===28?o.item:O===4?o.item4px:null},f)};l(function(){var a;if(L==null)return;a=(a=L)!=null?a:{};var b=a.hasNextPage;a=a.postIds;var d=I.current;d&&!c("shallowEqual")(a,x)&&d.forceUpdate();f!==b&&u&&u()},[f,u,x,L]);l(function(){return function(){c("vc-tracker").getCurrentVCTraces().forEach(function(a){a.unlock("VirtualPostsGrid_isFetching_"+J)})}},[J]);i?c("vc-tracker").getCurrentVCTraces().forEach(function(a){a.lock("VirtualPostsGrid_isFetching_"+J)}):c("vc-tracker").getCurrentVCTraces().forEach(function(a){a.unlock("VirtualPostsGrid_isFetching_"+J)});return j.jsxs(j.Fragment,{children:[j.jsx(d("PolarisVirtualizedWithScrollLogging.react").IGVirtualGridWithLogging,{allowSampledScrollLogging:e,analyticsContext:C,estimatedItemSize:d("PolarisVirtualPostsGridConstants").POSTS_ROW_ESTIMATED_HEIGHT,initialRenderCount:g,itemCount:B,itemsPerRow:w,onInitialize:function(a){a=a.numScreensFromEnd;a<0&&N({numScreensFromEnd:a})},onScroll:N,overscanCount:v,ref:I,renderer:a,rendererPlaceholder:function(a){return j.jsx("div",{className:(h||(h=c("stylex")))(O===28&&o.item,O===4&&o.item4px)},a)},rowClassName:(h||(h=c("stylex")))(O===28&&o.row,O===4&&o.row4px),sizeCache:A}),f&&j.jsx("div",{className:"x1qjc9v5 x9f619 x78zum5 xdt5ytf x2lah0s xsdox4t x11i5rnm xat24cr x1mh8g0r x1tfhste x1n2onr6 x11njtxf",children:j.jsx(c("IGDSSpinner.react"),{position:"absolute",size:"medium"})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("polarisRelatedProfileSelectors.react",["PolarisReactRedux.react","polarisUserSelectors","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return a.relatedProfiles.relatedProfileSuggestions[b]}function a(a){var b=d("react-compiler-runtime").c(2),c;b[0]!==a?(c=function(b){return d("polarisUserSelectors").getUsersByIds(b,h(b,a))},b[0]=a,b[1]=c):c=b[1];return d("PolarisReactRedux.react").useSelector(c)}g.getRelatedProfileSuggestions=h;g.useRelatedProfileSuggestions=a}),98);/*FB_PKG_DELIM*/
__d("IIGDAPI",["MAWBridge"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(){for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];return d("MAWBridge").getBridge().sendAndReceive("backend","igdapi",{args:c,type:a})}}g.makeBridgedApi=a}),98);
__d("IGDBridgedAPI",["IIGDAPI"],(function(a,b,c,d,e,f,g){"use strict";b={33:(a=d("IIGDAPI")).makeBridgedApi("33"),46:a.makeBridgedApi("46"),sendEditMessage:a.makeBridgedApi("sendEditMessage"),sendMediaMessage:a.makeBridgedApi("sendMediaMessage"),sendOrRemoveReaction:a.makeBridgedApi("sendOrRemoveReaction"),sendXmaReceiverFetch:a.makeBridgedApi("sendXmaReceiverFetch")};c=b;g["default"]=c}),98);
__d("LSClientDependencies",[],(function(a,b,c,d,e,f){}),null);
__d("LSDynamicDependencies",["Bootloader","ODS","Promise","SiteData","asyncToGeneratorRuntime","clearTimeout","cr:1183","err","justknobx","nullthrows","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=babelHelpers["extends"]({},b("cr:1183")),k={_tombstone:!0};function a(a){var e=new Map();for(a of a){var f=a.name;f!=null&&!n(f)&&e.set(f,c("nullthrows")(a.value))}if(e.size===0)return(i||(i=b("Promise"))).resolve();var g=new(i||(i=b("Promise")))(function(a){var f={},i=[],k=function(c){var a=c[0];c=c[1];c=c==null?void 0:c.__dr;f[c]={be:1,r:[]};i.push(c);(h||(h=d("ODS"))).bumpEntityKey(3185,"ls_download_dependency.relay",c);j[a]={load:function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield g;return j[a]});function d(){return c.apply(this,arguments)}return d}()}};for(var m of e)k(m);c("Bootloader").handlePayload({compMap:f,consistency:{rev:c("SiteData").client_revision}});l(c("Bootloader"),i,function(b){Array.from(e.entries()).forEach(function(a,c){var d=a[0];a[1];j[d]=b[c]}),a()})});return g}function l(a,b,c){return a.loadModules.call(a,b,function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return c(b)})}function m(a){return a.charAt(0).toUpperCase()+a.slice(1)}function n(a){return a in j&&j[a]!==k}var o=c("justknobx")._("2800");function e(a,e,f){var g=new Map();for(a of(a=a)!=null?a:[]){n(a)||g.set(a,"LS"+m(a))}for(e of(a=e)!=null?a:[]){!n(e+".bs")?g.set(e+".bs","LS"+m(e)+".nop"):e+".nop"in j||g.set(e+".nop","LS"+m(e)+".nop")}for(e of(a=f)!=null?a:[]){e in j||g.set(e,"LS"+m(e))}if(g.size===0)return(i||(i=b("Promise"))).resolve();var p=new(i||(i=b("Promise")))(function(a,e){var f={},i=[],m=function(a){var c=a[0];a=a[1];(h||(h=d("ODS"))).bumpEntityKey(3185,"ls_download_dependency.bootloader",a);f[a]={be:1,r:[]};i.push(a);j[c]={load:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{yield p}catch(a){j[c]=k;throw a}return j[c]});function d(){return a.apply(this,arguments)}return d}()}};for(var n of g)m(n);c("Bootloader").handlePayload({compMap:f,consistency:{rev:c("SiteData").client_revision}});var q=l(c("Bootloader"),i,function(b){c("clearTimeout")(r),Array.from(g.entries()).forEach(function(a,c){var d=a[0];a[1];j[d]=b[c]}),a()}),r=c("setTimeout")(function(){q.remove(),e(c("err")("Dynamic sproc loading timeout (%s ms); was loading: %s",o,Array.from(g.keys())))},o)});return p}g.cachedModules=j;g.TOMBSTONE=k;g.downloadRelayDependencies=a;g.downloadBootloaderDependencies=e}),98);
__d("LSInt64Lite",["FBLogger","I64","XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";var h;a={add:(h||(h=d("I64"))).add,and_:h.and_,asr_:h.asr_,cast:function(a){a._tag="i64";return a},div:h.div,eq:function(a,b){return a==null&&b==null||a!=null&&b!=null&&(h||(h=d("I64"))).equal(a,b)},from_string:function(a){try{return(h||(h=d("I64"))).of_string(a)}catch(b){throw c("FBLogger")("messenger_comet").mustfixThrow('Unable to cast "%s" to int64',a)}},ge:h.ge,gt:h.gt,le:h.le,lsl_:h.lsl_,lsr_:h.lsr_,lt:h.lt,max:h.max,min:h.min,mod_:h.mod_,mul:h.mul,neq:function(a,b){return a==null&&b!=null||a!=null&&b==null||a!=null&&b!=null&&!(h||(h=d("I64"))).equal(a,b)},of_float:h.of_float,of_int32:h.of_int32,or_:h.or_,random:function(){var a=Array.from(d("XPlatReactCrypto").getRandomValues(new Uint32Array(2)));a[0]>>>=1;return(h||(h=d("I64"))).add(h.lsl_(h.of_float(a[0]),32),h.of_float(a[1]))},sub:h.sub,to_float:h.to_float,to_int32:h.to_int32,to_string:function(a){return a==null?a:(h||(h=d("I64"))).to_string(a)},xor:h.xor};g["default"]=a}),98);
__d("LSMaybeSyncIteration",["LSSynchronousPromise","isPromise"],(function(a,b,c,d,e,f,g){"use strict";var h,i={__val__:"__stop_iteration__"};function a(a){return{__val__:"__next_value__",next:a}}function j(a){return a!=null&&typeof a==="object"&&a.__val__==="__next_value__"}function k(a,b,e){var f=l(a,e);while(!(h||(h=c("isPromise")))(f)){if(f.done)return d("LSSynchronousPromise").makeSynchronousPromise(f);e=d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(b(f));if(!(h||(h=c("isPromise")))(e)){if(e===i)return d("LSSynchronousPromise").makeSynchronousPromise(f);var g=j(e)?e.next:void 0;f=l(a,g)}else return e.then(function(c){if(c===i)return f;c=j(c)?c.next:void 0;return k(a,b,c)})}var n=m(b);return f.then(function(c){return c.done?c:n(c).then(function(d){if(d===i)return c;d=j(d)?d.next:void 0;return k(a,b,d)})})}function l(a,b){a=a.next(b);return!(h||(h=c("isPromise")))(a)?a:d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a)}function m(a){return function(b){b=a(b);return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(b)}}g.STOP_ITERATION=i;g.wrapNextValue=a;g.iteratorLoop=k}),98);
__d("LSIterationOperations",["I64","LSDict","LSMaybeSyncIteration","LSSynchronousPromise","ReStoreKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){var c;return c={},c[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return j(a,b)},c.next=function(){var c={done:!0},e=function(a){return d("LSSynchronousPromise").wrapInMaybeSyncPromiseIfNotPromise(b(a.value.item)).then(function(b){if(b){c=a;return d("LSMaybeSyncIteration").STOP_ITERATION}})};return d("LSMaybeSyncIteration").iteratorLoop(a,e).then(function(){return c})},c}function k(a,b,c){var e,f=0;return e={},e[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return k(a,b,c)},e.next=function(){if(f>=c)return d("LSSynchronousPromise").maybeMakeSynchronousPromise({done:!0});var e={done:!0},g=function(a){if(f++<b)return;e=a;return d("LSMaybeSyncIteration").STOP_ITERATION};return d("LSMaybeSyncIteration").iteratorLoop(a,g).then(function(){return e})},e}function a(a,b){return l(a).then(function(a){return a.reduce(function(a,c){return a.then(function(){return b(c)})},d("LSSynchronousPromise").maybeMakeSynchronousPromise(void 0))})}function l(a){var b=[],c=function(a){b.push(a.value)};return d("LSMaybeSyncIteration").iteratorLoop(a,c).then(function(){return b})}function m(a,b,c){var e;c===void 0&&(c=[]);var f={ASC:1,DESC:-1},g=function(a,c){a=a.item;c=c.item;for(var e=0;e<b.length;e++){var g=b[e];g=g[0];var i=a[g];g=c[g];var j;i==null&&g==null?j=0:i==null&&g!=null?j=-1:i!=null&&g==null?j=1:j=(h||(h=d("ReStoreKeyComparer"))).compareValue(i,g);if(j===0)continue;return j*f[b[e][1]]}return 0},i,j=[],k=[],l=function(a){var b=[];for(var d=c.length-1;d>=0;d--)b.push(a[c[d]]);return b},n=function(){k=j,k.sort(g),j=[]};return e={},e[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return m(a,b,c)},e.next=function(){if(k.length)return d("LSSynchronousPromise").maybeMakeSynchronousPromise({done:!1,value:k.shift()});var b=function(a){var b=l(a.value.item);if(i!=null&&(h||(h=d("ReStoreKeyComparer"))).compareKey(i,b)!==0){n();j.push(a.value);i=b;return d("LSMaybeSyncIteration").STOP_ITERATION}i=b;j.push(a.value)};return d("LSMaybeSyncIteration").iteratorLoop(a,b).then(function(){!k.length&&j.length&&n();if(k.length)return{done:!1,value:k.shift()};else return{done:!0}})},e}function b(a){var b=0,c=function(){b++};return d("LSMaybeSyncIteration").iteratorLoop(a,c).then(function(){return(i||(i=d("I64"))).of_int32(b)})}function e(a,b){return{forEach:function(e){return l(a).then(function(a){a=a.reduce(function(a,c){c=c.item[b];var d=(a.get(c)||0)+1;return a.set(c,d)},new(c("LSDict"))());var f=d("LSSynchronousPromise").maybeMakeSynchronousPromise(void 0),g=function(a){var c=a[0],g=a[1];f=f.then(function(){var a;return e((a={},a[b]=c,a.group_count=(i||(i=d("I64"))).of_int32(g),a))})};for(a of a.entries())g(a);return f})}}}g.filter=j;g.slice=k;g.forEach=a;g.toArray=l;g.sortBy=m;g.count=b;g.groupBy=e}),98);
__d("LSJson",["FBLogger","I64","LSDict","LSVec","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=512,j={useLSTypes:!1};function a(a,b){b=b===void 0?j:b;var e=b.useLSTypes;function f(a,b){return function(){return function(c){c=a()(c);if(c!=null){var d=c[0];c=c[1];return[b(d),c]}}}}function g(a){return JSON.parse('"'+a+'"')}function i(a){return function(){return function(b){var c=g(a);if(b.startsWith(c))return[c,b.substr(c.length)];else return void 0}}}function k(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(){return function(a){var c=[];a=a;for(var d=0;d<b.length;d++){var e=b[d];e=e()(a);if(e==null)return void 0;a=e[1];c.push(e[0])}return[c,a]}}}function l(a){return function(){return function(b){var c=a.exec(b);return c!=null?[c,b.substr(c[0].length)]:void 0}}}function m(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(){return function(a){for(var c=0;c<b.length;c++){var d=b[c];d=d()(a);if(d!=null)return d}}}}function n(a){return function(){return function(b){var c=a()(b);return c!=null?c:[void 0,b]}}}function o(a){return function(){return function(b){var c=a()(b),d=[];b=b;while(c!=null)b=c[1],d.push(c[0]),c=a()(b);return[d,b]}}}b=l(/^[\n\r\s]*/);var p=f(l(/^\"((?:[^\"\\]|\\.)*)\"/),function(a){a=a[1];return g(a)}),q=f(l(/^-?\d+(?:(?:\.\d+)?[eE][-\+]?\d+|\.\d+)/),function(a){a=a[0];return Number(a)});l=f(l(/^-?\d+/),function(a){a=a[0];return(h||(h=d("I64"))).of_string(a)});var r=f(i("null"),function(a){return null}),s=f(i("true"),function(a){return!0}),t=f(i("false"),function(a){return!1}),u=f(k(b,p,b,i(":"),function(){return v()}),function(a){var b=a[1];a=a[4];return[b,a]});u=f(k(u,o(k(b,i(","),u))),function(a){var b=a[0];a=a[1];return[b].concat(a.map(function(a){a=a[2];return a}))});u=f(k(i("{"),n(u),b,i("}")),function(a){a=a[1];a=a===void 0?[]:a;return e?new(c("LSDict"))(a):Object.fromEntries(a)});o=f(k(function(){return v()},o(k(b,i(","),function(){return v()}))),function(a){var b=a[0];a=a[1];return[b].concat(a.map(function(a){a=a[2];return a}))});n=f(k(i("["),b,n(o),b,i("]")),function(a){a=a[2];a=a===void 0?[]:a;return e?c("LSVec").ofArray(a):a});var v=f(k(b,m(u,p,q,l,n,r,s,t),b),function(a){a=a[1];return a});o=v()(a);if(o==null)throw c("unrecoverableViolation")("error parsing string","messenger_web_product");if(o[1]!=="")throw c("unrecoverableViolation")("unexpected "+o[1],"messenger_web_product");return o[0]}function k(a,b,e){b===void 0&&(b=0);e===void 0&&(e="");if(b>i)throw c("unrecoverableViolation")("recursion limit exceeded","messenger_comet");if(typeof a==="string"||typeof a==="number")return JSON.stringify(a);else if(typeof a==="boolean")return a?"1":"0";else if(a==null)return"null";else if(typeof a==="object")if(Array.isArray(a)){if(a.tag==="ls-array")return"["+a.map(function(a,c){return k(a,b+1,e+"/"+c.toString())}).join(",")+"]";a._tag!=="i64"&&c("FBLogger")("messenger_web_product").warn("LSJson payload contains untagged i64: %s",e);return(h||(h=d("I64"))).to_string(a)}else if(a instanceof c("LSDict"))return"{"+Array.from(a.entries()).map(function(a){var d=a[0];a=a[1];if(typeof d==="string")return JSON.stringify(d)+":"+k(a,b+1,e+"/"+d);else throw c("unrecoverableViolation")("key must be a string","messenger_comet")}).join(",")+"}";throw c("unrecoverableViolation")("type not supported: "+(a===null?"null":typeof a)+", path: "+e,"messenger_comet")}g.parse=a;g.stringify=k}),98);
__d("LSPendingTasksPluginType",[],(function(a,b,c,d,e,f){a=Object.freeze({LS_BROKER:0,PAYMENTS:1,EPHEMERAL_MESSAGING:2,CARRIER_MESSAGING:3,BUG_REPORTER:4,MESSAGE_DENORMALIZATIONS:5,SEEN_HEADS:6,MEDIA_UPLOAD:7,SECURE_THREAD_SEEN_HEADS:8,WHATSAPP_THREAD:9,SECURE_THREAD_OVER_WA_MESSAGE_SEND:10,CONTACT_PRUNING:11,MEDIA_MANAGER:12,SECURE_THREAD_OVER_WA_ENCRYPTION:13,STORY_POST:14,CO_PRESENCE_HEARTBEAT:16,SECURE_THREAD_OVER_WA_GROUP_MANAGEMENT:17,ENCRYPTED_BACKUPS:23,ANONYMOUS_REQUEST:25,MESSAGE_ACTIONS:28,MESSAGE_UNSEND_ATTACHMENT_CLEANUP:39,IGD_INSTAMADILLO:40,PENDING_MESSAGE_SEND:46});f["default"]=a}),66);
__d("isNativeTask",["I64","LSPendingTasksPluginType"],(function(a,b,c,d,e,f,g){"use strict";var h,i="4",j="16",k=new Set([c("LSPendingTasksPluginType").IGD_INSTAMADILLO]);function a(a){var b=k.has((h||(h=d("I64"))).to_float(a.pluginType));a=a.context===j||a.context===i;return b||a}g["default"]=a}),98);
__d("LSIterationHelpers",["FBLogger","LSMaybeSyncIteration","LSSynchronousPromise","ReStoreKeyComparer","ReStoreVaulting","gkx","isNativeTask","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Set(["messages","attachments","reactions"]);function j(a){return i.has(a)}function k(a,b,d){return a&&b.name==="pending_tasks"&&d!=null&&c("isNativeTask")(d)}function l(a){for(var b of Object.keys(a))a[b]===void 0&&delete a[b];return a}function m(a,b,c){c===void 0&&(c="asc");var e=a.entries(new WeakMap(),c);function f(){var a;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=f,a.next=function(){var a={done:!0},f=0,g="start",i=function(e){var i=function(){var a=f,i=b[a]||{},j=i.end;i=i.start;var k=e.value[0],l=k.slice(0,a);if(i&&g==="start"){g="start_verify";var m=(h||(h=d("ReStoreKeyComparer"))).compareValue(k[a],i[0]),n=m*(c==="asc"?1:-1)<i[1];if(n)if(a===k.length-1&&m===0)return{v:void 0};else{n=[].concat(l,[i[0]],i[1]&&c==="asc"||!i[1]&&c==="desc"?[(h||(h=d("ReStoreKeyComparer"))).MAX_KEY]:[]);return{v:d("LSMaybeSyncIteration").wrapNextValue(n)}}}if(i&&g==="start_verify"&&!l.every(function(a,b){return(h||(h=d("ReStoreKeyComparer"))).compareValue(a,k[b])===0})){f=0;g="start";return{v:void 0}}if(j&&(h||(h=d("ReStoreKeyComparer"))).compareValue(j[0],k[a])*(c==="asc"?1:-1)<j[1]){f=0;g="start";return{v:d("LSMaybeSyncIteration").wrapNextValue([].concat(k.slice(0,a),c==="asc"?[(h||(h=d("ReStoreKeyComparer"))).MAX_KEY]:[]))}}f++;g="start"};while(f<b.length){var j=i();if(typeof j==="object")return j.v}a=e;return d("LSMaybeSyncIteration").STOP_ITERATION};return d("LSMaybeSyncIteration").iteratorLoop(e,i).then(function(){return a})},a}return f()}function n(a,b,c){c===void 0&&(c="asc");var e=a.entries(new WeakMap(),c);function f(){var a;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=f,a.next=async function(){var a=await e.next();outer:while(!a.done){var f=async function(f){var g=b[f]||{},i=g.end;g=g.start;var j=a.value[0],k=j.slice(0,f);if(g){var l=(h||(h=d("ReStoreKeyComparer"))).compareValue(j[f],g[0]);if(l*(c==="asc"?1:-1)<g[1]){if(f===j.length-1&&l===0)a=await e.next();else{l=[].concat(k,[g[0]],g[1]&&c==="asc"||!g[1]&&c==="desc"?[(h||(h=d("ReStoreKeyComparer"))).MAX_KEY]:[]);a=await e.next(l)}if(a.done)return{v:{done:!0}};j=a.value[0];if(!k.every(function(b,a){return(h||(h=d("ReStoreKeyComparer"))).compareValue(b,j[a])===0}))return"continue|outer"}}if(i&&(h||(h=d("ReStoreKeyComparer"))).compareValue(i[0],j[f])*(c==="asc"?1:-1)<i[1]){a=await e.next([].concat(j.slice(0,f),c==="asc"?[(h||(h=d("ReStoreKeyComparer"))).MAX_KEY]:[]));return"continue|outer"}};for(var g=0;g<b.length;g++){var i=await f(g);switch(i){case"continue|outer":continue outer;default:if(typeof i==="object")return i.v}}break}return a},a}return f()}function o(a,b,d,e,f){return{delete:function(){return d.delete.apply(d,a)},item:b,update:function(g){var h=f&&j(e.name)?{transportKey:"FBBroker"}:{};g=babelHelpers.extends({},b,g,h);if(k(f,e,g))throw c("unrecoverableViolation")("cannot insert native task in dynamic mode","messenger_web_product");return d.upsert(a,l(g))}}}function p(a,b){var c;return c={},c[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return p(a,b)},c.next=function(){var c={done:!0},e=function(a){c=a;return d("LSMaybeSyncIteration").STOP_ITERATION};return d("LSMaybeSyncIteration").iteratorLoop(a,e).then(function(){if(c.done)return d("LSMaybeSyncIteration").iteratorLoop(b,e)}).then(function(){return c})},c}function q(a,b,c){var e,f=[{done:!0},{done:!0}],g=function(a){var b=f[a];f[a]={done:!0};return b};return e={},e[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return q(a,b,c)},e.next=function(){var e=function(a){return function(b){a==="a"?f[0]=b:f[1]=b;return d("LSMaybeSyncIteration").STOP_ITERATION}},i=d("LSSynchronousPromise").maybeMakeSynchronousPromise();f[0].done&&(i=i.then(function(){return d("LSMaybeSyncIteration").iteratorLoop(a,e("a"))}));f[1].done&&(i=i.then(function(){return d("LSMaybeSyncIteration").iteratorLoop(b,e("b"))}));return i.then(function(){if(f[0].done&&f[1].done)return{done:!0};if(f[0].done)return g(1);if(f[1].done)return g(0);var a=(h||(h=d("ReStoreKeyComparer"))).compareKey(f[0].value[0],f[1].value[0]);if(a===0)return g(0);return a*(c==="asc"?1:-1)<0?g(0):g(1)})},e}var r=(b={},b[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return r},b.next=function(){return d("LSSynchronousPromise").maybeMakeSynchronousPromise({done:!0})},b);function a(a,b,e,f,g,h,i,l){var s=new Set(),t=a.length>1,u=a.length===1&&a[0][1]==null,v=a.map(function(a){var i=a[0],j=a[1];return i.map(function(a){f.key_lookup===!0&&a.length!==0;f.table_scan===!0&&a.length===0;var i=a.map(function(a){return h(a,b)});a=i.length===(j==null?e.primaryKeyIds:e.indexes[j]).length&&i.every(function(a){var b=a.end;a=a.start;return a&&b&&a[0]===b[0]&&a[1]===0&&b[1]===0});if(a){a=function a(){var b,c=!1;return b={},b[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=a,b.next=function(){var a;if(c)return d("LSSynchronousPromise").maybeMakeSynchronousPromise({done:!0});c=!0;var b=i.map(function(a){a=a.start;return a[0]});return(a=j==null?g:g.index(j)).get.apply(a,b).then(function(a){if(!a)return{done:!0};a=d("ReStoreVaulting").maybeUnvaultDbRow(a,e.name);return{done:!1,value:[b,a]}})},b};return a()}a=c("gkx")("2839")?m:n;return a(j==null?g:g.index(j),i,b)})}).flat().reduce(function(c,d,e){e=e===0&&c==null?r:c;return a.length>1?p(e,d):q(e,d,b)});function w(){var a;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=w,a.next=function(){var a=!0,b,f,h,m,n=function(c){a=!1;var g=c.value;f=g[0];h=g[1];b=u?f:e.primaryKeyIds.map(function(a){return h[a]});if(k(i,e,h)){m=c;return}if(j(e.name)&&i&&h!=null&&h.transportKey!=="FBBroker"){m=c;return}if(t){g=JSON.stringify(b);if(s.has(g))return;s.add(g)}return d("LSMaybeSyncIteration").STOP_ITERATION};return d("LSMaybeSyncIteration").iteratorLoop(v,n).then(function(){if(m!=null){var d=m.value[1].transportKey;c("FBLogger")("messenger_web_product").warn('Expected transportKey to equal ("FBBroker") in %s, provided transportKey: %s',l,d)}return a||b==null||h==null?{done:!0}:{done:!1,value:o(b,h,g,e,i)}})},a}return w()}g.isTranportKeyEnforcedTable=j;g.isNativePendingTaskViolation=k;g.stripUndefinedProperties=l;g.unionIterators=p;g.mergeIterators=q;g.fetch=a}),98);
__d("LSRuntimeDb",["LSIterationHelpers","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.name.match(/secure_|inbox(?!_)/i)}function a(a,b,d,e,f,g){return{metadata:d,table:function(j){j=d.tableNames[d.tableIds[j]];if(b===0&&h(j))throw c("unrecoverableViolation")("cannot access secure table from dynamic mode","messenger_web_product");return i(a,j,e,f,g)},transactionId:a.__internal__transaction_id}}function i(a,b,e,f,g){var h=a[b.name+"::"+f[f.length-1]];return{add:async function(a){d("LSIterationHelpers").isTranportKeyEnforcedTable(b.name)&&g&&(a.transportKey="FBBroker"),await h.add(a)},fetch:function(){for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return d("LSIterationHelpers").fetch(c.length===0?[[[[]],void 0]]:c,"asc",b,e,h,j,g,f.join(", "))},fetchDesc:function(){for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return d("LSIterationHelpers").fetch(c.length===0?[[[[]],void 0]]:c,"desc",b,e,h,j,g,f.join(", "))},peekNextAutoIncrementId:function(){return h.peekNextAutoIncrementId()},put:async function(a){d("LSIterationHelpers").isTranportKeyEnforcedTable(b.name)&&g&&(a.transportKey="FBBroker");if(d("LSIterationHelpers").isNativePendingTaskViolation(g,b,a))throw c("unrecoverableViolation")("cannot put native task via LS transport","messenger_web_product");var e=b.primaryKeyIds.map(function(b){if(a[b]!==void 0)return a[b];throw c("unrecoverableViolation")("primary key must be defined on object","messenger_web_product")});await h.delete.apply(h,e);await h.add(d("LSIterationHelpers").stripUndefinedProperties(babelHelpers.extends({},a)))}}}function j(a,b){if(typeof a==="object"&&!Array.isArray(a)){var d,e;if(b==="asc"){Object.prototype.hasOwnProperty.call(a,"gt")&&(d=[a.gt,1]);if(Object.prototype.hasOwnProperty.call(a,"gte")){if(d!=null)throw c("unrecoverableViolation")("Cannot specify both gt and gte","messenger_web_product");d=[a.gte,0]}Object.prototype.hasOwnProperty.call(a,"lt")&&(e=[a.lt,1]);if(Object.prototype.hasOwnProperty.call(a,"lte")){if(e!=null)throw c("unrecoverableViolation")("Cannot specify both lt and lte","messenger_web_product");e=[a.lte,0]}}else{Object.prototype.hasOwnProperty.call(a,"lt")&&(d=[a.lt,1]);if(Object.prototype.hasOwnProperty.call(a,"lte")){if(d!=null)throw c("unrecoverableViolation")("Cannot specify both lt and lte","messenger_web_product");d=[a.lte,0]}Object.prototype.hasOwnProperty.call(a,"gt")&&(e=[a.gt,1]);if(Object.prototype.hasOwnProperty.call(a,"gte")){if(e!=null)throw c("unrecoverableViolation")("Cannot specify both gt and gte","messenger_web_product");e=[a.gte,0]}}return{end:e,start:d}}return{end:[a,0],start:[a,0]}}g.LSRuntimeDb=a;g.parseConstraint=j}),98);
__d("XPlatReactTextDecoder",[],(function(a,b,c,d,e,f){"use strict";a=self.TextDecoder;f.TextDecoder=a}),66);
__d("LS",["FBLogger","I64","LSDict","LSDynamicDependencies","LSInt64Lite","LSIterationOperations","LSJson","LSRuntimeDb","LSSynchronousPromise","LSVec","MessengerLogHistory","MetaConfig","ODS","ReStoreKeyComparer","XPlatReactTextDecoder","XPlatReactTextEncoder","base64Binary","cr:1088","cr:4790","emptyFunction","err","gkx","isPromise","qpl","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);p=function(){return a};return a}var q="LS_WEB",r=d("MessengerLogHistory").getInstance("ls");function s(a){return d("base64Binary").decode(a).buffer}var t={compareTo:function(a,b){a=new Uint8Array(a);b=new Uint8Array(b);var c=Math.min(a.length,b.length);for(var d=0;d<c;d++){var e=a[d]-b[d];if(e!==0)return e}return a.length===b.length?0:a.length-b.length},eq:function(a,b){if(a==null&&b==null)return!0;if(a==null||b==null)return!1;a=new Uint8Array(a);b=new Uint8Array(b);if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0},ge:function(a,b){return t.compareTo(a,b)>=0},gt:function(a,b){return t.compareTo(a,b)>0},le:function(a,b){return t.compareTo(a,b)<=0},lt:function(a,b){return t.compareTo(a,b)<0},neq:function(a,b){return!t.eq(a,b)},of_string:function(a){if(a==null)return void 0;var b=new(d("XPlatReactTextEncoder").TextEncoder)();return b.encode(a).buffer},to_string:function(a){if(a==null)return void 0;var b=new(d("XPlatReactTextDecoder").TextDecoder)();return b.decode(a)}};function u(a){if(a.length!==1)throw c("unrecoverableViolation")("only literal strings supported","messenger_web_product");a=a[0];var b=parseInt(a.substr(-8),16);a=parseInt(a.substr(0,a.length-8),16);return(i||(i=d("I64"))).mk((b>>>1)+(a&1)*2147483648^-(b&1),a>>>1^-(b&1))}function v(a){var b="unknown_sproc";a=a.displayName;var c=/\[from (.*)\]/;c=c.exec(a);c!=null&&(b=c[1]);return b}var w=function(){var a=0;function d(d){var e=d.args,f=d.shouldLog;d=d.sprocName;b("cr:1088")==null?void 0:b("cr:1088").logStoredProcedureCall(d,e);if(!f||!b("cr:4790"))return;e=++a;b("cr:4790").markerStart(c("qpl")._(25302991,"143"),e);b("cr:4790").markerAnnotate(c("qpl")._(25302991,"143"),{string:{name:d}},{instanceKey:e});return e}function e(a,d,e){a=a.shouldLog;if(!a||d==null)return;b("cr:4790")==null?void 0:b("cr:4790").markerEnd(c("qpl")._(25302991,"143"),e,d)}function f(a){return c("gkx")("26381")?Math.random()*c("MetaConfig")._("10")<1:!1}return{call:d,logSprocDone:e,shouldLogSproc:f}}();function x(a,b,c){b=(i||(i=d("I64"))).to_string(b);var e=function(a){return!c?"":c[a]||""};return a(b,e).toString()}function y(a,b,c){b=(i||(i=d("I64"))).to_string(b);var e=function(a){return!c?"":c[a]||""};return a(b,e).toString()}function z(a,b,e,f,g,i,A,B,C){A===void 0&&(A={});B===void 0&&(B=void 0);var D=[],E=d("LSRuntimeDb").LSRuntimeDb(i,a,b,A,D,C),F=function(b,f){for(var g=arguments.length,h=new Array(g>2?g-2:0),j=2;j<g;j++)h[j-2]=arguments[j];var k;if(typeof f==="string"){k=e[f.toString()];if(k==null)throw c("unrecoverableViolation")("Attempted to call unimplemented native type op with type: "+b+" and id: "+f,"messenger_web_product");if(k===d("LSDynamicDependencies").TOMBSTONE)throw c("err")("Concurrent native type op loading failed for: %s (retryable)",f);k.load&&(k=k.load())}else k=f;return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(k).then(function(b){return b.call.apply(b,[i,a].concat(h))})},G=function(b){for(var f=arguments.length,g=new Array(f>1?f-1:0),h=1;h<f;h++)g[h-1]=arguments[h];var j;if(typeof b==="string"){j=e[b+".bs"]||e[b+".nop"];if(j==null)throw c("unrecoverableViolation")("Attempted to call unimplemented native op with id: "+b,"messenger_web_product");if(j===d("LSDynamicDependencies").TOMBSTONE)throw c("err")("Concurrent native type op loading failed for: %s (retryable)",b);j.load&&(j=j.load())}else j=b;return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(j).then(function(b){return b.apply(void 0,[i,a].concat(g))}).then(function(a){return a},function(a){c("FBLogger")("messenger_web_product").catching(a).addMetadata(q,"NATIVE_OP_ID",b.toString()).warn("Native operation %s failed",b.toString());throw a})},H=function(a){return a.slice(1).reduce(function(b,d){if(typeof d!=="function"){c("FBLogger")("messenger_web_product").mustfix("Non-function passed (%s, type %s) in sequence (%s)",d,typeof d,JSON.stringify(a.map(function(a){return typeof a})));return b}return b.then(d)},a[0]())},I=function(a,b){return a.slice(b)};return{Map:c("LSDict"),blob:s,blobs:t,constructor:{n:u},count:d("LSIterationOperations").count,createArray:function(){return c("LSVec").ofArray([])},createArrayWithElements:function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return c("LSVec").ofArray(b)},db:E,filter:d("LSIterationOperations").filter,forEach:d("LSIterationOperations").forEach,groupBy:d("LSIterationOperations").groupBy,i64:c("LSInt64Lite"),islc:d("LSIterationOperations").slice,like:function(a,b){b=b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/%/g,".*").replace(/_/g,".");return RegExp(b).test(a)},localize:function(a,b){return x(f,a,b)},localizeAsync:function(a,b){return d("LSSynchronousPromise").maybeMakeSynchronousPromise(x(f,a,b))},localizeV2:function(a,b){return y(g,a,b)},localizeV2Async:function(a,b){return d("LSSynchronousPromise").maybeMakeSynchronousPromise(y(g,a,b))},logger:function(a){if(B)return{debug:B,info:B,mustfix:B,warn:B};var b=c("FBLogger")("messenger_web_product"),e=a.startsWith("epoch mismatch"),f=a.startsWith("cursor mismatch");if(e||f){a=function(a){r.error(a,"error");a=function(){if(e)return"epoch_mismatch";else if(f)return"cursor_mismatch";else return"fixme_could_not_produce_key"}();(k||(k=d("ODS"))).bumpEntityKey(3185,"lsplatform",a)};return{debug:function(a){return r.debug(a)},info:function(a){return r.debug(a)},mustfix:a,warn:a}}else{c("gkx")("26382")||(b.info=c("emptyFunction"));return b}},loopAsync:function(a,b){function e(f){if(c("LSInt64Lite").lt(f,a)){var g=f;f=d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(b(g));while(!(h||(h=c("isPromise")))(f)){g=c("LSInt64Lite").add(g,u(p()));if(!c("LSInt64Lite").lt(g,a))return d("LSSynchronousPromise").makeSynchronousPromise(void 0);f=d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(b(g))}return f.then(function(){return e(c("LSInt64Lite").add(g,u(o())))})}return d("LSSynchronousPromise").maybeMakeSynchronousPromise(void 0,self.Promise)}return e(u(n()))},loopSync:function(a,b){for(var d=u(m());c("LSInt64Lite").lt(d,a);d=c("LSInt64Lite").add(d,u(l())))b(d)},merge:function(){function a(a,b){return(j||(j=d("ReStoreKeyComparer"))).compareValue(a,b)>0?a:b}function b(a,b){return(j||(j=d("ReStoreKeyComparer"))).compareValue([a[0],-a[1]],[b[0],-b[1]])<0?a:b}for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];var g=e.reduce(function(c,e){e=d("LSRuntimeDb").parseConstraint(e,"asc");return{end:c.end&&e.end?b(e.end,c.end):e.end||c.end,start:c.start&&e.start?a(e.start,c.start):e.start||c.start}},{});return babelHelpers.extends({},g.start?g.start[1]?{gt:g.start[0]}:{gte:g.start[0]}:null,g.end?g.end[1]?{lt:g.end[0]}:{lte:g.end[0]}:null)},n:u,nativeOperation:G,nativeTypeOperation:F,notnull:function(a){if(a===null)throw c("unrecoverableViolation")("value should not be null","messenger_web_product");return a},print:function(a){},resolve:function(a){return d("LSSynchronousPromise").wrapInMaybeSyncPromiseIfNotPromise(a,self.Promise)},resolveGuaranteeAsync:function(a){var b;return((b=self.Promise)!=null?b:Promise).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))},rm:c("LSInt64Lite").of_int32(a),sequence:H,slice:I,sortBy:d("LSIterationOperations").sortBy,storedProcedure:function(h){for(var j=arguments.length,k=new Array(j>1?j-1:0),l=1;l<j;l++)k[l-1]=arguments[l];var m;if(typeof h==="string"){m=e[h];if(m==null)throw c("unrecoverableViolation")("Attempted to call unimplemented stored procedure with id: "+h,"messenger_web_product");if(m===d("LSDynamicDependencies").TOMBSTONE)throw c("err")("Concurrent sproc loading failed for: %s (retryable)",h);m.load&&(m=m.load())}else m=h;var n=this;switch(a){case 0:n=z(2,b,e,f,g,i,A,B,C);break;case 2:n=z(1,b,e,f,g,i,A,B,C);break}var o,p,r;return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(m).then(function(a){p=v(a);r=w.shouldLogSproc(p);D.push(p);o=w.call({args:k,shouldLog:r,sprocName:p});i.reportUsedTablesForSyncAccess(a.__tables__);return a.apply(void 0,k.concat([n]))}).then(function(a){D.pop();w.logSprocDone({args:k,shouldLog:r,sprocName:p},o,2);return a},function(a){D.pop();w.logSprocDone({args:k,shouldLog:r,sprocName:p},o,3);c("FBLogger")("messenger_web_product").catching(a).addMetadata(q,"SPROC_STACK",D.join("\n")).warn("Sproc %s failed",h);throw a})},throw:function(a){throw c("unrecoverableViolation")(a,"messenger_comet")},toArray:d("LSIterationOperations").toArray,toJSON:function(a){return d("LSJson").stringify(a)}}}z.n=u;g.default=z}),98);
__d("LSAuthorityLevel",[],(function(a,b,c,d,e,f){a=Object.freeze({OPTIMISTIC:20,CLIENT_PARTIAL:40,SERVER_PARTIAL:60,AUTHORITATIVE_PENDING_REPLACEMENT:75,AUTHORITATIVE:80,CLIENT_AUTHORITATIVE_DELETE:100});f["default"]=a}),66);
__d("LSLocalizedStrings",["fbt"],(function(a,b,c,d,e,f,g,h){a=function(a,b){switch(a){default:return""}};b=a;g["default"]=b}),98);
__d("LSLocalizedStringsV2",["fbt","I64"],(function(a,b,c,d,e,f,g,h){var i;a=function(a,b){switch(a){case"2285622730":return h._(/*BTDS*/"__JHASH__bHf-pjjpSrh__JHASH__");case"1919524925":return h._(/*BTDS*/"__JHASH__g2TuGL7kp7W__JHASH__");case"14617150":return h._(/*BTDS*/"__JHASH__KN5FuK9HL68__JHASH__");case"460740012":return h._(/*BTDS*/"__JHASH__PmrYWcLl7s-__JHASH__");case"2353844300":return h._(/*BTDS*/"__JHASH__U3_S6m-Asci__JHASH__");case"2987332812":return h._(/*BTDS*/"__JHASH__6iMiBqdcEoA__JHASH__");case"1530605193":return h._(/*BTDS*/"__JHASH__0YPxlGHLAO___JHASH__",[h._param("user_name",b(0))]);case"2375715979":return h._(/*BTDS*/"__JHASH__wwqS06IKURT__JHASH__");case"3810165735":return h._(/*BTDS*/"__JHASH___xK_oqrbVu3__JHASH__",[h._param("user_name",b(0))]);case"3921131020":return h._(/*BTDS*/"__JHASH__mtqLMpBAIfE__JHASH__");case"1899892426":return h._(/*BTDS*/"__JHASH__AcX9AAMg2Jv__JHASH__");case"3287869262":return h._(/*BTDS*/"__JHASH__nh5Ig-KQkRx__JHASH__",[h._param("user_name",b(0))]);case"1890485478":return h._(/*BTDS*/"__JHASH__r5f8SC2OUWe__JHASH__");case"1299547062":return h._(/*BTDS*/"__JHASH__UxIyHnrkGvQ__JHASH__");case"3621454483":return h._(/*BTDS*/"__JHASH__6CXDyy4pKod__JHASH__",[h._param("user_name",b(0))]);case"3948960063":return h._(/*BTDS*/"__JHASH__4jXDffqGKxc__JHASH__");case"1249692047":return h._(/*BTDS*/"__JHASH__XuMb0GRtMp2__JHASH__",[h._param("user_name",b(0))]);case"2106510577":return h._(/*BTDS*/"__JHASH__adFbSa44M9G__JHASH__");case"3960370133":return h._(/*BTDS*/"__JHASH__WRQpot61Zha__JHASH__",[h._param("user_name",b(0))]);case"3798396796":return h._(/*BTDS*/"__JHASH__AKC6gu2oXen__JHASH__",[h._param("app_name",b(0))]);case"3388601579":return h._(/*BTDS*/"__JHASH__LLEsQ4Y9-C7__JHASH__",[h._param("user_name",b(0)),h._param("app_name",b(1))]);case"1556712457":return h._(/*BTDS*/"__JHASH__pQsKY3JdghI__JHASH__");case"3601791933":return h._(/*BTDS*/"__JHASH__VzXmY6Nofoo__JHASH__",[h._param("user_name",b(0))]);case"3759817031":return h._(/*BTDS*/"__JHASH__C6rFQy3ZqgT__JHASH__");case"2934729541":return h._(/*BTDS*/"__JHASH__5sq-yY8-PHO__JHASH__",[h._param("user_name",b(0))]);case"392493418":return h._(/*BTDS*/"__JHASH__Y9RNnaq--9C__JHASH__");case"4085467454":return h._(/*BTDS*/"__JHASH__Tf8KEtj2NUW__JHASH__",[h._param("user_name",b(0))]);case"2738683656":return h._(/*BTDS*/"__JHASH__VTdyPQ7H4GZ__JHASH__");case"2996525642":return h._(/*BTDS*/"__JHASH__YPG0HYdjvfW__JHASH__",[h._param("user_name",b(0))]);case"2326868239":return h._(/*BTDS*/"__JHASH__j-o8KFpMPxd__JHASH__");case"1001986796":return h._(/*BTDS*/"__JHASH__zsY9ES-V3Ko__JHASH__",[h._param("user_name",b(0))]);case"2285746939":return h._(/*BTDS*/"__JHASH__8PT2JtdeJx9__JHASH__");case"3759448420":return h._(/*BTDS*/"__JHASH__H7eOZ8S6YOP__JHASH__",[h._param("user_name",b(0))]);case"3719716921":return h._(/*BTDS*/"__JHASH__qiicOieyAHd__JHASH__");case"284944921":return h._(/*BTDS*/"__JHASH__TkSIon2AHjf__JHASH__",[h._param("user_name",b(0))]);case"3322002377":return h._(/*BTDS*/"__JHASH__hs-XIkGvPGM__JHASH__",[h._param("user_name",b(0))]);case"2486550278":return h._(/*BTDS*/"__JHASH__78NZ4EbNix1__JHASH__");case"3557790945":return h._(/*BTDS*/"__JHASH__9P29njYEtVJ__JHASH__");case"3756846086":return h._(/*BTDS*/"__JHASH__HqUxJ78yQEs__JHASH__",[h._param("user_name",b(0))]);case"780378803":return h._(/*BTDS*/"__JHASH__4RDpwDU2bxj__JHASH__");case"3918212613":return h._(/*BTDS*/"__JHASH__sfM4caXMU8x__JHASH__",[h._param("user_name",b(0))]);case"3161890215":return h._(/*BTDS*/"__JHASH__rMpUt8zHstd__JHASH__");case"863428456":return h._(/*BTDS*/"__JHASH__ZqoJBBTdmfd__JHASH__",[h._param("user_name",b(0))]);case"2716405471":return h._(/*BTDS*/"__JHASH__3bEfkOlWqZQ__JHASH__");case"3909474073":return h._(/*BTDS*/"__JHASH__0LAhbzE2305__JHASH__",[h._param("user_name",b(0))]);case"1522141193":return h._(/*BTDS*/"__JHASH__Xv5h5VWZ1z-__JHASH__");case"2804766375":return h._(/*BTDS*/"__JHASH__iwXmJRLI5oQ__JHASH__",[h._param("user_name",b(0))]);case"2051792592":return h._(/*BTDS*/"__JHASH__wrYW1iMsokY__JHASH__");case"3686831438":return h._(/*BTDS*/"__JHASH__jxXuvG9WsQ-__JHASH__",[h._param("user_name",b(0))]);case"1247108605":return h._(/*BTDS*/"__JHASH__wezHuMnDNgf__JHASH__",[h._param("receiver_name",b(0))]);case"2966876020":return h._(/*BTDS*/"__JHASH__V86-MgG4uJ1__JHASH__",[h._param("user_name",b(0)),h._param("receiver_name",b(1))]);case"1056933543":return h._(/*BTDS*/"__JHASH__9X7TkYsxkJ9__JHASH__");case"1167688664":return h._(/*BTDS*/"__JHASH__HgpZLsXXBv2__JHASH__",[h._param("user_name",b(0))]);case"772459202":return h._(/*BTDS*/"__JHASH__da1hGBDyrc0__JHASH__");case"3546068912":return h._(/*BTDS*/"__JHASH__eB3RT9ZRPNU__JHASH__",[h._param("user_name",b(0))]);case"2459540079":return h._(/*BTDS*/"__JHASH__uVYFUqdjsDk__JHASH__");case"1596311291":return h._(/*BTDS*/"__JHASH__JNmnqH9YpVN__JHASH__",[h._param("user_name",b(0))]);case"2253698324":return h._(/*BTDS*/"__JHASH__cjVmAaYlDK5__JHASH__");case"4269602817":return h._(/*BTDS*/"__JHASH__tgAN3WazCx7__JHASH__",[h._param("user_name",b(0))]);case"2552112149":return h._(/*BTDS*/"__JHASH__rGkOrOdVN7r__JHASH__");case"969211470":return h._(/*BTDS*/"__JHASH__0c4ttO8K44x__JHASH__",[h._param("user_name",b(0))]);case"1257875092":return h._(/*BTDS*/"__JHASH__5wtZ0w7wjWl__JHASH__");case"692355749":return h._(/*BTDS*/"__JHASH__ZxojgdAFPM9__JHASH__",[h._param("user_name",b(0))]);case"785694792":return h._(/*BTDS*/"__JHASH__81akEhn5rEe__JHASH__",[h._param("receiver_name",b(0))]);case"2625447567":return h._(/*BTDS*/"__JHASH__PlEQcZWgExs__JHASH__",[h._param("user_name",b(0)),h._param("receiver_name",b(1))]);case"3982213805":return h._(/*BTDS*/"__JHASH__yntPigUfAxT__JHASH__");case"464916028":return h._(/*BTDS*/"__JHASH__4Sva9VujCUQ__JHASH__",[h._param("user_name",b(0))]);case"411761881":return h._(/*BTDS*/"__JHASH__9gOGTtdjrZE__JHASH__");case"3395044660":return h._(/*BTDS*/"__JHASH__R5lkKLgSqO3__JHASH__",[h._param("user_name",b(0))]);case"2973334239":return h._(/*BTDS*/"__JHASH__BCqXnePZxrY__JHASH__");case"3616471048":return h._(/*BTDS*/"__JHASH__NfWlT4Kxbzi__JHASH__",[h._param("user_name",b(0))]);case"476264474":return h._(/*BTDS*/"__JHASH__SH0YqdP7IKV__JHASH__");case"3124021488":return h._(/*BTDS*/"__JHASH__aEbyYGfOeat__JHASH__",[h._param("user_name",b(0))]);case"3471188061":return h._(/*BTDS*/"__JHASH__mUkKfPWP8w___JHASH__");case"2776822462":return h._(/*BTDS*/"__JHASH__2bPnhlt5UjK__JHASH__",[h._param("user_name",b(0))]);case"1739999037":return h._(/*BTDS*/"__JHASH__LG-CVe6YeL2__JHASH__");case"3373597599":return h._(/*BTDS*/"__JHASH__XSfhGJMwPL8__JHASH__");case"259473449":return h._(/*BTDS*/"__JHASH__qL_GOsBRgrZ__JHASH__",[h._param("user_name",b(0))]);case"1338912959":return h._(/*BTDS*/"__JHASH__LrXrY17Mwwh__JHASH__",[h._param("user_name",b(0))]);case"812940701":return h._(/*BTDS*/"__JHASH__NEO9buPurkr__JHASH__",[h._param("user_name",b(0))]);case"1099878966":return h._(/*BTDS*/"__JHASH__Qho_g3FF8mq__JHASH__",[h._param("user_name",b(0))]);case"3443782102":return h._(/*BTDS*/"__JHASH__Xxt66o3iPYX__JHASH__");case"618905030":return h._(/*BTDS*/"__JHASH__v6KFXcykdOt__JHASH__");case"2470414797":return h._(/*BTDS*/"__JHASH__0oa3QgNUtA3__JHASH__");case"1306024833":return h._(/*BTDS*/"__JHASH__ypexge-6NRA__JHASH__");case"2135145355":return h._(/*BTDS*/"__JHASH__woc-8KLy7zj__JHASH__");case"3603511704":return h._(/*BTDS*/"__JHASH__--XUHiOY0Z1__JHASH__",[h._param("user_name",b(0))]);case"705614308":return h._(/*BTDS*/"__JHASH__vsnRcMCSSFJ__JHASH__",[h._plural((i||(i=d("I64"))).to_float(b(0)),"number")]);case"313217698":return h._(/*BTDS*/"__JHASH__rG1E-FG-TxB__JHASH__",[h._plural((i||(i=d("I64"))).to_float(b(1)),"number"),h._param("user_name",b(0))]);case"3558654267":return h._(/*BTDS*/"__JHASH___H0KEIF4aGq__JHASH__");case"3422266740":return h._(/*BTDS*/"__JHASH__F5OxWfUB9Dy__JHASH__",[h._param("user_name",b(0))]);case"1907280305":return h._(/*BTDS*/"__JHASH__3P1HxS_1jfg__JHASH__",[h._param("other_user",b(0))]);case"1112375422":return h._(/*BTDS*/"__JHASH__a5_sxn3ZWZn__JHASH__",[h._param("other_user",b(0))]);case"3575257287":return h._(/*BTDS*/"__JHASH__czVm_Pwt6t9__JHASH__",[h._param("num_messages",b(0))]);case"1212518911":return h._(/*BTDS*/"__JHASH__NBIxMNcNyYS__JHASH__");case"171771714":return h._(/*BTDS*/"__JHASH__QGebPbFtrUE__JHASH__",[h._param("num_channels",b(0))]);case"763456386":return h._(/*BTDS*/"__JHASH__xUozN4Ycikd__JHASH__");case"3313483565":return h._(/*BTDS*/"__JHASH__WUXey8x8iaZ__JHASH__",[h._param("num_messages",b(0))]);case"1416259530":return h._(/*BTDS*/"__JHASH__h8shxIRIHov__JHASH__");case"1681736754":return h._(/*BTDS*/"__JHASH__cOR9lVJ4jCg__JHASH__",[h._param("num_channels",b(0))]);case"3802288555":return h._(/*BTDS*/"__JHASH__-r9R1SJrWwS__JHASH__");case"1420387436":return h._(/*BTDS*/"__JHASH__Gzgbn2ufLNM__JHASH__",[h._param("num_messages",b(0))]);case"3321340421":return h._(/*BTDS*/"__JHASH___P-lwtylUhP__JHASH__",[h._param("other_user",b(0))]);case"3199643703":return h._(/*BTDS*/"__JHASH__YBxxz_Vibx6__JHASH__");case"3307909120":return h._(/*BTDS*/"__JHASH__YRCmoad58uJ__JHASH__");case"845728829":return h._(/*BTDS*/"__JHASH___8aETeHXtHr__JHASH__");case"2022991544":return h._(/*BTDS*/"__JHASH__byni3VHMHc8__JHASH__");case"4285882723":return h._(/*BTDS*/"__JHASH__ga21xjHrnrP__JHASH__");case"3089015955":return h._(/*BTDS*/"__JHASH__Q_LYP_ZLQTd__JHASH__");case"2662271323":return h._(/*BTDS*/"__JHASH__JBe8j08K09-__JHASH__");case"1531706844":return h._(/*BTDS*/"__JHASH__bZt0xiZTnI-__JHASH__");case"3989800917":return h._(/*BTDS*/"__JHASH__LU51Dz-OBab__JHASH__");case"2421884758":return h._(/*BTDS*/"__JHASH__6vTlb2bku1-__JHASH__");case"2676961947":return h._(/*BTDS*/"__JHASH__TK1WqTTq979__JHASH__",[h._param("participant_name",b(0))]);case"3298086032":return h._(/*BTDS*/"__JHASH__AI6Z85qZOTl__JHASH__",[h._param("sender_name",b(0))]);case"3873263038":return h._(/*BTDS*/"__JHASH__1Mq5qyIkjxC__JHASH__",[h._param("sender_name",b(0))]);case"2616853333":return h._(/*BTDS*/"__JHASH__Jm7dkp7Q46M__JHASH__",[h._param("sender_name",b(0)),h._param("reply_source_sender_name",b(1))]);case"4002265907":return h._(/*BTDS*/"__JHASH__YfSaJhpdv0H__JHASH__");case"2663996736":return h._(/*BTDS*/"__JHASH__rouMYaFboPj__JHASH__",[h._param("participant_name",b(0))]);case"2868699317":return h._(/*BTDS*/"__JHASH__gln0mR6BSos__JHASH__",[h._param("sender_name",b(0))]);case"2688620547":return h._(/*BTDS*/"__JHASH__xBthZSMLrSR__JHASH__",[h._param("sender_name",b(0))]);case"3544071775":return h._(/*BTDS*/"__JHASH__Bfn4BTqFbTw__JHASH__",[h._param("sender_name",b(0)),h._param("reply_source_sender_name",b(1))]);case"2856734260":return h._(/*BTDS*/"__JHASH__yQuJ1OMUVjP__JHASH__");case"3569041084":return h._(/*BTDS*/"__JHASH__3k8IWsw1-6Y__JHASH__");case"1640318912":return h._(/*BTDS*/"__JHASH__JXT3riixpEu__JHASH__",[h._param("user",b(0))]);case"2814174244":return h._(/*BTDS*/"__JHASH__hI4gbzrBlXq__JHASH__");case"3475381825":return h._(/*BTDS*/"__JHASH__71WGCM_QR6l__JHASH__",[h._param("preamble",b(0)),h._param("time",b(1))]);case"2794389366":return h._(/*BTDS*/"__JHASH__8dRN_uv1Ey6__JHASH__",[h._plural((i||(i=d("I64"))).to_float(b(0)),"number")]);case"2528404281":return h._(/*BTDS*/"__JHASH__ypkuSNWTmvD__JHASH__",[h._plural((i||(i=d("I64"))).to_float(b(0)),"number")]);case"3691614683":return h._(/*BTDS*/"__JHASH__Gt2ASOwx3aR__JHASH__",[h._plural((i||(i=d("I64"))).to_float(b(0)),"number")]);case"2356292598":return h._(/*BTDS*/"__JHASH__BkWfpfnRWrH__JHASH__",[h._param("user",b(0))]);case"3184734723":return h._(/*BTDS*/"__JHASH__lritNDvzWHc__JHASH__");case"274842160":return h._(/*BTDS*/"__JHASH__9dgVAem5HVe__JHASH__");case"2352696798":return h._(/*BTDS*/"__JHASH__4w1HQhVySfH__JHASH__");case"261320435":return h._(/*BTDS*/"__JHASH__Yz7gQUpuAdz__JHASH__");case"1369731110":return h._(/*BTDS*/"__JHASH__KVOi7QtdIiz__JHASH__");case"216075330":return h._(/*BTDS*/"__JHASH__YIi23RvfAOM__JHASH__",[h._param("user_name",b(0))]);case"3093868587":return h._(/*BTDS*/"__JHASH__zy0vB4g7bUg__JHASH__",[h._param("user_name",b(0))]);case"1965569930":return h._(/*BTDS*/"__JHASH__Tjhx4Uo9tx2__JHASH__",[h._param("user_name",b(0))]);case"3981943156":return h._(/*BTDS*/"__JHASH__ixrUZRszn_J__JHASH__",[h._param("user_name",b(0))]);case"2071149394":return h._(/*BTDS*/"__JHASH__cOvKzCJo9pt__JHASH__",[h._param("user_name",b(0))]);case"2414298738":return h._(/*BTDS*/"__JHASH__HW7JxEhyqTG__JHASH__",[h._param("user_name",b(0))]);case"4050223159":return h._(/*BTDS*/"__JHASH__DIFtX0dJhWX__JHASH__");case"3387070852":return h._(/*BTDS*/"__JHASH__7lkRbksMys6__JHASH__",[h._param("receiver_name",b(0)),h._param("amount",b(1))]);case"2779070802":return h._(/*BTDS*/"__JHASH__VQfKxCig0vy__JHASH__",[h._param("sender_name",b(0)),h._param("game_name",b(1))]);case"3748497596":return h._(/*BTDS*/"__JHASH__5SAbOrcrYuU__JHASH__",[h._param("game_name",b(0))]);case"1346982727":return h._(/*BTDS*/"__JHASH__VQ2HMGY9wwv__JHASH__",[h._param("game_name",b(0))]);case"3688076717":return h._(/*BTDS*/"__JHASH__JjXwyclLQBa__JHASH__",[h._param("sender_name",b(0))]);case"967111183":return h._(/*BTDS*/"__JHASH__w7ck8Nknn5M__JHASH__");case"4202164190":return h._(/*BTDS*/"__JHASH__ri623MWPdFQ__JHASH__",[h._param("sender_name",b(0)),h._param("receiver_name",b(1))]);default:return""}};b=a;g["default"]=b}),226);
__d("LSFactory",["LS","LSDynamicDependencies","LSLocalizedStrings","LSLocalizedStringsV2","LSMetadata","cr:8709"],(function(a,b,c,d,e,f,g){"use strict";var h={dynamic:!1};function a(a,e){e===void 0&&(e=h);a=c("LS")(1,d("LSMetadata").schema,d("LSDynamicDependencies").cachedModules,c("LSLocalizedStrings"),c("LSLocalizedStringsV2"),a,void 0,void 0,e.dynamic);return b("cr:8709")!=null?b("cr:8709").wrapSprocInvocationWithProfiler(a):a}g["default"]=a}),98);
__d("MNXMAPreviewImageDecorationType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,COLLAGE:1,VIDEO:2,MESSENGER_ICON:3,INSTAGRAM_ICON:4,SHOPPING:5,UPCOMING_EVENT:6,LIVE:7,REEL:8,IGTV:9,YOUTUBE_VIDEO:10,YOUTUBE_SHORTS:11,COMMENT:12,BLUR:13,PILL:14,MESSENGER_CHANNEL_IMAGE:15,TROPHY:16,DXMA_LIVE:17,DXMA_LIVE_ENDED:18});f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("LSDbV1.upgrade",[],(function(a,b,c,d,e,f){"use strict";a={};f.afterUpgrade=a}),66);
__d("ReStoreVersionedSchemaProviderUtil",["ReStoreMetadata"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c={tableIds:{},tableNames:d("ReStoreMetadata").RESTORE_METADATA_TABLES},e={},f=Object.keys(a);for(var g=0;g<f.length;g++){var h=f[g],i=a[h],j={},k={};for(var l in i.indexes)j[l]=i.indexes[l].fields,i.indexes[l].ignoreNulls.length>0&&(k[l]=d("ReStoreMetadata").createPredicate(i.indexes[l].ignoreNulls));c.tableNames[h]={autoIncrement:i.autoIncrement,cascadeUpdates:(l=b==null?void 0:b[h])!=null?l:[],indexes:j,indexPredicates:k,name:h,primaryKeyIds:i.primaryKey.fields};i.id!=null&&(c.tableIds[i.id]=h);Object.keys(i.defaults).length>0&&(e[h]=i.defaults)}return{defaults:e,tableData:c}}g.getTableData=a}),98);
__d("LSDbV1",["I64MigrationHelper","LSDbV1.upgrade","ReStoreDefaultValueMigration","ReStoreIndicesMigration","ReStoreVersionedSchemaProviderUtil","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";c=Object.freeze({_user_info:{autoIncrement:!1,defaults:{},id:4,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},acs_request_context:{autoIncrement:!1,defaults:{},id:310,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},ad_context:{autoIncrement:!1,defaults:{},id:160,indexes:{},primaryKey:{fields:["adId"],ignoreNulls:[]}},admin_message_ctas:{autoIncrement:!1,defaults:{showAdChoiceIcon:!1,timestampMs:(a=d("I64MigrationHelper")).cast([0,0])},id:27,indexes:{ctaId:{fields:["ctaId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","ctaId"],ignoreNulls:[]}},ai_bot_feedback_submission_status:{autoIncrement:!1,defaults:{},id:315,indexes:{},primaryKey:{fields:["botResponseId"],ignoreNulls:[]}},ai_bot_search_metadata:{autoIncrement:!1,defaults:{contactViewerRelationship:a.cast([0,0]),displayName:"",score:0},id:298,indexes:{},primaryKey:{fields:["botId"],ignoreNulls:[]}},anonymous_task_context:{autoIncrement:!1,defaults:{failureCount:a.cast([0,0])},id:311,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},attachment_conversion:{autoIncrement:!1,defaults:{},id:164,indexes:{},primaryKey:{fields:["attachmentFbid"],ignoreNulls:[]}},attachment_ctas:{autoIncrement:!1,defaults:{},id:19,indexes:{fk_attachments:{fields:["threadKey","messageId","attachmentFbid","ctaId"],ignoreNulls:[]}},primaryKey:{fields:["ctaId"],ignoreNulls:[]}},attachment_items:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0])},id:18,indexes:{fk_attachments:{fields:["threadKey","messageId","attachmentFbid","attachmentIndex"],ignoreNulls:[]}},primaryKey:{fields:["attachmentFbid","attachmentIndex"],ignoreNulls:[]}},attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}},attachments_ranges_v2__generated:{autoIncrement:!1,defaults:{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,mediaGroup:a.cast([0,0])},id:17,indexes:{},primaryKey:{fields:["threadKey","mediaGroup","minTimestampMs"],ignoreNulls:[]}},audio_channel_events:{autoIncrement:!1,defaults:{},id:238,indexes:{},primaryKey:{fields:["eventId","roomId"],ignoreNulls:[]}},available_reactions:{autoIncrement:!1,defaults:{},id:188,indexes:{},primaryKey:{fields:["emojiIdx"],ignoreNulls:[]}},avatar_settings:{autoIncrement:!1,defaults:{enableAvatarHotlike:!1},id:209,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},bot_profile_info_v2:{autoIncrement:!1,defaults:{hasEmbodiment:!1},id:299,indexes:{},primaryKey:{fields:["botId"],ignoreNulls:[]}},bots:{autoIncrement:!1,defaults:{},id:230,indexes:{},primaryKey:{fields:["threadKey","botId"],ignoreNulls:[]}},business_comm_items:{autoIncrement:!1,defaults:{},id:234,indexes:{},primaryKey:{fields:["threadKey","entId"],ignoreNulls:[]}},business_support_case_details:{autoIncrement:!1,defaults:{},id:222,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},business_support_notification_settings:{autoIncrement:!1,defaults:{},id:236,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},business_thread_info:{autoIncrement:!1,defaults:{},id:260,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},business_thread_suggestions:{autoIncrement:!1,defaults:{},id:290,indexes:{},primaryKey:{fields:["threadKey","suggestionType"],ignoreNulls:[]}},client_accounts:{autoIncrement:!0,defaults:{},id:272,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_message_translation_info:{autoIncrement:!1,defaults:{},id:324,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_messages:{autoIncrement:!0,defaults:{disabledActionsReason:a.cast([0,0]),isForwarded:!1,isHidden:!1,isReadonly:!1,isReplyOnly:!1,isTombstoned:!1,messageContentSubtype:a.cast([0,0]),messageContentType:a.cast([0,0]),messageCreationType:a.cast([0,0]),messageEphemeralityType:a.cast([0,0]),messageSource:a.cast([0,0]),replyMessageTextSize:a.cast([0,0]),replyStatus:a.cast([0,0]),replyVicinityStatus:a.cast([0,0]),sendStatus:a.cast([0,0]),shouldHideInSnippet:!1,shouldPersist:!1,textSize:a.cast([0,0])},id:273,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_participants:{autoIncrement:!0,defaults:{capabilities1:a.cast([0,0]),capabilities2:a.cast([0,0]),isPending:!1,readActionTsMs:a.cast([0,0])},id:274,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_thread_proactive_warning_settings:{autoIncrement:!1,defaults:{},id:241,indexes:{},primaryKey:{fields:["threadPk"],ignoreNulls:[]}},client_threads:{autoIncrement:!0,defaults:{capabilities1:a.cast([0,0]),capabilities2:a.cast([0,0]),groupMemberAddMode:a.cast([0,0]),isAdminSnippet:!1,isHidden:!1,isHotlikeSnippet:!1,isPending:!1,isShadowThread:!1,isTombstoned:!1,pinnedMessagesCount:a.cast([0,0])},id:276,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_web_pinned_messages:{autoIncrement:!1,defaults:{},id:328,indexes:{pinnedMessageDisplayOrder:{fields:["threadKey","pinnedTimestampMs","offlineThreadingId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","offlineThreadingId","pinnedTimestampMs"],ignoreNulls:[]}},client_xmas:{autoIncrement:!0,defaults:{},id:314,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},cm_category_list:{autoIncrement:!1,defaults:{},id:182,indexes:{},primaryKey:{fields:["communityId","categoryId"],ignoreNulls:[]}},cm_channel_events:{autoIncrement:!1,defaults:{},id:201,indexes:{eventsInThread:{fields:["threadId","eventId"],ignoreNulls:[]}},primaryKey:{fields:["eventId","threadId"],ignoreNulls:[]}},cm_channel_list:{autoIncrement:!1,defaults:{},id:167,indexes:{threadIdCommunityId:{fields:["threadId","communityId"],ignoreNulls:[]}},primaryKey:{fields:["communityId","threadId"],ignoreNulls:[]}},cm_community_list:{autoIncrement:!1,defaults:{},id:166,indexes:{},primaryKey:{fields:["communityId"],ignoreNulls:[]}},cm_search_nullstate_metadata:{autoIncrement:!1,defaults:{score:0},id:289,indexes:{},primaryKey:{fields:["threadKey","scoreType"],ignoreNulls:[]}},community_chat_admin_assist_command_sequences:{autoIncrement:!1,defaults:{},id:291,indexes:{},primaryKey:{fields:["commandSequenceId"],ignoreNulls:[]}},community_chat_message_seen_count:{autoIncrement:!1,defaults:{},id:221,indexes:{},primaryKey:{fields:["threadKey","messageId"],ignoreNulls:[]}},community_chat_poll_options:{autoIncrement:!1,defaults:{sortKeyCreationTimestamp:a.cast([0,0]),sortKeyVotingTimestamp:a.cast([0,0]),voteCount:a.cast([0,0])},id:224,indexes:{},primaryKey:{fields:["pollId","optionId"],ignoreNulls:[]}},community_chat_poll_votes:{autoIncrement:!1,defaults:{},id:225,indexes:{},primaryKey:{fields:["pollId","optionId","contactId"],ignoreNulls:[]}},community_chat_poll_votes_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:244,indexes:{},primaryKey:{fields:["pollId","optionId","minTimestampMs"],ignoreNulls:[]}},community_chat_polls:{autoIncrement:!1,defaults:{pollType:a.cast([0,0])},id:223,indexes:{},primaryKey:{fields:["pollId"],ignoreNulls:[]}},community_direct_invites_presets:{autoIncrement:!1,defaults:{fallbackUrl:"",pictureUrlExpirationTimestampMs1:a.cast([0,0]),pictureUrlExpirationTimestampMs2:a.cast([0,0]),presetTypeV2:"ALL_MEMBERS"},id:199,indexes:{},primaryKey:{fields:["communityId","presetType","source"],ignoreNulls:[]}},community_events:{autoIncrement:!1,defaults:{},id:202,indexes:{},primaryKey:{fields:["eventId","communityId"],ignoreNulls:[]}},community_folders:{autoIncrement:!1,defaults:{capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),inviteStatus:a.cast([0,0]),notificationMutedUntil:a.cast([0,0])},id:162,indexes:{byFbGroupId:{fields:["fbGroupId","folderId"],ignoreNulls:[]}},primaryKey:{fields:["folderId"],ignoreNulls:[]}},community_members:{autoIncrement:!1,defaults:{adminActions:a.cast([0,0]),channelBadges:a.cast([0,0]),contactCapabilities:a.cast([0,0]),requestId:"",source:a.cast([0,0]),threadRoles:a.cast([0,0])},id:170,indexes:{communityContact:{fields:["communityId","contactId","requestId","source","name"],ignoreNulls:[]},communitySource:{fields:["communityId","source","requestId","contactId","name"],ignoreNulls:[]}},primaryKey:{fields:["communityId","contactId","source","requestId"],ignoreNulls:[]}},community_members_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:189,indexes:{},primaryKey:{fields:["communityId","isAdmin","minName","source","requestId"],ignoreNulls:[]}},community_messaging_aggregated_copresence_counts_for_chat:{autoIncrement:!1,defaults:{},id:204,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},community_messaging_aggregated_user_presence_counts_for_community:{autoIncrement:!1,defaults:{},id:203,indexes:{},primaryKey:{fields:["folderId"],ignoreNulls:[]}},community_rules:{autoIncrement:!1,defaults:{},id:254,indexes:{},primaryKey:{fields:["communityId","ruleId"],ignoreNulls:[]}},community_surface_ranges:{autoIncrement:!1,defaults:{},id:253,indexes:{},primaryKey:{fields:["surfaceType","communityKey"],ignoreNulls:[]}},community_thread_sync_info:{autoIncrement:!1,defaults:{},id:294,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},connectivity_status:{autoIncrement:!0,defaults:{},id:114,indexes:{},primaryKey:{fields:["statusId"],ignoreNulls:[]}},contact_upload_settings:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:74,indexes:{},primaryKey:{fields:["userid"],ignoreNulls:[]}},contacts:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),blockedByViewerStatus:a.cast([0,0]),canViewerMessage:!0,capabilities2:a.cast([0,0]),contactReachabilityStatusType:a.cast([0,0]),contactType:a.cast([0,0]),contactTypeExact:a.cast([0,0]),gender:a.cast([0,0]),isEmployee:!1,isMemorialized:!1,isMessengerUser:!1,optimisticBlockedByViewerStatus:a.cast([0,0]),optimisticBlockedByViewerStatusTimestampMs:a.cast([0,0]),rank:0,restrictionType:a.cast([0,0]),waConnectStatus:a.cast([0,0])},id:7,indexes:{blockedByViewerStatusId:{fields:["blockedByViewerStatus","id"],ignoreNulls:[]}},primaryKey:{fields:["id"],ignoreNulls:[]}},contextual_profile_v1:{autoIncrement:!1,defaults:{},id:216,indexes:{associatedEntityIdAndOwner:{fields:["associatedEntityId","ownerId"],ignoreNulls:[]}},primaryKey:{fields:["ownerId","associatedEntityId"],ignoreNulls:[]}},cowatch_sessions:{autoIncrement:!1,defaults:{},id:80,indexes:{},primaryKey:{fields:["cowatchSessionId"],ignoreNulls:[]}},ctas:{autoIncrement:!1,defaults:{},id:15,indexes:{},primaryKey:{fields:["ctaId"],ignoreNulls:[]}},custom_thread_commands:{autoIncrement:!1,defaults:{isOpenPersistentMenu:!1},id:296,indexes:{commandId:{fields:["commandId"],ignoreNulls:[]},rank:{fields:["threadKey","rank"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","commandId"],ignoreNulls:[]}},cutover_threads:{autoIncrement:!1,defaults:{isMigrated:!1,showOpenMessageHistory:!1},id:193,indexes:{},primaryKey:{fields:["openThreadId"],ignoreNulls:[]}},data_trace_addon:{autoIncrement:!0,defaults:{timestampMs:a.cast([0,0])},id:154,indexes:{traceIdAddonId:{fields:["traceId","addonId"],ignoreNulls:[]}},primaryKey:{fields:["addonId"],ignoreNulls:[]}},data_trace_meta:{autoIncrement:!1,defaults:{foregroundTimestampMs:a.cast([0,0]),initTimestampMs:a.cast([0,0]),shouldFlush:!1,traceType:a.cast([0,0])},id:153,indexes:{shouldFlushInitTimestampMsTraceId:{fields:["shouldFlush","initTimestampMs","traceId"],ignoreNulls:[]}},primaryKey:{fields:["traceId"],ignoreNulls:[]}},device_metadata:{autoIncrement:!0,defaults:{},id:185,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},discoverable_chat_participants:{autoIncrement:!1,defaults:{source:a.cast([0,0])},id:248,indexes:{},primaryKey:{fields:["threadId","contactId","source"],ignoreNulls:[]}},discoverable_chat_participants_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:249,indexes:{},primaryKey:{fields:["threadId","source","minName"],ignoreNulls:[]}},discoverable_chats_personal_inbox_info:{autoIncrement:!1,defaults:{},id:326,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},e2ee_composer_draft_link_preview:{autoIncrement:!1,defaults:{},id:329,indexes:{},primaryKey:{fields:["draftId"],ignoreNulls:[]}},e2ee_dummy_table_for_sync:{autoIncrement:!1,defaults:{},id:171,indexes:{},primaryKey:{fields:["placeholder"],ignoreNulls:[]}},edit_message_history:{autoIncrement:!0,defaults:{sendStatus:a.cast([0,0])},id:322,indexes:{originalMsgPkEditTs:{fields:["originalMessagePk","serverAdjustedEditTsMs"],ignoreNulls:[]}},primaryKey:{fields:["pk"],ignoreNulls:[]}},emoji_sets:{autoIncrement:!1,defaults:{},id:151,indexes:{},primaryKey:{fields:["categoryIdx","emojiIdx","type_"],ignoreNulls:[]}},encrypted_backup_restore_task_payload_context:{autoIncrement:!1,defaults:{},id:190,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},encrypted_backups:{autoIncrement:!0,defaults:{authorityLevel:a.cast([0,0]),hasOtcEligibleDevices:!1},id:172,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},encrypted_backups_client_restore_status:{autoIncrement:!1,defaults:{},id:231,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},encrypted_backups_debug_metadata:{autoIncrement:!1,defaults:{},id:206,indexes:{},primaryKey:{fields:["backupId"],ignoreNulls:[]}},encrypted_backups_debug_metadata_v2:{autoIncrement:!1,defaults:{},id:217,indexes:{},primaryKey:{fields:["backupId"],ignoreNulls:[]}},encrypted_backups_dyi_backup_restore_status:{autoIncrement:!0,defaults:{},id:208,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},encrypted_backups_epoch_debug_metadata:{autoIncrement:!1,defaults:{},id:207,indexes:{},primaryKey:{fields:["epochId"],ignoreNulls:[]}},encrypted_backups_epoch_debug_metadata_v2:{autoIncrement:!1,defaults:{},id:218,indexes:{},primaryKey:{fields:["epochId"],ignoreNulls:[]}},encrypted_backups_message_backup_status:{autoIncrement:!1,defaults:{},id:213,indexes:{},primaryKey:{fields:["messagePk"],ignoreNulls:[]}},encrypted_backups_metadata:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:196,indexes:{},primaryKey:{fields:["backupId"],ignoreNulls:[]}},encrypted_backups_otc_devices:{autoIncrement:!1,defaults:{},id:261,indexes:{},primaryKey:{fields:["deviceId"],ignoreNulls:[]}},encrypted_backups_otc_notification_sending_status:{autoIncrement:!0,defaults:{},id:285,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},encrypted_backups_status_trigger:{autoIncrement:!0,defaults:{},id:195,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},encrypted_backups_virtual_devices:{autoIncrement:!0,defaults:{removalStatus:a.cast([0,1]),requiresHsmMigration:!1,virtualDeviceType:a.cast([0,1])},id:184,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},epd_cookie_settings:{autoIncrement:!1,defaults:{},id:163,indexes:{},primaryKey:{fields:[],ignoreNulls:[]}},experiences_shared_state:{autoIncrement:!1,defaults:{},id:282,indexes:{},primaryKey:{fields:["stateKey"],ignoreNulls:[]}},fb_events:{autoIncrement:!1,defaults:{},id:200,indexes:{},primaryKey:{fields:["eventId"],ignoreNulls:[]}},fb_transport_contacts:{autoIncrement:!0,defaults:{},id:240,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},feature_limits:{autoIncrement:!1,defaults:{},id:150,indexes:{},primaryKey:{fields:["type_"],ignoreNulls:[]}},filtered_messages_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:211,indexes:{},primaryKey:{fields:["threadKey","mailboxType","minTimestampMs","minMessageId","messageRangeFilter"],ignoreNulls:[]}},filtered_threads_ranges_v3__generated:{autoIncrement:!1,defaults:{folderName:"inbox",hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxLastActivityTimestampMs:a.cast([0,0]),maxThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),minThreadKey:a.cast([0,0]),secondaryThreadRangeFilter:a.cast([0,0]),threadRangeFilterValue:""},id:247,indexes:{},primaryKey:{fields:["parentThreadKey","minThreadKey","minLastActivityTimestampMs","threadRangeFilter","folderName","secondaryThreadRangeFilter","threadRangeFilterValue"],ignoreNulls:[]}},focus_mode_ctas:{autoIncrement:!1,defaults:{},id:30,indexes:{},primaryKey:{fields:["threadKey","messageId","ctaId"],ignoreNulls:[]}},folder_metadata:{autoIncrement:!1,defaults:{},id:35,indexes:{},primaryKey:{fields:["parentThreadKey"],ignoreNulls:[]}},forward_content:{autoIncrement:!1,defaults:{},id:129,indexes:{},primaryKey:{fields:["value","type_"],ignoreNulls:[]}},gdpr_settings:{autoIncrement:!1,defaults:{},id:75,indexes:{},primaryKey:{fields:["userid"],ignoreNulls:[]}},gradient_colors:{autoIncrement:!1,defaults:{},id:117,indexes:{},primaryKey:{fields:["themeFbid","gradientIndex"],ignoreNulls:[]}},group_invitations_pending:{autoIncrement:!1,defaults:{communityJoinRequestStatus:a.cast([0,0]),communityParticipationControlRequestStatus:a.cast([0,0]),communityParticipationControlSetting:a.cast([0,0])},id:235,indexes:{},primaryKey:{fields:["linkHash"],ignoreNulls:[]}},group_invites:{autoIncrement:!1,defaults:{},id:197,indexes:{},primaryKey:{fields:["threadKey","inviterId","inviteeId"],ignoreNulls:[]}},group_membership_approval_requests:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:26,indexes:{},primaryKey:{fields:["threadKey","contactId"],ignoreNulls:[]}},horizon_contact_info:{autoIncrement:!1,defaults:{},id:323,indexes:{},primaryKey:{fields:["contactId"],ignoreNulls:[]}},ig_contact_info:{autoIncrement:!1,defaults:{e2eeEligibility:a.cast([0,0])},id:176,indexes:{},primaryKey:{fields:["contactId"],ignoreNulls:[]}},ig_thread_info:{autoIncrement:!1,defaults:{igDmSettingsMode:a.cast([0,0]),igDmSettingsTtlSec:a.cast([-1,4294967295])},id:194,indexes:{igThreadID:{fields:["igThreadId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},ig_thread_labels:{autoIncrement:!1,defaults:{labelTimestampMs:a.cast([0,0])},id:318,indexes:{},primaryKey:{fields:["threadKey","labelType"],ignoreNulls:[]}},igd_xma_receiver_fetch:{autoIncrement:!1,defaults:{},id:316,indexes:{},primaryKey:{fields:["messageId"],ignoreNulls:[]}},in_thread_banner:{autoIncrement:!1,defaults:{},id:118,indexes:{},primaryKey:{fields:["threadKey","bannerId"],ignoreNulls:[]}},in_thread_banner_ctas:{autoIncrement:!1,defaults:{},id:119,indexes:{},primaryKey:{fields:["bannerId","ctaId"],ignoreNulls:[]}},in_thread_banner_overflow_menu:{autoIncrement:!1,defaults:{},id:120,indexes:{},primaryKey:{fields:["threadKey","bannerId"],ignoreNulls:[]}},inbox_threads_ranges:{autoIncrement:!1,defaults:{hasMoreBefore:!1,isLoadingBefore:!1,minLastActivityTimestampMs:a.cast([0,0]),minThreadKey:a.cast([0,0])},id:198,indexes:{},primaryKey:{fields:["syncGroup"],ignoreNulls:[]}},inbox_view_state:{autoIncrement:!1,defaults:{value:""},id:277,indexes:{},primaryKey:{fields:["interface_","configName"],ignoreNulls:[]}},inbox_view_state_v2:{autoIncrement:!1,defaults:{value:""},id:281,indexes:{},primaryKey:{fields:["configName"],ignoreNulls:[]}},lightspeed_task_context:{autoIncrement:!1,defaults:{requiresAuthentication:!1},id:306,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},linked_groups:{autoIncrement:!1,defaults:{},id:130,indexes:{threadKey:{fields:["threadKey"],ignoreNulls:[]}},primaryKey:{fields:["id"],ignoreNulls:[]}},live_location_sharers:{autoIncrement:!1,defaults:{},id:149,indexes:{},primaryKey:{fields:["threadKey","userId"],ignoreNulls:[]}},local_message_persistence_store:{autoIncrement:!0,defaults:{},id:301,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},local_message_persistence_store_deleted_messages:{autoIncrement:!0,defaults:{},id:303,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},local_message_persistence_store_supplemental:{autoIncrement:!0,defaults:{},id:302,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},local_message_persistence_store_tag_index:{autoIncrement:!0,defaults:{},id:304,indexes:{offlineThreadingId:{fields:["offlineThreadingId","threadId"],ignoreNulls:[]}},primaryKey:{fields:["pk"],ignoreNulls:[]}},m_suggestions:{autoIncrement:!1,defaults:{},id:21,indexes:{},primaryKey:{fields:["threadKey","timestampMs","suggestionId"],ignoreNulls:[]}},mailbox_metadata:{autoIncrement:!1,defaults:{},id:25,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},mailbox_task_completion_api_tasks:{autoIncrement:!1,defaults:{},id:233,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},mailbox_task_completion_notification_context:{autoIncrement:!1,defaults:{},id:232,indexes:{},primaryKey:{fields:["notificationScopeKey"],ignoreNulls:[]}},media_send_jobs:{autoIncrement:!1,defaults:{},id:51,indexes:{},primaryKey:{fields:["offlineAttachmentId"],ignoreNulls:[]}},media_staging:{autoIncrement:!1,defaults:{progress:0},id:161,indexes:{},primaryKey:{fields:["offlineAttachmentId"],ignoreNulls:[]}},message_requests:{autoIncrement:!1,defaults:{},id:34,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},message_search_queries:{autoIncrement:!1,defaults:{},id:70,indexes:{},primaryKey:{fields:["type_","query","threadKeyV2"],ignoreNulls:[]}},message_search_results:{autoIncrement:!1,defaults:{},id:69,indexes:{},primaryKey:{fields:["type_","query","threadKey","globalIndex"],ignoreNulls:[]}},messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}},messages_optimistic_context:{autoIncrement:!1,defaults:{},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},messages_ranges_v2__generated:{autoIncrement:!1,defaults:{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1},id:13,indexes:{},primaryKey:{fields:["threadKey","minTimestampMs","minMessageId"],ignoreNulls:[]}},messages_status:{autoIncrement:!1,defaults:{timestampMs:a.cast([0,0])},id:33,indexes:{},primaryKey:{fields:["messageId","threadKey","timestampMs","threadKeyFromParticipants","contactId","type_"],ignoreNulls:[]}},messaging_privacy_settings:{autoIncrement:!1,defaults:{e2eeXmaPreviewsDisabled:!1,readReceiptsDisabled:a.cast([0,0])},id:288,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},messaging_settings:{autoIncrement:!1,defaults:{},id:83,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},mi_act_mapping_table:{autoIncrement:!1,defaults:{},id:173,indexes:{chat_id:{fields:["clientThreadPk"],ignoreNulls:[]},fk_threads:{fields:["serverThreadKey"],ignoreNulls:[]},jid:{fields:["jid"],ignoreNulls:[]}},primaryKey:{fields:["serverThreadKey","clientThreadPk","jid"],ignoreNulls:[]}},msg_pinned_messages_v2:{autoIncrement:!1,defaults:{},id:205,indexes:{pinnedMessageDisplayOrder:{fields:["threadKey","pinnedTimestampMs","messageId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","pinnedTimestampMs"],ignoreNulls:[]}},msgr_quiet_time:{autoIncrement:!1,defaults:{},id:317,indexes:{quietTimeId:{fields:["quietTimeId"],ignoreNulls:[]}},primaryKey:{fields:["quietTimeId"],ignoreNulls:[]}},mwb_safety_interventions:{autoIncrement:!1,defaults:{},id:327,indexes:{},primaryKey:{fields:["interventionId","interventionEntId"],ignoreNulls:[]}},network_requests:{autoIncrement:!1,defaults:{},id:3,indexes:{},primaryKey:{fields:["taskQueueName","syncDatabaseId"],ignoreNulls:[]}},new_payment_credential_option:{autoIncrement:!1,defaults:{},id:90,indexes:{},primaryKey:{fields:["credentialType"],ignoreNulls:[]}},notification_settings:{autoIncrement:!1,defaults:{includeInSwitchAccountBadges:!1,mutePageAccountMessageReminder:!1},id:175,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},occamadillo_most_recent_message_per_thread:{autoIncrement:!1,defaults:{},id:292,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},offline_queue_thread_status:{autoIncrement:!1,defaults:{},id:295,indexes:{},primaryKey:{fields:["threadJid"],ignoreNulls:[]}},ohai_gateway_key_configs:{autoIncrement:!1,defaults:{},id:313,indexes:{},primaryKey:{fields:["keyId"],ignoreNulls:[]}},p2m_charge:{autoIncrement:!1,defaults:{},id:97,indexes:{},primaryKey:{fields:["orderId"],ignoreNulls:[]}},p2m_invoice:{autoIncrement:!1,defaults:{},id:94,indexes:{},primaryKey:{fields:["orderId"],ignoreNulls:[]}},p2m_invoice_attachment:{autoIncrement:!1,defaults:{},id:95,indexes:{},primaryKey:{fields:["orderId","productItemId"],ignoreNulls:[]}},p2p_request_v2:{autoIncrement:!1,defaults:{},id:100,indexes:{optimistic:{fields:["optimisticTransactionId"],ignoreNulls:[]}},primaryKey:{fields:["timestampMs","transactionId"],ignoreNulls:[]}},p2p_transfer_v2:{autoIncrement:!1,defaults:{},id:101,indexes:{optimistic:{fields:["optimisticTransactionId"],ignoreNulls:[]}},primaryKey:{fields:["timestampMs","transactionId"],ignoreNulls:[]}},pake_messages:{autoIncrement:!1,defaults:{},id:258,indexes:{},primaryKey:{fields:["sessionId"],ignoreNulls:[]}},participant_list_queries:{autoIncrement:!1,defaults:{},id:219,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},participant_search_queries:{autoIncrement:!1,defaults:{},id:214,indexes:{},primaryKey:{fields:["query","threadKey"],ignoreNulls:[]}},participants:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),deliveredWatermarkTimestampMs:a.cast([0,0]),groupParticipantJoinState:a.cast([0,0]),readActionTimestampMs:a.cast([0,0]),readWatermarkTimestampMs:a.cast([0,0]),threadRoles:a.cast([0,0])},id:14,indexes:{contactIdThreadKey:{fields:["contactId","threadKey"],ignoreNulls:[]},threadKeyDeliveredWatermarkTimestampMs:{fields:["threadKey","deliveredWatermarkTimestampMs","contactId"],ignoreNulls:[]},threadKeyReadWatermarkTimestampMs:{fields:["threadKey","readWatermarkTimestampMs","contactId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","contactId"],ignoreNulls:[]}},payment_auth_request_results:{autoIncrement:!1,defaults:{},id:108,indexes:{},primaryKey:{fields:["requestId"],ignoreNulls:[]}},payment_client_auth_token:{autoIncrement:!1,defaults:{},id:107,indexes:{},primaryKey:{fields:["userId","deviceId","appId"],ignoreNulls:[]}},payment_method:{autoIncrement:!1,defaults:{},id:89,indexes:{},primaryKey:{fields:["paymentMethodId"],ignoreNulls:[]}},payment_p2p_risk_verification:{autoIncrement:!1,defaults:{},id:98,indexes:{},primaryKey:{fields:["requestId","transactionId"],ignoreNulls:[]}},payment_pin_verification_results:{autoIncrement:!1,defaults:{},id:113,indexes:{},primaryKey:{fields:["requestId"],ignoreNulls:[]}},payment_price_list_item:{autoIncrement:!1,defaults:{},id:96,indexes:{},primaryKey:{fields:["orderId","id"],ignoreNulls:[]}},payment_server_request_results:{autoIncrement:!1,defaults:{},id:109,indexes:{},primaryKey:{fields:["requestId"],ignoreNulls:[]}},payment_transaction_v2:{autoIncrement:!1,defaults:{},id:99,indexes:{optimistic:{fields:["optimisticTransactionId"],ignoreNulls:[]}},primaryKey:{fields:["timestampMs","transactionId"],ignoreNulls:[]}},payment_type_bank_v2:{autoIncrement:!1,defaults:{},id:88,indexes:{},primaryKey:{fields:["paymentMethodId"],ignoreNulls:[]}},payment_type_card:{autoIncrement:!1,defaults:{},id:86,indexes:{},primaryKey:{fields:["paymentCredentialId"],ignoreNulls:[]}},payment_type_paypal:{autoIncrement:!1,defaults:{},id:85,indexes:{},primaryKey:{fields:["paymentCredentialId"],ignoreNulls:[]}},payment_user_auth:{autoIncrement:!1,defaults:{},id:106,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},payments_eligibility:{autoIncrement:!1,defaults:{},id:92,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},payments_ofac_blacklisted_countries:{autoIncrement:!1,defaults:{},id:93,indexes:{},primaryKey:{fields:["isoCountryCode"],ignoreNulls:[]}},payments_transaction_details_core:{autoIncrement:!1,defaults:{},id:103,indexes:{},primaryKey:{fields:["transactionId"],ignoreNulls:[]}},payments_transaction_details_ctas:{autoIncrement:!1,defaults:{},id:104,indexes:{},primaryKey:{fields:["transactionId","ctaId"],ignoreNulls:[]}},payments_transaction_details_rows:{autoIncrement:!1,defaults:{},id:105,indexes:{},primaryKey:{fields:["transactionId","rowOrder"],ignoreNulls:[]}},paypal_funding_options:{autoIncrement:!1,defaults:{},id:91,indexes:{},primaryKey:{fields:["optionId"],ignoreNulls:[]}},pending_backups_context_v2:{autoIncrement:!0,defaults:{isInstamadillo:!1},id:177,indexes:{fk_pending_tasks:{fields:["pendingBackupTaskId"],ignoreNulls:[]}},primaryKey:{fields:["pk"],ignoreNulls:[]}},pending_fire_and_forget_tasks:{autoIncrement:!0,defaults:{enqueueTimestampMs:a.cast([0,0]),priority:a.cast([0,0])},id:5,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},pending_protobuf_backups_context:{autoIncrement:!0,defaults:{},id:305,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},pending_tasks:{autoIncrement:!0,defaults:{enqueueTimestampMs:a.cast([0,0]),failureCount:a.cast([0,0]),firstExecutedTimestampMs:a.cast([0,0]),minTimeToSyncTimestampMs:a.cast([0,0]),pluginType:a.cast([0,0]),priority:a.cast([0,0]),taskDispatchPriority:a.cast([0,0])},id:2,indexes:{queueNameTaskId:{fields:["queueName","taskId"],ignoreNulls:[]}},primaryKey:{fields:["taskId"],ignoreNulls:[]}},persistent_menu_ctas:{autoIncrement:!1,defaults:{ctaType:"fallback"},id:251,indexes:{},primaryKey:{fields:["threadKey","ctaId"],ignoreNulls:[]}},persistent_menu_items:{autoIncrement:!1,defaults:{},id:77,indexes:{},primaryKey:{fields:["threadKey","ctaId"],ignoreNulls:[]}},pinned_messages_v2:{autoIncrement:!1,defaults:{},id:155,indexes:{},primaryKey:{fields:["threadKey","messageId"],ignoreNulls:[]}},pinned_threads:{autoIncrement:!1,defaults:{},id:82,indexes:{pinnedTimestamp:{fields:["pinnedTimestamp","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},poll_options_v2:{autoIncrement:!1,defaults:{sortKeyCreationTimestamp:a.cast([0,0]),sortKeyVotingTimestamp:a.cast([0,0]),voteCount:a.cast([0,0])},id:39,indexes:{},primaryKey:{fields:["pollId","optionId"],ignoreNulls:[]}},poll_votes_v2:{autoIncrement:!1,defaults:{},id:40,indexes:{},primaryKey:{fields:["pollId","optionId","contactId"],ignoreNulls:[]}},polls:{autoIncrement:!1,defaults:{pollType:a.cast([0,0])},id:38,indexes:{},primaryKey:{fields:["pollId"],ignoreNulls:[]}},presence_settings:{autoIncrement:!1,defaults:{hasConvertedToViewSideSettings:!1,isActiveStatusViewable:!1,isActiveStatusViewableOnFb:!1,isActiveStatusViewableOnMessenger:!1},id:187,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},presence_states:{autoIncrement:!1,defaults:{},id:186,indexes:{statusContactId:{fields:["status","contactId"],ignoreNulls:[]}},primaryKey:{fields:["contactId"],ignoreNulls:[]}},profile_sheet_information:{autoIncrement:!1,defaults:{},id:256,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},quick_reply_ctas:{autoIncrement:!1,defaults:{},id:20,indexes:{},primaryKey:{fields:["threadKey","messageId","ctaId"],ignoreNulls:[]}},ranking_requests:{autoIncrement:!1,defaults:{},id:135,indexes:{},primaryKey:{fields:["scoreType"],ignoreNulls:[]}},ranking_scores:{autoIncrement:!1,defaults:{score:0,scoreIndex:a.cast([0,0])},id:134,indexes:{scoreTypeContactId:{fields:["scoreType","contactId"],ignoreNulls:[]}},primaryKey:{fields:["contactId","scoreType"],ignoreNulls:[]}},reachability_settings:{autoIncrement:!1,defaults:{},id:148,indexes:{},primaryKey:{fields:["audience"],ignoreNulls:[]}},reaction_v2_types:{autoIncrement:!1,defaults:{},id:229,indexes:{},primaryKey:{fields:["reactionFbid"],ignoreNulls:[]}},reactions:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),reactionCreationTimestampMs:a.cast([0,0]),timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:8,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","actorId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","actorId"],ignoreNulls:[]}},reactions_v2:{autoIncrement:!1,defaults:{lastUpdatedTimestampMs:a.cast([0,0]),viewerReactionTimestampMs:a.cast([0,0])},id:226,indexes:{optimistic:{fields:["threadKey","messageId","reactionFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","reactionFbid","messageTimestamp"],ignoreNulls:[]}},reactions_v2_details:{autoIncrement:!1,defaults:{},id:239,indexes:{},primaryKey:{fields:["threadId","messageId","reactorId","reactionFbid"],ignoreNulls:[]}},reactions_v2_details_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:243,indexes:{},primaryKey:{fields:["threadId","messageId","reactionFbid","minTimestampMs"],ignoreNulls:[]}},reactions_v2_details_users:{autoIncrement:!1,defaults:{},id:227,indexes:{},primaryKey:{fields:["reactorId","reactionFbid"],ignoreNulls:[]}},reactions_v2_details_users_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:228,indexes:{},primaryKey:{fields:["reactorId","reactionFbid","minTimestampMs"],ignoreNulls:[]}},roll_call_contributions_v2:{autoIncrement:!1,defaults:{contributionSource:a.cast([0,0]),contributorId:a.cast([0,0])},id:255,indexes:{optimistic:{fields:["rollCallContributionId","rollCallId","messageId","messageTimestampMs"],ignoreNulls:[]}},primaryKey:{fields:["rollCallContributionId","rollCallId","messageId","messageTimestampMs","threadKey"],ignoreNulls:[]}},roll_calls:{autoIncrement:!1,defaults:{canViewWithoutContributing:!1,isBlurred:!1,viewerCanEditPrompt:!1,viewerHasContributed:!1},id:250,indexes:{},primaryKey:{fields:["rollCallId","threadKey"],ignoreNulls:[]}},room_participants:{autoIncrement:!1,defaults:{},id:64,indexes:{optimistic:{fields:["roomId","participantId"],ignoreNulls:[]}},primaryKey:{fields:["roomId","participantId","type_"],ignoreNulls:[]}},rooms:{autoIncrement:!1,defaults:{notificationMutedUntilMs:a.cast([0,0])},id:63,indexes:{optimistic:{fields:["optimisticClientToken"],ignoreNulls:[]}},primaryKey:{fields:["roomId"],ignoreNulls:[]}},rtc_call_events:{autoIncrement:!0,defaults:{isProcessed:!1},id:245,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},rtc_multiway_call_initiation_conference_names:{autoIncrement:!1,defaults:{},id:24,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},rtc_ongoing_calls_on_threads_v2:{autoIncrement:!1,defaults:{},id:23,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},rtc_rooms_on_threads:{autoIncrement:!1,defaults:{},id:181,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},rtc_signals:{autoIncrement:!1,defaults:{},id:22,indexes:{},primaryKey:{fields:["timestampMs","type_"],ignoreNulls:[]}},saved_messages:{autoIncrement:!1,defaults:{},id:165,indexes:{},primaryKey:{fields:["threadKey","messageId"],ignoreNulls:[]}},screen_time:{autoIncrement:!0,defaults:{},id:321,indexes:{},primaryKey:{fields:["recordId"],ignoreNulls:[]}},search_queries:{autoIncrement:!1,defaults:{surfaceType:a.cast([0,1])},id:67,indexes:{},primaryKey:{fields:["query","surfaceType"],ignoreNulls:[]}},secure_acs_blinded_tokens:{autoIncrement:!0,defaults:{},id:308,indexes:{},primaryKey:{fields:["tokenId"],ignoreNulls:[]}},secure_acs_configurations:{autoIncrement:!1,defaults:{},id:307,indexes:{},primaryKey:{fields:["configId"],ignoreNulls:[]}},secure_acs_tokens:{autoIncrement:!1,defaults:{},id:309,indexes:{},primaryKey:{fields:["tokenId"],ignoreNulls:[]}},secure_encrypted_backups_client_state:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),encryptionVersion:a.cast([0,0]),revisionVersion:a.cast([0,0])},id:168,indexes:{},primaryKey:{fields:["backupId"],ignoreNulls:[]}},secure_encrypted_backups_device_supported_versions:{autoIncrement:!1,defaults:{},id:192,indexes:{fk_secure_encrypted_backups_device_supported_versions_device_id:{fields:["deviceId","supportedVersion"],ignoreNulls:[]}},primaryKey:{fields:["deviceId","supportedVersion"],ignoreNulls:[]}},secure_encrypted_backups_devices:{autoIncrement:!1,defaults:{},id:191,indexes:{},primaryKey:{fields:["deviceId"],ignoreNulls:[]}},secure_encrypted_backups_epochs:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:169,indexes:{fk_secure_encrypted_backups_client_state:{fields:["backupId","epochId"],ignoreNulls:[]}},primaryKey:{fields:["epochId"],ignoreNulls:[]}},secure_encrypted_backups_generated_recovery_code:{autoIncrement:!1,defaults:{virtualDeviceType:a.cast([0,1])},id:174,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},secure_encrypted_backups_message_thread_id_context:{autoIncrement:!1,defaults:{},id:180,indexes:{fk_pending_tasks:{fields:["taskId"],ignoreNulls:[]}},primaryKey:{fields:["taskId","listId"],ignoreNulls:[]}},secure_encrypted_backups_recovery_code_status:{autoIncrement:!1,defaults:{},id:178,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},secure_get_secrets_context:{autoIncrement:!1,defaults:{},id:259,indexes:{},primaryKey:{fields:["deviceRegistrationId"],ignoreNulls:[]}},secure_recovery_code_data:{autoIncrement:!1,defaults:{},id:179,indexes:{fk_pending_tasks:{fields:["taskId"],ignoreNulls:[]}},primaryKey:{fields:["taskId"],ignoreNulls:[]}},self_profile:{autoIncrement:!1,defaults:{},id:81,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},server_search_results:{autoIncrement:!1,defaults:{},id:65,indexes:{},primaryKey:{fields:["query","resultId","globalIndex"],ignoreNulls:[]}},server_search_sections:{autoIncrement:!1,defaults:{},id:66,indexes:{},primaryKey:{fields:["query","globalIndex"],ignoreNulls:[]}},shared_album_contributions:{autoIncrement:!1,defaults:{creationTimestampMs:a.cast([0,0]),creatorId:a.cast([0,0])},id:280,indexes:{},primaryKey:{fields:["sharedAlbumId","sharedAlbumContributionId","threadKey","messageId"],ignoreNulls:[]}},shared_albums:{autoIncrement:!1,defaults:{contributionCount:a.cast([0,0]),lastActivityTimestampMs:a.cast([0,0])},id:279,indexes:{},primaryKey:{fields:["sharedAlbumId","threadKey"],ignoreNulls:[]}},shared_albums_multimedia_upload_jobs:{autoIncrement:!1,defaults:{},id:283,indexes:{},primaryKey:{fields:["offlineThreadingId"],ignoreNulls:[]}},shared_albums_multimedia_upload_subjobs_status:{autoIncrement:!1,defaults:{},id:284,indexes:{},primaryKey:{fields:["offlineThreadingId","jobId"],ignoreNulls:[]}},status:{autoIncrement:!1,defaults:{},id:62,indexes:{optimistic:{fields:["optimisticClientId"],ignoreNulls:[]}},primaryKey:{fields:["statusId"],ignoreNulls:[]}},sticker_pack_details:{autoIncrement:!1,defaults:{},id:127,indexes:{},primaryKey:{fields:["packId"],ignoreNulls:[]}},sticker_packs:{autoIncrement:!1,defaults:{},id:122,indexes:{},primaryKey:{fields:["packId"],ignoreNulls:[]}},sticker_search_featured_tags:{autoIncrement:!1,defaults:{},id:125,indexes:{},primaryKey:{fields:["tagIndex"],ignoreNulls:[]}},sticker_search_queries:{autoIncrement:!1,defaults:{},id:124,indexes:{},primaryKey:{fields:["query"],ignoreNulls:[]}},sticker_search_results:{autoIncrement:!1,defaults:{},id:123,indexes:{},primaryKey:{fields:["resultIndex","query","type_"],ignoreNulls:[]}},sticker_store_pack_indices:{autoIncrement:!1,defaults:{},id:128,indexes:{},primaryKey:{fields:["packId"],ignoreNulls:[]}},sticker_to_collection:{autoIncrement:!1,defaults:{},id:126,indexes:{},primaryKey:{fields:["stickerId","collectionId"],ignoreNulls:[]}},stickers:{autoIncrement:!1,defaults:{},id:121,indexes:{stickerPackId:{fields:["stickerPackId","stickerId"],ignoreNulls:[]}},primaryKey:{fields:["stickerId"],ignoreNulls:[]}},stories:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:54,indexes:{optimistic:{fields:["optimisticClientId"],ignoreNulls:[]}},primaryKey:{fields:["storyId"],ignoreNulls:[]}},story_ad_card:{autoIncrement:!1,defaults:{},id:58,indexes:{},primaryKey:{fields:["adPosition","clientToken","cardId"],ignoreNulls:[]}},story_ad_ctas:{autoIncrement:!1,defaults:{},id:59,indexes:{},primaryKey:{fields:["ctaId"],ignoreNulls:[]}},story_ad_unit:{autoIncrement:!1,defaults:{shouldShowAdChoice:!1},id:57,indexes:{},primaryKey:{fields:["adPosition","clientToken"],ignoreNulls:[]}},story_buckets:{autoIncrement:!1,defaults:{pageNum:a.cast([0,0]),readState:a.cast([0,0])},id:53,indexes:{optimistic:{fields:["ownerId","bucketType"],ignoreNulls:[]}},primaryKey:{fields:["bucketId"],ignoreNulls:[]}},story_buckets_paginated_queries:{autoIncrement:!1,defaults:{},id:61,indexes:{},primaryKey:{fields:["queryId"],ignoreNulls:[]}},story_overlays:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:60,indexes:{},primaryKey:{fields:["storyId","storyOverlayId"],ignoreNulls:[]}},story_reactions:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:56,indexes:{optimistic:{fields:["optimisticClientId"],ignoreNulls:[]}},primaryKey:{fields:["reactionId"],ignoreNulls:[]}},story_viewers:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),interactionType:a.cast([0,1])},id:55,indexes:{},primaryKey:{fields:["storyId","viewerContactId","interactionType"],ignoreNulls:[]}},supervision_edge:{autoIncrement:!1,defaults:{},id:319,indexes:{},primaryKey:{fields:["edgeId"],ignoreNulls:[]}},supervision_metadata:{autoIncrement:!1,defaults:{},id:320,indexes:{},primaryKey:{fields:["supervisionMetadataId"],ignoreNulls:[]}},support_translations:{autoIncrement:!1,defaults:{},id:300,indexes:{},primaryKey:{fields:["messageId","targetLocale"],ignoreNulls:[]}},sync_group_threads_ranges:{autoIncrement:!1,defaults:{hasMoreBefore:!1,isLoadingBefore:!1,minLastActivityTimestampMs:a.cast([0,0]),minThreadKey:a.cast([0,0])},id:220,indexes:{},primaryKey:{fields:["syncGroup","parentThreadKey"],ignoreNulls:[]}},sync_groups:{autoIncrement:!1,defaults:{canIgnoreTimestamp:!1,lastSyncCompletedTimestampMs:a.cast([0,0]),lastSyncRequestTimestampMs:a.cast([0,0]),minTimeToSyncTimestampMs:a.cast([0,0]),priority:a.cast([0,0]),sendSyncParams:!1,syncChannel:a.cast([0,1]),syncStatus:a.cast([0,0])},id:1,indexes:{},primaryKey:{fields:["groupId"],ignoreNulls:[]}},taken_down_threads:{autoIncrement:!1,defaults:{},id:212,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},third_party_id_store:{autoIncrement:!1,defaults:{},id:242,indexes:{},primaryKey:{fields:["platform"],ignoreNulls:[]}},thread_bans:{autoIncrement:!1,defaults:{},id:297,indexes:{},primaryKey:{fields:["threadKey","contactId"],ignoreNulls:[]}},thread_creation_status:{autoIncrement:!1,defaults:{},id:278,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},thread_label_mappings:{autoIncrement:!1,defaults:{sortKey:a.cast([0,0])},id:237,indexes:{},primaryKey:{fields:["threadKey","labelId"],ignoreNulls:[]}},thread_labels:{autoIncrement:!1,defaults:{},id:215,indexes:{},primaryKey:{fields:["labelId"],ignoreNulls:[]}},thread_limits:{autoIncrement:!1,defaults:{},id:287,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_nullstate:{autoIncrement:!1,defaults:{ctaType:a.cast([0,0]),privacyTextCtaType:a.cast([0,0])},id:28,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_nullstate_ctas:{autoIncrement:!1,defaults:{},id:29,indexes:{threadKeyCtaId:{fields:["threadKey","ctaId"],ignoreNulls:[]}},primaryKey:{fields:["ctaId"],ignoreNulls:[]}},thread_point_query_ttrc:{autoIncrement:!1,defaults:{},id:286,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_proactive_warning_settings:{autoIncrement:!1,defaults:{},id:183,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_seen_heads_queries:{autoIncrement:!1,defaults:{},id:325,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_themes:{autoIncrement:!1,defaults:{backgroundUrl:"",iconUrl:"",iconUrlFallback:"",isDeprecated:!1},id:116,indexes:{},primaryKey:{fields:["fbid"],ignoreNulls:[]}},threads:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),capabilities4:a.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:a.cast([0,0]),lastReadWatermarkTimestampMs:a.cast([0,0]),muteCallsExpireTimeMs:a.cast([0,0]),muteExpireTimeMs:a.cast([0,0]),muteMentionExpireTimeMs:a.cast([0,0]),ongoingCallState:a.cast([0,0]),readReceiptsDisabledV2:a.cast([0,0]),removeWatermarkTimestampMs:a.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:a.cast([0,0]),threadInvitesEnabledV2:a.cast([0,0]),unreadDisappearingMessageCount:a.cast([0,0]),unsendLimitMs:a.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},threads_optimistic_context:{autoIncrement:!1,defaults:{},id:32,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},threads_optimistic_metadata:{autoIncrement:!1,defaults:{},id:312,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},threads_ranges_v2__generated:{autoIncrement:!1,defaults:{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxLastActivityTimestampMs:a.cast([0,0]),maxThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),minThreadKey:a.cast([0,0])},id:10,indexes:{},primaryKey:{fields:["parentThreadKey","minThreadKey","minLastActivityTimestampMs"],ignoreNulls:[]}},transaction_history:{autoIncrement:!1,defaults:{timestampMs:a.cast([0,0])},id:102,indexes:{},primaryKey:{fields:["transactionId"],ignoreNulls:[]}},typing_indicator:{autoIncrement:!1,defaults:{},id:52,indexes:{},primaryKey:{fields:["threadKey","senderId"],ignoreNulls:[]}},universal_search_recent_searches:{autoIncrement:!1,defaults:{lastAccessedTimestampMs:a.cast([0,0])},id:68,indexes:{},primaryKey:{fields:["resultId"],ignoreNulls:[]}},user_visible_errors:{autoIncrement:!0,defaults:{},id:6,indexes:{},primaryKey:{fields:["errorId"],ignoreNulls:[]}},user_visible_network_connectivity_error:{autoIncrement:!0,defaults:{},id:115,indexes:{},primaryKey:{fields:["statusId"],ignoreNulls:[]}},value_model_features:{autoIncrement:!1,defaults:{},id:137,indexes:{},primaryKey:{fields:["feature"],ignoreNulls:[]}},value_model_output:{autoIncrement:!1,defaults:{},id:138,indexes:{},primaryKey:{fields:["product","contactId"],ignoreNulls:[]}},value_model_rules:{autoIncrement:!1,defaults:{},id:136,indexes:{},primaryKey:{fields:["product","ruleIndex"],ignoreNulls:[]}},video_chat_links_attempted_joiners:{autoIncrement:!1,defaults:{},id:79,indexes:{},primaryKey:{fields:["userId","url"],ignoreNulls:[]}},video_chat_links_joining:{autoIncrement:!1,defaults:{canAnonymousUsersJoin:!1},id:78,indexes:{optimistic:{fields:["optimisticClientToken"],ignoreNulls:[]}},primaryKey:{fields:["url","optimisticClientToken"],ignoreNulls:[]}},work_contact_info:{autoIncrement:!1,defaults:{},id:210,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},work_genai:{autoIncrement:!1,defaults:{},id:293,indexes:{},primaryKey:{fields:["threadKey","messageId"],ignoreNulls:[]}},workroom_creation_requests:{autoIncrement:!1,defaults:{},id:252,indexes:{},primaryKey:{fields:["creationId"],ignoreNulls:[]}},workroom_invites:{autoIncrement:!1,defaults:{},id:257,indexes:{},primaryKey:{fields:["inviteId"],ignoreNulls:[]}},workrooms_co_presence_states:{autoIncrement:!1,defaults:{},id:246,indexes:{userCoPresence:{fields:["userId","coPresenceObjectId"],ignoreNulls:[]}},primaryKey:{fields:["userId"],ignoreNulls:[]}}});var h=Object.freeze(babelHelpers["extends"]({},c,{e2ee_composer_draft_link_preview:{autoIncrement:!1,defaults:{},id:329,indexes:{},primaryKey:{fields:["draftId"],ignoreNulls:[]}}})),i=Object.freeze(babelHelpers["extends"]({},h,{occamadillo_most_recent_message_per_thread:{autoIncrement:!1,defaults:{},id:292,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),j=Object.freeze(babelHelpers["extends"]({},i,{occamadillo_most_recent_message_per_thread:{autoIncrement:!1,defaults:{},id:292,indexes:{fetchTimestamp:{fields:["fetchTimestampMs"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),k=Object.freeze(babelHelpers["extends"]({},j,{messages_optimistic_context:{autoIncrement:!1,defaults:{},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}}})),l=Object.freeze(babelHelpers["extends"]({},k,{auto_restore_opt_out:{autoIncrement:!1,defaults:{},id:330,indexes:{},primaryKey:{fields:["optOutKey"],ignoreNulls:[]}}})),m=Object.freeze(babelHelpers["extends"]({},l,{messages_optimistic_context:{autoIncrement:!1,defaults:{transportKey:"FBBroker"},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}}})),n=Object.freeze(babelHelpers["extends"]({},m,{messenger_fts_threads:{autoIncrement:!1,defaults:{nextMessageTimestamp:a.cast([-1,4294967295]),status:a.cast([0,0])},id:331,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},messenger_fts_threads_queries:{autoIncrement:!1,defaults:{sessionId:""},id:332,indexes:{},primaryKey:{fields:["queryId"],ignoreNulls:[]}}})),o=Object.freeze(babelHelpers["extends"]({},n,{messenger_fts_threads:{autoIncrement:!1,defaults:{nextMessageTimestamp:a.cast([-1,4294967295]),status:a.cast([0,0]),threadType:a.cast([0,0])},id:331,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}}})),p=Object.freeze(babelHelpers["extends"]({},o,{filtered_threads_ranges_v3__generated:{autoIncrement:!1,defaults:{folderName:"inbox",hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxLastActivityTimestampMs:a.cast([0,0]),maxThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),minThreadKey:a.cast([0,0]),secondaryThreadRangeFilter:a.cast([0,0]),syncGroup:a.cast([0,1]),threadRangeFilterValue:""},id:247,indexes:{},primaryKey:{fields:["parentThreadKey","minThreadKey","minLastActivityTimestampMs","threadRangeFilter","folderName","secondaryThreadRangeFilter","threadRangeFilterValue"],ignoreNulls:[]}}})),q=Object.freeze(babelHelpers["extends"]({},p,{messages_optimistic_context:{autoIncrement:!1,defaults:{transportKey:"FBBroker"},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}}})),r=Object.freeze(babelHelpers["extends"]({},q,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),s=Object.freeze(babelHelpers["extends"]({},r,{media_receiver_fetch_transport_mappings:{autoIncrement:!1,defaults:{},id:333,indexes:{},primaryKey:{fields:["receiverFetchId"],ignoreNulls:[]}}})),t=Object.freeze(babelHelpers["extends"]({},s,{threads:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),capabilities4:a.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:a.cast([0,0]),lastReadWatermarkTimestampMs:a.cast([0,0]),muteCallsExpireTimeMs:a.cast([0,0]),muteExpireTimeMs:a.cast([0,0]),muteMentionExpireTimeMs:a.cast([0,0]),ongoingCallState:a.cast([0,0]),readReceiptsDisabledV2:a.cast([0,0]),removeWatermarkTimestampMs:a.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:a.cast([0,0]),threadInvitesEnabledV2:a.cast([0,0]),unreadDisappearingMessageCount:a.cast([0,0]),unsendLimitMs:a.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),u=Object.freeze(babelHelpers["extends"]({},t,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),v=Object.freeze(babelHelpers["extends"]({},u,{attachment_items:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0])},id:18,indexes:{fk_attachments:{fields:["threadKey","messageId","attachmentFbid","attachmentIndex"],ignoreNulls:[]}},primaryKey:{fields:["attachmentFbid","attachmentIndex"],ignoreNulls:[]}},attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),w=Object.freeze(babelHelpers["extends"]({},v,{client_thread_proactive_warning_settings:{autoIncrement:!1,defaults:{},id:241,indexes:{},primaryKey:{fields:["threadPk"],ignoreNulls:[]}}})),x=Object.freeze(babelHelpers["extends"]({},w,{pake_messages:{autoIncrement:!1,defaults:{},id:258,indexes:{},primaryKey:{fields:["sessionId"],ignoreNulls:[]}}})),y=Object.freeze(babelHelpers["extends"]({},x,{threads:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),capabilities4:a.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:a.cast([0,0]),lastReadWatermarkTimestampMs:a.cast([0,0]),muteCallsExpireTimeMs:a.cast([0,0]),muteExpireTimeMs:a.cast([0,0]),muteMentionExpireTimeMs:a.cast([0,0]),ongoingCallState:a.cast([0,0]),readReceiptsDisabledV2:a.cast([0,0]),removeWatermarkTimestampMs:a.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:a.cast([0,0]),threadInvitesEnabledV2:a.cast([0,0]),unreadDisappearingMessageCount:a.cast([0,0]),unsendLimitMs:a.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),z=Object.freeze(babelHelpers["extends"]({},y,{contacts:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),blockedByViewerStatus:a.cast([0,0]),canViewerMessage:!0,capabilities2:a.cast([0,0]),contactReachabilityStatusType:a.cast([0,0]),contactType:a.cast([0,0]),contactTypeExact:a.cast([0,0]),gender:a.cast([0,0]),isEmployee:!1,isMemorialized:!1,isMessengerUser:!1,optimisticBlockedByViewerStatus:a.cast([0,0]),optimisticBlockedByViewerStatusTimestampMs:a.cast([0,0]),rank:0,restrictionType:a.cast([0,0]),waConnectStatus:a.cast([0,0])},id:7,indexes:{blockedByViewerStatusId:{fields:["blockedByViewerStatus","id"],ignoreNulls:[]}},primaryKey:{fields:["id"],ignoreNulls:[]}}})),A=Object.freeze(babelHelpers["extends"]({},z,{encrypted_backups_otc_devices:{autoIncrement:!1,defaults:{},id:261,indexes:{},primaryKey:{fields:["deviceId"],ignoreNulls:[]}}})),B=Object.freeze(babelHelpers["extends"]({},A,{business_thread_info:{autoIncrement:!1,defaults:{},id:260,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),C=Object.freeze(babelHelpers["extends"]({},B,{messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),D=Object.freeze(babelHelpers["extends"]({},C,{account_synced_fields:{autoIncrement:!1,defaults:{},id:334,indexes:{},primaryKey:{fields:["accountId","syncedField"],ignoreNulls:[]}}})),E=Object.freeze(babelHelpers["extends"]({},D,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),F=Object.freeze(babelHelpers["extends"]({},E,{encrypted_backup_user_preferences:{autoIncrement:!0,defaults:{},id:335,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}}})),G=Object.freeze(babelHelpers["extends"]({},F,{support_translation_feedback:{autoIncrement:!1,defaults:{},id:336,indexes:{},primaryKey:{fields:["messageId","targetLocale"],ignoreNulls:[]}}})),H=Object.freeze(babelHelpers["extends"]({},G,{support_translations:{autoIncrement:!1,defaults:{},id:300,indexes:{},primaryKey:{fields:["messageId","targetLocale"],ignoreNulls:[]}}})),I=Object.freeze(babelHelpers["extends"]({},H,{ig_thread_info:{autoIncrement:!1,defaults:{igDmSettingsMode:a.cast([0,0]),igDmSettingsTtlSec:a.cast([-1,4294967295])},id:194,indexes:{igThreadID:{fields:["igThreadId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),J=Object.freeze(babelHelpers["extends"]({},I,{e2ee_composer_draft_link_preview:{autoIncrement:!1,defaults:{},id:329,indexes:{},primaryKey:{fields:["draftId"],ignoreNulls:[]}}})),K=Object.freeze(babelHelpers["extends"]({},J,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),L=Object.freeze(babelHelpers["extends"]({},K,{threads:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),capabilities4:a.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:a.cast([0,0]),lastReadWatermarkTimestampMs:a.cast([0,0]),muteCallsExpireTimeMs:a.cast([0,0]),muteExpireTimeMs:a.cast([0,0]),muteMentionExpireTimeMs:a.cast([0,0]),ongoingCallState:a.cast([0,0]),readReceiptsDisabledV2:a.cast([0,0]),removeWatermarkTimestampMs:a.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:a.cast([0,0]),threadInvitesEnabledV2:a.cast([0,0]),typingIndicatorDisabled:a.cast([0,0]),unreadDisappearingMessageCount:a.cast([0,0]),unsendLimitMs:a.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),M=Object.freeze(babelHelpers["extends"]({},L,{messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),N=Object.freeze(babelHelpers["extends"]({},M,{admin_message_ctas:{autoIncrement:!1,defaults:{showAdChoiceIcon:!1,timestampMs:a.cast([0,0])},id:27,indexes:{ctaId:{fields:["ctaId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","ctaId"],ignoreNulls:[]}}})),O=Object.freeze(babelHelpers["extends"]({},N,{messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,isVideoQuickSend:!1,messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),P=Object.freeze(babelHelpers["extends"]({},O,{messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),Q=Object.freeze(babelHelpers["extends"]({},P,{threads:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),capabilities4:a.cast([0,0]),capabilities5:a.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:a.cast([0,0]),lastReadWatermarkTimestampMs:a.cast([0,0]),muteCallsExpireTimeMs:a.cast([0,0]),muteExpireTimeMs:a.cast([0,0]),muteMentionExpireTimeMs:a.cast([0,0]),ongoingCallState:a.cast([0,0]),readReceiptsDisabledV2:a.cast([0,0]),removeWatermarkTimestampMs:a.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:a.cast([0,0]),threadInvitesEnabledV2:a.cast([0,0]),typingIndicatorDisabled:a.cast([0,0]),unreadDisappearingMessageCount:a.cast([0,0]),unsendLimitMs:a.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}}));e=Object.freeze({afterUpgrade:d("LSDbV1.upgrade").afterUpgrade,revision:36,tables:Q,upgrade:{1:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(h),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),2:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(i),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),3:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(j),c=b.defaults;b=b.tableData;yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1)});function c(b){return a.apply(this,arguments)}return c}(),4:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(k),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),5:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(l),c=b.defaults;b=b.tableData;yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),6:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(m),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),7:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(n),c=b.defaults;b=b.tableData;yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),8:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(o),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),9:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(p),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),10:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(q),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),11:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(r),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),12:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(s),c=b.defaults;b=b.tableData;yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),13:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(t),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),14:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(u),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),15:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(v),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),16:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(w),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),17:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(x),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),18:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(y),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),19:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(z),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),20:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(A),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),21:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(B),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),22:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(C),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),23:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(D),c=b.defaults;b=b.tableData;yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),24:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(E),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),25:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(F),c=b.defaults;b=b.tableData;yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),26:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(G),c=b.defaults;b=b.tableData;yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),27:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(H),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),28:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(I),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),29:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(J),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),30:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(K),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),31:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(L),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),32:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(M),c=b.defaults;b=b.tableData;yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1)});function c(b){return a.apply(this,arguments)}return c}(),33:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(N),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),34:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(O),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),35:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(P),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),36:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(Q),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}()}});g["default"]=e}),98);
__d("ReStoreDbVersion",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a}function b(a){return a}function d(a,b){if(b in a)return a[b];throw c("FBLogger")("restore_db_migrations").mustfixThrow("Cannot find version: %s",b)}g.cast=a;g.uncast=b;g.castVersion=d}),98);
__d("LSDb",["LSDbV1","ReStoreDbVersion","justknobx"],(function(a,b,c,d,e,f,g){"use strict";a=Object.freeze({V1:d("ReStoreDbVersion").cast("V1")});e={targetVersion:d("ReStoreDbVersion").castVersion(a,"V"+((b=c("justknobx")._("2392"))!=null?b:0)),versions:{V1:c("LSDbV1")},legacyVersions:{},versionOrder:["V1"]};g["default"]=e;g.LSDbVersion=a}),98);
__d("ReStoreVersionedSchemaProvider",["FBLogger","Promise","ReStoreDefaultValueMigration","ReStoreIndicesMigration","ReStoreMigrateUtil","ReStorePersistedMetadata","ReStoreVersionedSchemaProviderUtil","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b,c){this.defaults={};this.$1="";this.$1=a;this.$2=b;a=b.versions[b.targetVersion];b=d("ReStoreVersionedSchemaProviderUtil").getTableData(a.tables,c);a=b.defaults;c=b.tableData;this.tableNames=c.tableNames;this.tableIds=c.tableIds;this.defaults=a}var e=a.prototype;e.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c,e;(c=b.loggers.logHistory)==null?void 0:c.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Migrating from scratch...");(c=b.loggers.userFlow)==null?void 0:c.addPoint(this.$1+"_migration_versioned_from_scratch");c={tableIds:this.tableIds,tableNames:this.tableNames};yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(b.transaction,c,a,this.defaults);(e=b.loggers.logHistory)==null?void 0:e.debug("migration default values finished");yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(b,c,this.defaults,a);(e=b.loggers.logHistory)==null?void 0:e.debug("migration indices finished");return a?d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA:d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE});function c(b,c){return a.apply(this,arguments)}return c}();e.$4=function(a){var d=this,e=this.$2.versionOrder.indexOf(a);if(e===-1)throw c("FBLogger")("ReStoreVersionedSchemaProvider").mustfixThrow("[%s][ReStoreVersionedSchemaProvider] Cannot resolve version %s",this.$1,a);return(h||(h=b("Promise"))).all(this.$2.versionOrder.slice(e,this.$2.versionOrder.indexOf(this.$2.targetVersion)+1).map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a in d.$2.versions)return{meta:d.$2.versions[a],version:a};else if(a in d.$2.legacyVersions)return{meta:yield d.$2.legacyVersions[a].load(),version:a};else throw c("FBLogger")("ReStoreVersionedSchemaProvider").mustfixThrow("[%s][ReStoreVersionedSchemaProvider] Cannot find version %s in either versions or legacyVersions",d.$1,a)});return function(b){return a.apply(this,arguments)}}()))};e.$5=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f,g=this.$2.targetVersion,h=this.$2.versions[g].revision;(f=e.loggers)==null?void 0:(f=f.logHistory)==null?void 0:f.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] currentVersion: "+a+"R"+b+", targetVersion: "+g+"R"+h);if(g===a&&h===b){(f=e.loggers)==null?void 0:(f=f.logHistory)==null?void 0:f.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] DB already up to date, skipping migration");return d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED}(f=e.loggers.logHistory)==null?void 0:f.debug("migration versioned incremental");(f=e.loggers.userFlow)==null?void 0:f.addPoint(this.$1+"_migration_versioned_incremental");f=(yield this.$4(a));if(f.length===0||b>h){c("FBLogger")("ReStoreVersionedSchemaProvider","migrate").mustfix("[%s][ReStoreVersionedSchemaProvider][DANGEROUS] Backward migration required from %sR%s to %sR%s, running #migrateFromScratch",this.$1,a,""+b,g,""+h);return this.$3(!1,e)}for(g of f){h=g.meta;f=g.version;for(var i=f===a?b+1:0;i<=h.revision;i++){var j;(j=e.loggers)==null?void 0:(j=j.logHistory)==null?void 0:j.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Migrating to "+f+"R"+i);(j=e.loggers.userFlow)==null?void 0:j.addPoint(this.$1+"_migration_versioned_"+f+"{$revision}_start");yield h.upgrade[i]==null?void 0:h.upgrade[i](e);yield h.afterUpgrade[i]==null?void 0:h.afterUpgrade[i](e.transaction);(j=e.loggers.userFlow)==null?void 0:j.addPoint(this.$1+"_migration_versioned_"+f+"{$revision}_end")}}return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE});function e(b,c,d){return a.apply(this,arguments)}return e}();e.$6=function(a,c,e,f,g){var i;(i=g.loggers.userFlow)==null?void 0:i.addPoint(this.$1+"_migration_versioned_hash_start");if(c===e&&a===f){(i=g.loggers.userFlow)==null?void 0:i.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(this.$1,{string:{fromHashSchemaProvider:"no_changes"}}));(c=g.loggers)==null?void 0:(e=c.logHistory)==null?void 0:e.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Migrating from Hash schema provider, no changes are detected");return(h||(h=b("Promise"))).resolve(d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA)}else{(a=g.loggers.userFlow)==null?void 0:a.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(this.$1,{string:{fromHashSchemaProvider:"changes"}}));(f=g.loggers)==null?void 0:(i=f.logHistory)==null?void 0:i.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Migrating from Hash schema provider, changed detected, calling #migrateFromScratch");return this.$3(!1,g)}};e.migrate=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,c,e;(b=a.loggers.logHistory)==null?void 0:b.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Start migration");(b=a.loggers.userFlow)==null?void 0:b.addPoint(this.$1+"_migration_versioned_start");b=d("ReStorePersistedMetadata").ReStorePersistedDefaultValuesVersion.hash(this.defaults);var f=d("ReStorePersistedMetadata").ReStorePersistedSchemaVersion.hash({tableIds:this.tableIds,tableNames:this.tableNames}),g=new(d("ReStorePersistedMetadata").ReStorePersistedSchemaVersion)(this.$1),h=new(d("ReStorePersistedMetadata").ReStorePersistedDefaultValuesVersion)(this.$1),i=(yield g.read(a.storeTx));c=(c=(yield h.read(a.storeTx)))==null?void 0:c.defaultValuesVersion;var j=this.$2.versions[this.$2.targetVersion];(e=a.loggers.userFlow)==null?void 0:e.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(this.$1,{"int":{defaultValuesVersion:b,schemaVersion:f,storeDefaultValuesVersion:c,storeRevision:i==null?void 0:i.revision,storeSchemaVersion:i==null?void 0:i.schemaVersion,targetRevision:j.revision},string:{schemaProviderType:"versioned",storeVersion:i==null?void 0:i.version,targetVersion:this.$2.targetVersion}}));(e=a.loggers.logHistory)==null?void 0:e.debug("storeSchemaVersion: "+((e=i==null?void 0:i.schemaVersion)!=null?e:"null"));(e=a.loggers.logHistory)==null?void 0:e.debug("storeDefaultValuesVersion: "+((e=c)!=null?e:"null"));e=(yield i!=null&&i.revision!=null&&i.version!=null?this.$5(i.version,i.revision,a):(i==null?void 0:i.schemaVersion)!=null?this.$6(c,i.schemaVersion,f,b,a):this.$3(!0,a));if(e!==d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED){g.write(a.storeTx,{revision:j.revision,schemaVersion:f,version:this.$2.targetVersion});h.write(a.storeTx,{defaultValuesVersion:b});(c=a.loggers.logHistory)==null?void 0:c.debug("version is written")}(i=a.loggers.logHistory)==null?void 0:i.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] End Migration. Result: "+e+", SchemaVersion: "+f+", Version: "+this.$2.targetVersion+", Revision: "+j.revision);(g=a.loggers.userFlow)==null?void 0:g.addPoint(this.$1+"_migration_versioned_end");return e});function c(b){return a.apply(this,arguments)}return c}();return a}();g["default"]=a}),98);
__d("LSVersionedSchemaProvider",["LSConstants","LSDb","LSDbForeignKeys","ReStoreVersionedSchemaProvider"],(function(a,b,c,d,e,f,g){"use strict";a=new(c("ReStoreVersionedSchemaProvider"))(d("LSConstants").LS_SCHEMA_NAME,c("LSDb"),c("LSDbForeignKeys"));g.schemaProvider=a}),98);/*FB_PKG_DELIM*/
__d("EBSMProperties",[],(function(a,b,c,d,e,f){"use strict";a=["encrypted_backups_virtual_devices","secure_encrypted_backups_recovery_code_status","device_metadata","secure_encrypted_backups_epochs","secure_encrypted_backups_client_state","encrypted_backups","experiences_shared_state","auto_restore_opt_out"];b=new Set(["secure_encrypted_backups_client_state","secure_encrypted_backups_epochs"]);c={dbVersion:5,mandatoryTables:b,persistedTables:new Set(a),persistedTablesArray:a};d=c;f["default"]=d}),66);
__d("promiseFromRequest",[],(function(a,b,c,d,e,f){"use strict";function a(a){return new self.Promise(function(b,c){a.onsuccess=function(a){b(a.target.result)},a.onerror=function(a){c(a)}})}f["default"]=a}),66);
__d("ReStoreDbConfigStore",["asyncToGeneratorRuntime","promiseFromRequest","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h="_db_config",i="name",j="epoch",k="main",l="dbCorruption";function m(a){a=a.objectStoreNames;return a.contains("_db_config")}function a(a,b){if(m(a))return;a=a.createObjectStore(h,{autoIncrement:!0,keyPath:i});a.createIndex(i,i,{unique:!0});a.add(b);a.put({name:j,value:c("uuidv4")()})}function d(a){return c("promiseFromRequest")(a.objectStore(h).get(l))}function e(a,b){a=a.objectStore(h);return c("promiseFromRequest")(a.put({name:l,value:b+1}))}function n(a){return c("promiseFromRequest")(a.objectStore(h).get(k))}function f(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield n(a));b=!b.isEqual(a);return b});return o.apply(this,arguments)}g.CONFIG_STORE_NAME=h;g.CACHE_VERSION_KEY=j;g.DB_CONFIG_KEY=k;g.createDbConfig=a;g.readCorruptionFailuresFromConfig=d;g.writeCorruptionFailuresToConfig=e;g.readDbConfig=n;g.detectConfigMismatch=f}),98);
__d("sum",[],(function(a,b,c,d,e,f){function a(a){var b=0;for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b+=e}return b}f["default"]=a}),66);
__d("LSDBRestoreConfig",["ReStoreDbConfigStore","gkx","justknobx","sum"],(function(a,b,c,d,e,f,g){"use strict";e=c("gkx")("24149");f=c("justknobx")._("347");function a(){var a=2,b=c("sum")([1,c("gkx")("1251")?1:0]);return a+b}var h={localVersion:a(),name:d("ReStoreDbConfigStore").DB_CONFIG_KEY,serverVersion:f,vaulting:e};function b(){return{defaultConfig:h,isEqual:function(a){return(a==null?void 0:a.localVersion)==null?!1:(a==null?void 0:a.localVersion)===h.localVersion&&(a==null?void 0:a.vaulting)===h.vaulting&&(a==null?void 0:a.serverVersion)===h.serverVersion}}}g.createConfig=b}),98);
__d("LSPlatformLockState",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Waiting:"waiting",Acquired:"acquired",Cleaning:"cleaning",Canceled:"canceled"});f.LockState=a}),66);
__d("MessengerLocksManagerFallback",["MWLocalStorageErrorHandler","WebStorageLockManager"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("WebStorageLockManager").make(a,{onQuotaExceeded:d("MWLocalStorageErrorHandler").onQuotaExceeded})}g["default"]=a}),98);
__d("ReStoreNameUtils",["CurrentMessengerUser"],(function(a,b,c,d,e,f,g){"use strict";a=d("CurrentMessengerUser").getIDorEIMU();b="RestoreIDBMainLock-"+a;c="dbLock-"+a;e="RestoreConcurrency-"+a;f="lsPlatformLock-"+a;d="syncLock-"+a;a="single-instance-pdb-"+a;g.reStoreCMLockName=b;g.reStoreDBLockName=c;g.restoreConcurrencyBroadcastChannelName=e;g.lsPlatformLockBroadcastChannelName=f;g.lsPlatformLockName=d;g.singleTabLockName=a}),98);
__d("saveHandler",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c={};a.set(c,b);return function(){a["delete"](c)}}f["default"]=a}),66);
__d("LSPlatformSyncLock",["BrowserLockManager","FBLogger","LSPlatformErrorChannel","LSPlatformLockState","LSPlatformLsInitLog","MWBroadcastChannel","MessengerLocksManagerFallback","MessengerLogHistory","Promise","ReStoreNameUtils","Run","asyncToGeneratorRuntime","clearTimeout","emptyFunction","gkx","justknobx","pageID","promiseDone","saveHandler","setTimeout","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("MessengerLogHistory").getInstance("client_init"),j=typeof window!=="undefined"?window:self,k="iwantlock",l="lockRequestOnDemand";f="mw_msgr_mutex";function m(a,e){a===void 0&&(a=j);e===void 0&&(e=function(){return document.hasFocus()});var f=new Map(),g=new Map(),m=d("LSPlatformLockState").LockState.Waiting,n=c("emptyFunction"),o,p=c("gkx")("24155")?d("MWBroadcastChannel").MWBroadcastChannel(d("ReStoreNameUtils").lsPlatformLockBroadcastChannelName):void 0,q=function(){if(!c("gkx")("24155"))return;o!=null&&c("clearTimeout")(o);if(m===d("LSPlatformLockState").LockState.Canceled||m===d("LSPlatformLockState").LockState.Acquired)return;o=c("setTimeout")(function(){e()&&m!==d("LSPlatformLockState").LockState.Acquired&&(i.debug("tab has focus and wants to acquire sync lock"),p==null?void 0:p.postMessage(k))},c("justknobx")._("1764"))};function r(){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){i.debug("Sync lock acquired"),m=d("LSPlatformLockState").LockState.Acquired,yield (h||(h=b("Promise"))).all(Array.from(f.values()).map(function(a){return a()}))});return s.apply(this,arguments)}function t(){m=d("LSPlatformLockState").LockState.Cleaning,n=c("emptyFunction"),g.forEach(function(a){return a()})}function u(){var b=new AbortController(),f=c("LSPlatformErrorChannel").subscribe(function(e){i.debug("syncLock aborted due to ["+e.name+"] "+e.message),c("FBLogger")("ls_web_init").info("SyncLock aborted due to [%s] %s",e.name,e.message),n(),b.abort(),m=d("LSPlatformLockState").LockState.Canceled,p==null?void 0:p.removeEventListener("message",g),a.removeEventListener("focus",q),f()}),g=function a(g){if(g==null||g.data==null||(g.data!==k||e())&&g.data!==l)return;i.debug("got message from other tab to abort request to sync lock");n();b.abort();f();p==null?void 0:p.removeEventListener("message",a);m=d("LSPlatformLockState").LockState.Waiting;c("promiseDone")(v())};p==null?void 0:p.addEventListener("message",g);return b}function v(){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a,e=(a=c("BrowserLockManager"))!=null?a:c("MessengerLocksManagerFallback")(c("pageID"));if(e){m=d("LSPlatformLockState").LockState.Waiting;d("LSPlatformLsInitLog").addPoint("sync_lock_start");i.debug("Sync lock requested if available");yield new(h||(h=b("Promise")))(function(a){return e.request(d("ReStoreNameUtils").lsPlatformLockName,{ifAvailable:!0},function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){if(c==null){i.debug("Attempted to acquire sync lock but it already taken");d("LSPlatformLsInitLog").addPoint("sync_lock_unavailable");a();return}i.debug("Attempted to acquire sync lock and suceeded");yield r();d("LSPlatformLsInitLog").addPoint("sync_lock_acquired");a();return new(h||(h=b("Promise")))(function(a){n=function(){i.debug("Releasing sync lock"),t(),a()}})});return function(a){return c.apply(this,arguments)}}())});a=u();m!==d("LSPlatformLockState").LockState.Acquired&&(i.debug("Sync lock requested and will wait"),d("LSPlatformLsInitLog").addPoint("sync_lock_requests_again"),c("promiseDone")(e.request(d("ReStoreNameUtils").lsPlatformLockName,{signal:a.signal},function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){i.debug("Previous attempt to get sync lock failed, getting in queue for when/if it becomes available");yield r();return new(h||(h=b("Promise")))(function(a){n=function(){i.debug("Releasing sync lock"),t(),a()}})});return function(b){return a.apply(this,arguments)}}()),function(a){},function(a){if((a==null?void 0:a.name)==="AbortError")i.debug("Aborting attempt to acquire sync lock");else{d("LSPlatformLsInitLog").addPoint("sync_lock_request_failure");throw a}}));d("LSPlatformLsInitLog").addPoint("lock_requested")}else{d("LSPlatformLsInitLog").addPoint("sync_lock_end_failure");throw c("unrecoverableViolation")("No lock manager inited","ls_web_init")}});return w.apply(this,arguments)}p!=null&&(a.addEventListener("focus",q),q(),d("LSPlatformLsInitLog").addPoint("onfocus_set"));d("Run").onBeforeUnload(function(){n()},!1);d("LSPlatformLsInitLog").addPoint("beforeunload_set");return{_getStateInternal:function(){return m},hasLock:function(){return m===d("LSPlatformLockState").LockState.Acquired},onAcquired:function(a){return c("saveHandler")(f,a)},onLost:function(a){return c("saveHandler")(g,a)},onLostOnce:function(a){var b=c("saveHandler")(g,function(){a(),b()})},release:function(){n()},requestLock:v}}var n=null;function a(){n==null&&(n=m());return n}function e(){n!=null&&n.release()}g.SYNC_KEY=f;g.init=m;g.use=a;g.releaseIfExist=e}),98);
__d("ReStoreBinaryEncoding",["I64","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new TextDecoder(),j=new TextEncoder(),k=1,l={true:1,false:2,null:3,undefined:4,emptyString:5,string:6,binary:7,u8binary:8,struct:9,number:10,list:11,i64:12,set:13,map:14},m={boolean:function(a){return a===!0?l.true:l.false},number:function(){return l.number},object:function(a){if(a===null)return l.null;if((h||(h=d("I64"))).isI64(a))return l.i64;if(a instanceof ArrayBuffer)return l.binary;if(a instanceof Uint8Array)return l.u8binary;if(Array.isArray(a))return l.list;if(a instanceof Set)return l.set;return a instanceof Map?l.map:l.struct},string:function(a){return a===""?l.emptyString:l.string},undefined:function(){return l.undefined}};function n(a){return m[typeof a](a)}function o(a,b){a=[a,b];a._tag="i64";return a}var p=j.encodeInto!=null?function(a,b){return j.encodeInto(a,b)}:function(a,b){a=j.encode(a);b.set(a,0);return{written:a.length}};b=function(){function a(){var a=this;this.$1=0;this.$2=[];this.$3=0;this.$4=new DataView(new ArrayBuffer(0));this.$8=function(){a.$3+=a.$5(a.$6());var b=a.$2[a.$3];return b};this.$9=function(){var b=a.$6(),c=a.$4.buffer.slice(a.$4.byteOffset+a.$1,a.$4.byteOffset+b+a.$1);a.$1+=b;return c};this.$10=function(){return new Uint8Array(a.$9(),a.$6(),a.$6())};this.$11=function(){return a.$4.getFloat64((a.$1+=8)-8)};this.$12=function(){var b={},c;while((c=a.$4.getUint8(a.$1++))!==0)b[a.$8()]=a.$13.get(c)();return b};this.$14=function(){var b=[],c;while((c=a.$4.getUint8(a.$1++))!==0)b.push(a.$13.get(c)());return b};this.$15=function(){var b=o(a.$4.getInt32(a.$1),a.$4.getUint32(a.$1+4));a.$1+=8;return b};this.$16=function(){var b=new Set(),c;while((c=a.$4.getUint8(a.$1++))!==0)b.add(a.$13.get(c)());return b};this.$17=function(){var b=new Map(),c;while((c=a.$4.getUint8(a.$1++))!==0)b.set(a.$13.get(a.$4.getUint8(a.$1++))(),a.$13.get(c)());return b};this.$13=new Map([[l.true,function(){return!0}],[l.false,function(){return!1}],[l.null,function(){return null}],[l.undefined,function(){return void 0}],[l.emptyString,function(){return""}],[l.string,this.$8],[l.binary,this.$9],[l.u8binary,this.$10],[l.number,this.$11],[l.struct,this.$12],[l.list,this.$14],[l.i64,this.$15],[l.set,this.$16],[l.map,this.$17]])}var b=a.prototype;b.$5=function(a){return a>>>1^(-(a&1)|0)};b.$6=function(){var a=0,b=!0;for(var d=0;b;d++,this.$1++){if(d>4)throw c("unrecoverableViolation")("expected end of var int","maw_db");var e=this.$4.getUint8(this.$1);b=(e&128)!==0;e=e&-129;a+=e<<7*d}return a};b.$7=function(){this.$1=this.$4.getUint32(0);if(this.$1!==0){while(this.$4.getUint8(this.$1)!==0)this.$2.push(this.$6());this.$1++;var a=this.$4.getUint32(this.$1);a=i.decode(this.$4.buffer.slice(this.$4.byteOffset+this.$1+4,this.$4.byteOffset+a+this.$1+4));var b=0;for(var c=0;c<this.$2.length;c++){var d=this.$2[c];this.$2[c]=a.substr(b,d);b+=d}}this.$1=4};b.decode=function(a){this.$1=0;this.$2=[];this.$3=0;this.$4=new DataView(a.buffer,a.byteOffset,a.byteLength);this.$7();return this.$13.get(this.$4.getUint8(this.$1++))()};return a}();e=function(){function a(){var a=this;this.$1=new ArrayBuffer(65536);this.$2=new Map();this.$3=this.$1;this.$4=new DataView(this.$3);this.$5=4;this.$6=0;this.$7=function(b){if(a.$5+b>a.$3.byteLength){var c=a.$3;a.$3=new ArrayBuffer(Math.max(Math.ceil(a.$3.byteLength*1.5),a.$5+b));new Uint8Array(a.$3).set(new Uint8Array(c));a.$4=new DataView(a.$3)}};this.$9=function(b){b=b;while(b>=128){var c=b&127,d=b>>>7;a.$7(1);a.$4.setUint8(a.$5++,c+128);b=d}a.$7(1);a.$4.setUint8(a.$5++,b)};this.$10=function(){if(a.$2.size>0){a.$4.setUint32(0,a.$5);var b="";for(var c=a.$2.keys(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;a.$9(f.length);b+=f}a.$7(1+b.length*3+4);a.$4.setUint32(a.$5++,0);f=p(b,new Uint8Array(a.$3,a.$5+4));e=f.written;a.$4.setUint32(a.$5,e);a.$5+=e+4}else a.$7(1),a.$4.setUint32(0,0)};this.$11=function(b){var c=Object.keys(b);for(var d=0;d<c.length;d++){var e=c[d],f=b[e],g=n(f);a.$7(1);a.$4.setUint8(a.$5++,g);a.$12(e);if(g<6)continue;a.$13.get(g)(f)}a.$7(1);a.$4.setUint8(a.$5++,0)};this.$12=function(b){var c=a.$2.get(b);c==null&&a.$2.set(b,c=a.$2.size);a.$9(a.$8(c-a.$6));a.$6=c};this.$14=function(b){a.$9(b.byteLength),a.$7(b.byteLength),new Uint8Array(a.$3).set(new Uint8Array(b),a.$5),a.$5+=b.byteLength};this.$15=function(b){a.$14(b.buffer),a.$9(b.byteOffset),a.$9(b.byteLength)};this.$16=function(b){a.$7(8),a.$4.setFloat64(a.$5,b),a.$5+=8};this.$17=function(b){a.$7(8),a.$4.setInt32(a.$5,b[0]),a.$4.setUint32(a.$5+4,b[1]),a.$5+=8};this.$18=function(b){for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;var f=n(e);a.$7(1);a.$4.setUint8(a.$5++,f);if(f<6)continue;a.$13.get(f)(e)}a.$7(1);a.$4.setUint8(a.$5++,0)};this.$19=function(b){for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;var f=e[0];e=e[1];var g=n(e);a.$7(1);a.$4.setUint8(a.$5++,g);var h=n(f);a.$7(1);a.$4.setUint8(a.$5++,h);h>5&&a.$13.get(h)(f);if(g<6)continue;a.$13.get(g)(e)}a.$7(1);a.$4.setUint8(a.$5++,0)};this.$13=new Map([[l.struct,this.$11],[l.string,this.$12],[l.binary,this.$14],[l.u8binary,this.$15],[l.number,this.$16],[l.i64,this.$17],[l.list,this.$18],[l.set,this.$18],[l.map,this.$19]])}var b=a.prototype;b.$8=function(a){return a<<1^a>>31};b.encode=function(a){this.$3=this.$1;this.$4=new DataView(this.$3);this.$2=new Map();this.$5=4;this.$6=0;var b=n(a);this.$7(1);this.$4.setUint8(this.$5++,b);b>4&&(this.$13.get(b)(a),this.$10());return new Uint8Array(this.$3,0,this.$5)};return a}();function a(a){var b=new Set();function e(a){if(a==null||a===!0||a===!1||a==="")return 1;if(typeof a==="number"||(h||(h=d("I64"))).isI64(a))return 9;if(typeof a==="string"){if(b.has(a))return 2;b.add(a);return a.length*k+4}if(Array.isArray(a)){var f=2;for(var g=a,i=Array.isArray(g),j=0,g=i?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(i){if(j>=g.length)break;l=g[j++]}else{j=g.next();if(j.done)break;l=j.value}l=l;f+=e(l)}return f}if(a instanceof ArrayBuffer)return a.byteLength+3;if(a instanceof Uint8Array)return a.byteLength+6;if(a instanceof Map){l=0;for(j=a,i=Array.isArray(j),g=0,j=i?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(i){if(g>=j.length)break;f=j[g++]}else{g=j.next();if(g.done)break;f=g.value}f=f;var m=f[0];f=f[1];l+=e(m)+e(f)}return l+2}if(typeof a==="object"){m=0;f=Object.keys(a);for(g=0;g<f.length;g++){i=f[g];j=a[i];m+=e(i)+e(j)-2}return m+2}throw c("unrecoverableViolation")("unsupported type: "+typeof a,"messenger_web_product")}return e(a)+4+(b.size?5:0)}g.Decoder=b;g.Encoder=e;g.estimateSize=a}),98);
__d("ReStoreDbClosedError",["ClientConsistencyEventEmitter","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";var h="ReStore DB closed";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;b=(b=b)!=null?b:h;e=a.call(this,b)||this;e.message=b;switch(d("MAWCurrentUser").getAppID()){case 772021112871879:c("ClientConsistencyEventEmitter").emit("hardRefresh","restore_db_closed");break;default:c("ClientConsistencyEventEmitter").emit("softRefresh","restore_db_closed")}return e}return b}(babelHelpers.wrapNativeSuper(Error));g["default"]=a}),98);
__d("ReStoreErrorAction",["ClientConsistencyEventEmitter","LSPlatformSyncLock","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(d("MAWCurrentUser").getAppID()){case 772021112871879:c("ClientConsistencyEventEmitter").emit("hardRefresh",a);break;default:h(a)}}function h(a){c("ClientConsistencyEventEmitter").emit("softRefresh",a)}function b(){d("LSPlatformSyncLock").releaseIfExist()}g.refresh=a;g.softRefresh=h;g.stopClient=b}),98);
__d("ReStoreDbVersionChange",["ReStoreErrorAction"],(function(a,b,c,d,e,f,g){"use strict";var h="LS DB changed version",i="ReStoreDbVersionChange";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c=h;b=a.call(this,c)||this;b.message=c;b.name=i;d("ReStoreErrorAction").stopClient();d("ReStoreErrorAction").refresh("restore_versionchange");return b}return b}(babelHelpers.wrapNativeSuper(Error));g.ERROR_NAME=i;g.ReStoreDbVersionChange=a}),98);
__d("ReStoreEARInit",["FBLogger","IndexedDbPolyfills","MAWCryptoConsts","MAWEARGenNewKeychainCryptoKey","MAWGenKeychainCryptoKeyWithVersion","MWEARKeychainV3Errors","Promise","ReStoreEARSetupFailure","WATimeUtils","asyncToGeneratorRuntime","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;b("IndexedDbPolyfills");var i="browserEncryptionMeta";function a(a){a.createObjectStore(i)}var j=function(a){var b=Array.from(a.databaseEncryptionKeys.keys());b.length>0?a.latestVersion=Math.max.apply(Math,b):c("FBLogger")("maw_db").warn("No Ear Keys to set as latest")};function e(a,b){var c=a.databaseEncryptionKeys.get(b);if(c==null)throw new(d("MWEARKeychainV3Errors").EARKeychainNotFoundError)("EAR Key "+b+" was null. Latest version: "+a.latestVersion);return{dbEntry:c.dbEntry,keys:c.keys,version:b}}function k(a){a=a.objectStore(i);var c=a.openCursor(),d=[];return new(h||(h=b("Promise")))(function(a,b){c.onsuccess=function(b){b=b.target.result;if(b){var c=b.primaryKey,e=b.value;d.push(babelHelpers["extends"]({version:c},e));b["continue"]()}else a(d)},c.onerror=function(a){b(a)}})}function f(a,b,c){a=a.objectStore(i);a.add(c,b)}function l(a){return a.length===0||!d("WATimeUtils").isInFuture(a[a.length-1].expiration)}function m(){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("MAWEARGenNewKeychainCryptoKey")());a.randomisedVersion;a=babelHelpers.objectWithoutPropertiesLoose(a,["randomisedVersion"]);a=babelHelpers["extends"]({},a,{version:d("MAWCryptoConsts").VERSION});return a});return n.apply(this,arguments)}function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b==null?void 0:b.addPoint("ear_gen_start");a=a.transaction([i],"readonly");a=(yield k(a));if(l(a)){var d=(yield c("MAWEARGenNewKeychainCryptoKey")());d.randomisedVersion;d=babelHelpers.objectWithoutPropertiesLoose(d,["randomisedVersion"]);a=(a=(a=a[a.length-1])==null?void 0:a.version)!=null?a:0;d=babelHelpers["extends"]({},d,{version:a+1});b==null?void 0:b.addPoint("ear_gen_end");return d}else{b==null?void 0:b.addPoint("ear_gen_skip");return null}});return p.apply(this,arguments)}function q(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(c("gkx")("1838"))throw new(d("ReStoreEARSetupFailure").ReStoreEARSetupFailure)("Testing EAR setup failure");a=a.transaction([i],"readonly");a=(yield k(a));l(a)&&c("FBLogger")("maw_db").mustfix("Shouldn't be generating a new ear key");a=(yield (h||(h=b("Promise"))).allSettled(a.map(function(a){return c("MAWGenKeychainCryptoKeyWithVersion")(a.key,a.seed,a.version,a.formatVersion,a.accountKeyString,a.userKeyBaseString,a.appIdOrigin).then(function(b){return{dbEntry:a,importedKey:b}})})));for(var f of a)if(f.status==="fulfilled"){var g=f.value;e.databaseEncryptionKeys.set(g.importedKey.version,{dbEntry:g.dbEntry,keys:g.importedKey.keys})}j(e);g=Array.from(a?a.values():[]).find(function(a){return a.status==="rejected"});if(g&&g.status==="rejected")throw new(d("ReStoreEARSetupFailure").ReStoreEARSetupFailure)(g.reason)});return r.apply(this,arguments)}function s(a,b){b.databaseEncryptionKeys["delete"](a)}function t(a,b,d){c("promiseDone")(c("MAWGenKeychainCryptoKeyWithVersion")(b.key,b.seed,a,b.formatVersion,b.accountKeyString,b.userKeyBaseString,b.appIdOrigin).then(function(a){d.databaseEncryptionKeys.set(a.version,{dbEntry:b,keys:a.keys}),j(d)}))}g.EAR_STORE_NAME=i;g.createEARStore=a;g.setLatestVersion=j;g.getDbEncryptionKey=e;g.fetchAll=k;g.storeEARKey=f;g.generateKeyWithDefaultVersion=m;g.generateEARKey=o;g.initEAR=q;g.deleteKeys=s;g.rotateKeys=t}),98);
__d("ReStoreEncryptionFailure",[],(function(a,b,c,d,e,f){"use strict";var g="ReStoreEncryptionFailure";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;b=b+" - Encrypted Restore was unable to encrypt an entity for table "+c;d=a.call(this,b)||this;d.message=b;d.name=g;d.tableName=c;return d}return b}(babelHelpers.wrapNativeSuper(Error));f.ERROR_NAME=g;f.ReStoreEncryptionFailure=a}),66);
__d("ReStoreIndexedDbCreatedEvent",["ReStoreEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("ReStoreEvent"));g["default"]=a}),98);
__d("ReStoreIndexedDbOpenedEvent",["ReStoreEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("ReStoreEvent"));g["default"]=a}),98);
__d("createReStoreIndexedDbPersistence",["BrowserLockManager","CurrentMessengerUser","Deferred","ExecutionEnvironment","FBLogger","MAWCryptoConsts","MAWKeychainNaClCrypto","MWBroadcastChannel","MessengerLocksManagerFallback","ODS","ReStoreBinaryEncoding","ReStoreDbClosedError","ReStoreDbConfigStore","ReStoreDbVersionChange","ReStoreDecryptionFailure","ReStoreEARInit","ReStoreEARSetupFailure","ReStoreEncryptionFailure","ReStoreIndexedDbClosedEvent","ReStoreIndexedDbCreatedEvent","ReStoreIndexedDbFailToOpenEvent","ReStoreIndexedDbOpenedEvent","ReStoreIndexedDbUpgradedEvent","ReStoreIndexeddbPersistenceInitFailure","ReStorePersistence","ReStoreTabNotifier","ReStoreUnexpectedlyClosed","WAExceededStorageQuota","clearTimeout","gkx","nullthrows","pageID","promiseDone","promiseFromRequest","qex","recoverableViolation","setTimeout","tweetnacl","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("CurrentMessengerUser").getIDorEIMU(),k=4096,l=new Set([d("ReStoreDbConfigStore").CONFIG_STORE_NAME]),m=new(d("ReStoreBinaryEncoding").Encoder)(),n=new(d("ReStoreBinaryEncoding").Decoder)();function o(a,b,e,f){if(a==null){a===null&&c("FBLogger")("maw_db").mustfix("Attempting to decrypt null. This should never happen",String((i||(i=c("ExecutionEnvironment"))).isInWorker));return a}var g=new Uint8Array(a);try{g=g[1];f=d("ReStoreEARInit").getDbEncryptionKey(f,g);f=f.keys;f=f[0];var h=3;a=d("tweetnacl").secretbox.open(new Uint8Array(a,h+d("tweetnacl").secretbox.nonceLength),new Uint8Array(a,h,d("tweetnacl").secretbox.nonceLength),new Uint8Array(f));if(a==null){throw new(d("MAWKeychainNaClCrypto").EARDecryptionError)("ReStore was unable to decrypt an entity. Attempting to use key version : "+((h=g)!=null?h:"non-provided")+".")}return n.decode(a)}catch(a){f=new(d("ReStoreDecryptionFailure").ReStoreDecryptionFailure)(a.message,b);e(f);throw f}}function p(a,b,c){try{c=d("ReStoreEARInit").getDbEncryptionKey(c,c.latestVersion);var e=c.keys;e=e[0];c=c.version;c=new Uint8Array([0,c,d("MAWCryptoConsts").CIPHER_ID]);var f=d("tweetnacl").randomBytes(d("tweetnacl").secretbox.nonceLength);a=d("tweetnacl").secretbox(m.encode(a),f,new Uint8Array(e));e=new Uint8Array(c.length+f.length+a.length);e.set(c);e.set(f,c.length);e.set(a,c.length+f.length);return e.buffer}catch(a){throw new(d("ReStoreEncryptionFailure").ReStoreEncryptionFailure)(a.message,b)}}function q(a){for(a of a.values())if(a.size!==0)return!1;return!0}function r(a,b){var c=[];a=new Set(a);for(var d of a)b.objectStoreNames.contains(d)||c.push(d);d=[];for(var e=0;e<b.objectStoreNames.length;e++){var f=b.objectStoreNames[e];!a.has(f)&&!l.has(f)&&d.push(f)}if(c.length!==0||d.length!==0)return[c,d]}function s(a,b,c,d){d===void 0&&(d={});if(c==null){b.debug("Schema doesn't have changes to apply");return}b.debug("Schema has changes to apply");b=c[0];c=c[1];b.forEach(function(b){a.objectStoreNames.contains(b)||(d[b]!=null?d[b](a):a.createObjectStore(b,{autoIncrement:!0}))});c.forEach(function(b){a.objectStoreNames.contains(b)&&a.deleteObjectStore(b)})}function t(a,b,e,f,g,h){function j(a){e(new(c("ReStoreIndexedDbClosedEvent"))(a.target,new(d("ReStoreDbVersionChange").ReStoreDbVersionChange)())),g.debug("DB onversionchange TABID="+c("pageID")),c("FBLogger")("maw_db").info("[pdb] onversionchange inWorker=%s",String((i||(i=c("ExecutionEnvironment"))).isInWorker)),f.endFail("version_change")}return new Promise(function(g,i){var k=c("setTimeout")(function(){f.addPoint("pdb_open_timeout"),i(new(d("ReStoreIndexeddbPersistenceInitFailure").ReStoreIndexeddbPersistenceInitFailure)("IndexedDB onsuccess and onerror were never called for indexeddb"))},1e4),l=indexedDB.open(a,h);l.onupgradeneeded=function(a){var d=a.oldVersion;a=a.target;var g=a.result;a=a.transaction;c("clearTimeout")(k);f.addPoint("onupgradeneeded_start");b(g,a);e(d===0?new(c("ReStoreIndexedDbCreatedEvent"))():new(c("ReStoreIndexedDbUpgradedEvent"))());f.addPoint("onupgradeneeded_finish")};l.onerror=function(a){c("clearTimeout")(k),f.addPoint("failed_to_open_pdb"),i(new(d("ReStoreIndexeddbPersistenceInitFailure").ReStoreIndexeddbPersistenceInitFailure)("indexeddb failed to open")),c("FBLogger")("maw_db").catching(a).mustfix("Fail to open indexeddb"),e(new(c("ReStoreIndexedDbFailToOpenEvent"))())};l.onsuccess=function(a){var b=a.target.result;c("clearTimeout")(k);b.addEventListener("versionchange",j);b.onclose=function(){e(new(c("ReStoreIndexedDbClosedEvent"))(b,new(d("ReStoreUnexpectedlyClosed").ReStoreUnexpectedlyClosed)()))};e(new(c("ReStoreIndexedDbOpenedEvent"))());g(b)}})}async function u(a,b,d){a=a.objectStore(b);if(!("getAll"in a)||!("getAllKeys"in a))return new Map();var e=await c("promiseFromRequest")(a.getAllKeys());e=e.length>d?e[e.length-d]:void 0;e=e!=null?IDBKeyRange.lowerBound(e,!1):void 0;a=await Promise.all([c("promiseFromRequest")(a.getAllKeys(e,d)),c("promiseFromRequest")(a.getAll(e,d))]);e=a[0];d=a[1];if(e.length!==d.length){c("recoverableViolation")("Error pre-caching "+b+" IDB table","maw_db");return new Map()}a=new Map();for(b=0;b<e.length;++b)a.set(e[b],{status:"encrypted",value:d[b]});return a}async function v(a,b,d){d.addPoint("cache_start");var e=100;try{var f=Array.from(a.objectStoreNames).filter(function(a){return!a.startsWith("_")}),g=a.transaction([].concat(f),"readonly");await Promise.all(f.map(async function(a){var c=await u(g,a,e);b.set(a,c)}));d.addPoint("cache_end")}catch(a){c("recoverableViolation")("Error initting ReStore cache","maw_db",{error:a}),d.addPoint("cache_failed"),b.clear()}return a}async function w(a,b,e,f,g,h,j){var k=[].concat(b,[d("ReStoreEARInit").EAR_STORE_NAME]),l=(b={},b[d("ReStoreEARInit").EAR_STORE_NAME]=d("ReStoreEARInit").createEARStore,b),m;try{g.addPoint("generate_ear_key_default_start"),m=await d("ReStoreEARInit").generateKeyWithDefaultVersion(),g.addPoint("generate_ear_key_default_end")}catch(a){g.addPoint("generate_ear_key_default_failed"),c("FBLogger")("maw_db").catching(a).mustfix("EAR generateKeyWithDefaultVersion failed")}function n(b,a){g.addAnnotations({bool:{dbEmpty:!0}});d("ReStoreDbConfigStore").createDbConfig(b,f.defaultConfig);for(var c of k)l[c]!=null?l[c](b):b.createObjectStore(c,{autoIncrement:!0});if(m!=null){b=m;c=b.version;b=babelHelpers.objectWithoutPropertiesLoose(b,["version"]);d("ReStoreEARInit").storeEARKey(a,c,b)}}g.addPoint("idb_open_start");b=await t(a,n,e,g,h);g.addPoint("idb_open_end");var o=b.transaction(d("ReStoreDbConfigStore").CONFIG_STORE_NAME,"readonly");o=await Promise.all([d("ReStoreDbConfigStore").detectConfigMismatch(o,f),d("ReStoreDbConfigStore").readCorruptionFailuresFromConfig(o).then(function(a){return(a=a==null?void 0:a.value)!=null?a:0})]);var p=o[0];o=o[1];var q=o>0;q&&(c("FBLogger")("maw_db").info("[pdb] opening corrupted db failures=%s inWorker=%s",String(o),String((i||(i=c("ExecutionEnvironment"))).isInWorker)),h.debug("DB corrupted, deleting db"));p&&h.debug("DB config mismatch, deleting db");g.addAnnotations({bool:{configMismatch:p,dbCorruptionOccured:q}});if(p||q)b.close(),g.addPoint("delete_db_start"),await c("promiseFromRequest")(indexedDB.deleteDatabase(a)),g.addPoint("delete_db_end"),g.addPoint("reopen_db_start"),b=await t(a,n,e,g,h),g.addPoint("reopen_db_end");else{var u=r(k,b),v=await d("ReStoreEARInit").generateEARKey(b,g);(u!=null||v!=null)&&(h.debug("Schema mismatch, bumping db version"),b.close(),g.addPoint("mismatch_start"),b=await t(a,function(a,b){s(a,h,u,l);if(v!=null){a=v.version;var c=babelHelpers.objectWithoutPropertiesLoose(v,["version"]);d("ReStoreEARInit").storeEARKey(b,a,c)}},e,g,h,b.version+1),g.addPoint("mismatch_end"))}try{g.addPoint("ear_keys_init_start"),await d("ReStoreEARInit").initEAR(b,j),g.addPoint("ear_keys_init_end")}catch(f){g.addPoint("ear_keys_init_failed");b.close();c("FBLogger")("maw_db").catching(f).mustfix("EAR failed to init as part of ReStore");c("promiseDone")(c("promiseFromRequest")(indexedDB.deleteDatabase(a)),function(a){},function(a){return c("FBLogger")("maw_db").catching(a).warn("Failed to delete DB")});e(new(c("ReStoreIndexedDbClosedEvent"))(b,new(d("ReStoreEARSetupFailure").ReStoreEARSetupFailure)("Failed to setup EAR in Restore")));throw new(d("ReStoreEARSetupFailure").ReStoreEARSetupFailure)("Failed to setup EAR in Restore")}return b}function a(a,b,e,f,g){var l=Object.keys(b.tableNames),m={accountKey:null,databaseEncryptionKeys:new Map(),latestVersion:d("MAWCryptoConsts").VERSION},n=f.logHistory,r=f.transactionLockQplLogger,s=f.userFlow,u=j+"-"+a,x="dbLock-"+u,y=!0,z,A=[],B=null,C=!1;n.debug("PDB is ON");s.addPoint("init_idb_start");b="mwChat-flushchanges-"+j+"-"+a;var D=d("MWBroadcastChannel").MWBroadcastChannel(b),E=void 0,F=new Map(),G=c("nullthrows")((b=c("BrowserLockManager"))!=null?b:c("MessengerLocksManagerFallback")(c("uuidv4")().toString())),H=new AbortController(),I=U(),J;I==null?void 0:I.onEventReceive("abortTransaction",function(){c("FBLogger")("maw_db").mustfix("Request to abort transaction: %s",J)});var K=new Promise(function(b,d){var f=r.startTracking(!0,void 0,x);f.addAnnotations({string:{source:"createReStoreIndexedDbPersistence",type:"initDB"}});f.mark("lock_requested");var g=c("setTimeout")(function(){I==null?void 0:I.postMessage("abortTransaction")},15e3);c("promiseDone")(G.request(x,{signal:H.signal},async function(){J="idbPromise";c("clearTimeout")(g);f.mark("lock_granted");try{var h=await w(a,l,L,e,s,n,m);f.mark("db_initialized");D.addEventListener("message",R);b(h);f.end();J=null}catch(a){d(a);c("FBLogger")("maw_db").catching(a).warn("[pdb] dbLock initDB issue");f.fail();J=null;throw a}}),function(a){f.end()},function(a){J=null,c("FBLogger")("maw_db").catching(a).warn("[pdb] dbLock idbPromise issue"),f.fail()})});c("promiseDone")(K.then(function(){s.addPoint("init_idb_end")}));c("qex")._("403")&&c("promiseDone")(W(function(){return Promise.resolve([function(){return K.then(function(a){return v(a,F,s)})},"readonly"])},"initCache"));function L(a){a instanceof c("ReStoreIndexedDbClosedEvent")?(H.abort(),a.idb.close(),y=!1,D.removeEventListener("message",R)):a instanceof c("ReStoreIndexedDbFailToOpenEvent")&&H.abort(),H=new AbortController(),g==null?void 0:g(a)}function M(a,b,c){c=a.transaction(c!=null&&c.length>0?c:a.objectStoreNames,b,{durability:"relaxed"});d("WAExceededStorageQuota").listenToQuotaExceededError(c);return c}function N(a){var b=F.get(a);b==null&&(b=new Map(),F.set(a,b));return b}async function O(a){return(a=await Q(function(a){return c("promiseFromRequest")(a.objectStore(d("ReStoreDbConfigStore").CONFIG_STORE_NAME).get(d("ReStoreDbConfigStore").CACHE_VERSION_KEY))},"readonly",a))==null?void 0:a.value}function P(){if(B)return;B=new Promise(async function(a){var b;try{var d=async function(){if(z==null){var a;b=(a=b)!=null?a:await K;var d=M(b,A.some(function(a){return a.writemode==="readwrite"||a.expectingWrite})?"readwrite":"readonly");d.onabort=function(){z===d&&(z=null)};z=d}var e=z;a=[];for(var f of A){if(f.writemode==="readwrite"){e.mode==="readwrite"&&a.push(f);z=null;break}a.push(f)}A.splice(0,a.length);a.length&&await Promise.all(a.map(function(a){a=a.thunk;return a(e)}));!A.length&&z!=null&&await c("promiseFromRequest")(z.objectStore(z.objectStoreNames[0]).get(""))};while(A.length)await d();(d=z)==null?void 0:d.commit==null?void 0:d.commit()}finally{z=null,a(),B=null}})}function Q(a,b,c){c===void 0&&(c=!1);return new Promise(function(d,e){A.push({expectingWrite:c,thunk:async function(b){var c;try{c=await a(b)}catch(a){e(a);return}d(c)},writemode:b}),P()})}function R(a){a=a.data;var b=a.changeSet,d=a.fromVersion,e=a.sentinelDeleted;a=a.toVersion;if(C){c("FBLogger")("maw_db").info("[pdb] unexpected cache update received after verifying cache matches db, ignoring");return}E!==d&&E!=null&&(F.clear(),c("FBLogger")("maw_db").info("[pdb] out of order cache update received"));E=a;b.forEach(function(a,b){var c=N(b);a.forEach(function(a,b){a===e?c.delete(b):c.set(b,{status:"decrypted",value:a})})})}function S(){if(!y)return;c("promiseDone")(K,async function(a){var b;a=M(a,"readwrite");b=(b=(b=await d("ReStoreDbConfigStore").readCorruptionFailuresFromConfig(a))==null?void 0:b.value)!=null?b:0;await d("ReStoreDbConfigStore").writeCorruptionFailuresToConfig(a,b)})}function T(){c("promiseDone")(K,function(a){L(new(c("ReStoreIndexedDbClosedEvent"))(a))})}function U(){var a="restore-table-"+u;a=(i||(i=c("ExecutionEnvironment"))).isInBrowser?c("ReStoreTabNotifier")(a):void 0;return a}function V(){if(!y){f.logHistory.error("DB closed, transaction failed");f.userFlow.addPoint("db_closed");throw new(c("ReStoreDbClosedError"))()}}async function W(a,b){await K;c("gkx")("8566")&&V();return new Promise(function(d,e){var f=r.startTracking(!0,void 0,x);f.addAnnotations({string:{source:"createReStoreIndexedDbPersistence",type:"runExclusivelyLock"}});f.mark("lock_requested");c("promiseDone")(G.request(x,{signal:H.signal},async function(){J=b;f.mark("lock_granted");var g=await a(),h=g[0];g=g[1];try{g=await O(g==="readwrite");f.mark("cache_version_read");E!==g&&E!=null&&(f.mark("cache_clearing"),F.clear(),c("FBLogger")("maw_db").info("[pdb] cache dropped, out of date cache version"),f.mark("cache_cleared"));E=g;C=!0;g=await h();C=!1;d(g);f.end();J=null}catch(a){C=!1;e(a);f.fail();J=null;throw a}}),function(a){f.end()},function(a){J=null,f.fail()})})}async function X(b,e){e=e.upgrade;if(!y)return;var f=c("uuidv4")(),g=c("nullthrows")(E);async function h(a){var e=new Promise(function(e,h){a.oncomplete=function(a){try{D.postMessage({changeSet:b,fromVersion:g,sentinelDeleted:d("ReStorePersistence").sentinelDeleted,toVersion:f})}catch(a){c("recoverableViolation")("Failed to broadcast changes","maw_db",a)}e(a.target.result)},a.onerror=a.onabort=function(a){E=null,F.clear(),h(a)}}),h=!1;for(var i of b){var j=i[0],k=i[1],l=a.objectStore(j);for(k of k){var n=k[0],o=k[1],q;if(o===d("ReStorePersistence").sentinelDeleted)q=l.delete(n);else{o=p(o,j,m);q=l.put(o,n)}q.onerror=function(){return h=!0}}}await c("promiseFromRequest")(a.objectStore(d("ReStoreDbConfigStore").CONFIG_STORE_NAME).put({name:d("ReStoreDbConfigStore").CACHE_VERSION_KEY,value:f}));h?a.abort():a.commit!=null&&a.commit();await e}function i(){Array.from(b).forEach(function(a){var b=a[0];a=a[1];var c=N(b);Array.from(a).forEach(function(a){var b=a[0];a=a[1];a===d("ReStorePersistence").sentinelDeleted?c.delete(b):c.set(b,{status:"decrypted",value:a})})}),E=f}if(q(b))return;var j=await K;if(e===!0){c("FBLogger")("maw_db").info("[pdb] Updating IDB version, fromVersion: %s, non-empty tables: %s",j.version,Array.from(b.entries()).filter(function(a){a[0];a=a[1];return a.size>0}).map(function(a){a=a[0];return a}).sort().toString());await B;(e=z)==null?void 0:e.abort();z=null;j.close();F.clear();E=null;K=async function(){var b=new(c("Deferred"))(),d=await t(a,function(a,d){i(),c("promiseDone")(h(d),function(){b.resolve()},function(a){c("FBLogger")("maw_db").catching(a).warn("Failed to complete db flush"),b.reject("Failed to complete db flush")})},L,s,n,j.version+1);await b.getPromise();return d}();await K;return}if(b.size===0)return;i();e=Array.from(b.keys());e.push(d("ReStoreDbConfigStore").CONFIG_STORE_NAME);return Q(function(a){return h(a)},"readwrite")}function Y(b){c("promiseDone")(K,function(e){L(new(c("ReStoreIndexedDbClosedEvent"))(e,b));e=indexedDB.deleteDatabase(a);e.onerror=function(){(h||(h=d("ODS"))).bumpEntityKey(3185,"db_delete","error.persistence"),c("recoverableViolation")("[pdb] Failed to delete db","maw_db")};e.onblocked=function(){(h||(h=d("ODS"))).bumpEntityKey(3185,"db_delete","block.persistence")};e.onsuccess=function(){(h||(h=d("ODS"))).bumpEntityKey(3185,"db_delete","success.persistence")}})}return{abortTransaction:function(){H.abort()},clearCache:function(){F.clear()},close:T,flush:X,get:function(a,b,d){try{var e=N(b);if(e.has(d)){a=e.get(d);if((a==null?void 0:a.status)==="encrypted"){var f=o(a.value,b,Y,m);e.set(d,{status:"decrypted",value:f});return f}return a==null?void 0:a.value}else{if(!y)return new Promise(function(){});var g=Q(function(a){return c("promiseFromRequest")(a.objectStore(b).get(d))},"readonly").then(function(a){var c=e.get(d);if((c==null?void 0:c.value)!==g)return c==null?void 0:c.value;c=o(a,b,Y,m);e.set(d,{status:"decrypted",value:c});return c});e.set(d,{status:"pending",value:g});return g}}catch(a){c("FBLogger")("maw_db").catching(a).warn("Error occurs in indexeddb persistence get");throw a}},isClosed:function(){return!y},isPersistenceSupported:async function(){try{await K;return!0}catch(a){return!1}},logError:function(a,b,d,e){if(d==="dbCorruption"){b==="readwrite"&&S();throw c("FBLogger")("maw_db").mustfixThrow("Got unexpected undefined in pdb, mode: %s, table: %s, id: %s, deletedInThisTxn: %s",b,a,(d=e==null?void 0:e.id)!=null?d:"",(b=e==null?void 0:e.deletedInThisTxn)!=null?b:"")}},queueCommitWork:function(a){return a()},runExclusively:W,shouldApplySync:function(){return!0},shouldInline:function(a,b){return d("ReStoreBinaryEncoding").estimateSize(b)<k},shouldSync:function(a,b){return a==="notifyInMemoryTable"?!1:!0},tabTablesNotifier:function(){return I},types:["indexeddb"],uniqueId:u}}a.schemaDiff=r;a.applyChanges=s;g.default=a}),98);
__d("migratePDBTablesToEBSM",["EBSMProperties","FBLogger","LSDBRestoreConfig","LSMetadata","LSPlatformLsInitLog","LSReStoreQplLogger","LSReStoreWrapper","MAWLSVaultingHooks","MWLSIndexedDBName","MessengerLogHistory","ODS","Promise","asyncToGeneratorRuntime","clearTimeout","createReStoreIndexedDbPersistence","err","qpl","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(indexedDB==null)return;var e=d("MWLSIndexedDBName").dbName();if(indexedDB.databases!=null){var g=(yield indexedDB.databases());if(g.find(function(a){return a.name===e})==null)return}else{var j;g=(yield (i||(i=b("Promise"))).race([new i(function(a,b){var d=indexedDB.open(e);d.onupgradeneeded=function(b){b.target.transaction.abort(),a(!1)};d.onsuccess=function(b){b.target.result.close(),a(!0)};d.onerror=function(a){b(c("err")("pdb migration error in checking db existance "+((a=a.target)==null?void 0:(a=a.error)==null?void 0:a.message)))}}),new i(function(a,b){j=c("setTimeout")(function(){b(c("err")("pdb db is not available. resolving on timeout"))},300)})]));c("clearTimeout")(j);if(g===!1)return}try{g=c("createReStoreIndexedDbPersistence")(e,d("LSMetadata").schema,d("LSDBRestoreConfig").createConfig(),{logHistory:d("MessengerLogHistory").getInstance("db_init"),transactionLockQplLogger:d("LSReStoreQplLogger").createQplLogger(c("qpl")._(25303045,"817")),userFlow:d("LSPlatformLsInitLog").lsInitLogger});var k=d("LSReStoreWrapper").createLSReStore(g,d("LSMetadata").schema,[c("MAWLSVaultingHooks")]);yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){for(var b=0;b<c("EBSMProperties").persistedTablesArray.length;b++){var d=c("EBSMProperties").persistedTablesArray[b],e=k.tables[d].entries(new WeakMap()),f=(yield e.next());while(!f.done){var g=f.value;g[0];g=g[1];yield a[d].put(g);f=(yield e.next())}}});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":102");k.closeDb==null?void 0:k.closeDb();(h||(h=d("ODS"))).bumpEntityKey(3185,"pdb_to_ebsm_migration","migration.success")}catch(a){(h||(h=d("ODS"))).bumpEntityKey(3185,"pdb_to_ebsm_migration","migration.fail");throw a}});return k.apply(this,arguments)}function l(){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("MWLSIndexedDBName").dbName();if(indexedDB.databases!=null){var c=(yield indexedDB.databases());if(c.find(function(b){return b.name===a})==null)return}return new(i||(i=b("Promise")))(function(b,c){var d=indexedDB.deleteDatabase(a);d.onsuccess=b;d.onerror=c})});return m.apply(this,arguments)}function a(a){return j(a)["catch"](function(a){c("FBLogger")("ls_web_init").catching(a).mustfix("Error migrating data from PDB to EBSM")}).then(function(){return l()})["catch"](function(a){c("FBLogger")("ls_web_init").catching(a).mustfix("Error cleaning up data in PDB post EBSM startup.")})}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("ArmadilloReceiveWriteDbSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5721");b=d("FalcoLoggerInternal").create("armadillo_receive_write_db_success",a);e=b;g["default"]=e}),98);
__d("LSDedicatedMqttChannel",["FBMqttChannel","cr:1232"],(function(a,b,c,d,e,f,g){"use strict";function a(){b("cr:1232")!=null&&b("cr:1232").shutdownAndClear()}function d(a,d,e,f,g){return function(h){if(b("cr:1232")!=null)return b("cr:1232").getInstance(h,a,d,e,f,g);else return c("FBMqttChannel")}}g.shutdownAndClear=a;g.getInstance=d}),98);
__d("LSFetchBackupIds",["LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsFetchBackupIdsStoredProcedure] Beginning execution."),d[11]=c.i64.cast([0,0]),d[7]=d[11],d[8]=new c.Map(),d[8].set("backup_tenancy",a[0]),d[8].set("trace_id",void 0),d[9]=c.toJSON(d[8]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"encrypted_backups_setup",c.i64.cast([0,50008]),d[9],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,d[7]).then(function(a){return a=a,d[10]=a[0],a})},function(a){return d[1]=c.i64.of_float(Date.now()),d[2]=c.i64.random(),d[4]="Finishing execution. Execution time: ",d[5]=c.i64.to_string(c.i64.sub(d[1],d[0])),d[6]=" ms",d[3]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsFetchBackupIdsStoredProcedure] ",d[3],d[4],d[3],d[5],d[3],d[6]].join("")),c.i64.eq(c.i64.mod_(d[2],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[7]=",",d[8]=c.createArray(),void 0!==void 0?d[9]=(d[8].push(void 0),d[8]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsFetchBackupIdsStoredProcedure",[d[4],d[7],d[5],d[7],d[6]].join(""),d[8],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsFetchBackupIdsStoredProcedure";a.__tables__=["encrypted_backups"];e.exports=a}),null);
__d("LSFetchBackupIdsStoredProcedure",["LSFetchBackupIds","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSFetchBackupIds"),e.backupTenancy,e.traceId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MWEncryptedBackupsListenForChangesToBackupStateInitPath",["EBAPIWorkerCheck","I64","LSAuthorityLevel","LSDataTraceType","LSEncryptedBackupsBackupTenancy","LSFactory","LSFetchBackupIdsStoredProcedure","LSIntEnum","LSIssueMessageRangeQueryTaskStoredProcedure","LSMEBTaskCreationSource","MAWEBRestoreTrackingUtils","MAWMainTraceUtils","MAWOfflineQueueStatus","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWEncryptedBackupsFirstRestoreUpsellTime","MWEncryptedBackupsProcessBackupIdsDEPRECATED","Promise","QPLEvent","QPLUserFlow","ReQL","WAJids","WATagsLogger","WebSession","gkx","isInstamadilloEB","promiseDone","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[EB Prefetch] Issuing message range query for thread "," with params ",""]);l=function(){return a};return a}var m=c("gkx")("23961"),n=c("qex")._("121")===!0;function a(a){function b(){var b=d("ReQL").fromTableAscending(a.tables.encrypted_backups),e=b.subscribe(function(a,b){if(b.operation==="delete"||!(i||(i=d("I64"))).equal(b.value.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return;e();c("QPLUserFlow").getActiveFlowIDs().includes((k||(k=d("QPLEvent"))).getMarkerId(d("MWChatEncryptedBackupsQPLEvents").fetchBackupIdsQPLEvent))&&d("MWChatEncryptedBackupsLogging").endSuccess({event:d("MWChatEncryptedBackupsQPLEvents").fetchBackupIdsQPLEvent})});b=d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();c("QPLUserFlow").getActiveFlowIDs().includes((k||(k=d("QPLEvent"))).getMarkerId(d("MWChatEncryptedBackupsQPLEvents").fetchBackupIdsQPLEvent))||c("QPLUserFlow").start(d("MWChatEncryptedBackupsQPLEvents").fetchBackupIdsQPLEvent,{annotations:{string:{ebSessionIdentifier:b,fetchBackupIdsVersion:"msys",sessionTabId:d("WebSession").getId()}}});c("promiseDone")(a.runInTransaction(function(a){return c("LSFetchBackupIdsStoredProcedure")(c("LSFactory")(a),{backupTenancy:(j||(j=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsBackupTenancy").PRODUCTION)})},"readwrite",void 0,void 0,f.id+":93"),function(){return p(a)})}(n||c("isInstamadilloEB")())&&b();var e=d("ReQL").fromTableAscending(a.tables.encrypted_backups_status_trigger);return e.subscribe(b)}function o(a){return a.runInTransaction(function(a){var e=d("MAWOfflineQueueStatus").getAllThreadsWithOfflineQueueIncomplete();return(h||(h=b("Promise"))).all(e.map(function(b){var e=d("WAJids").threadIdForChatJid(b),f=d("MAWMainTraceUtils").createTraceId();c("promiseDone")(d("MAWMainTraceUtils").startTraceWithTxn(a,(i||(i=d("I64"))).of_float(Date.now()),f,(j||(j=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_RESTORE)));e={isPointQuery:!1,newerNumMessages:i.zero,numMessages:i.of_int32(20),source:j.ofNumber(c("LSMEBTaskCreationSource").UNKNOWN),threadId:e,traceId:f};d("WATagsLogger").TAGS(["labyrinth_web","eb_prefetch",f]).LOG(l(),b,JSON.stringify(e));d("MAWEBRestoreTrackingUtils").markEBRestoreFrontloaded(c("LSMEBTaskCreationSource").UNKNOWN,f,!1);return c("LSIssueMessageRangeQueryTaskStoredProcedure")(c("LSFactory")(a),e)}))},"readonly",void 0,void 0,f.id+":121")}function p(a){var b=d("MAWOfflineQueueStatus").isOfflineQueueComplete();m&&!b&&c("promiseDone")(d("MWEncryptedBackupsProcessBackupIdsDEPRECATED").processBackupIdsStoredProcedure(a),function(b){if(c("gkx")("3551")===!0&&d("EBAPIWorkerCheck").runningInWorker())return;b===3&&c("promiseDone")(o(a))})}e={listenForChangesToBackupState:a,preloadEBData:p};g["default"]=e}),98);
__d("EBSMGating",["MAWWaitForBackendSetup","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(){return c("gkx")("24151")}function a(){return d("MAWWaitForBackendSetup").isBackendSetupSuccessful()||h()}g.isPersistedEBTableEnabled=h;g.isBackendSetupSuccessfulForEBSM=a}),98);
__d("MAWEncryptedBackupsPersistedDB",["EBSMGating","EBSMProperties","FBLogger","LSMetadata","MAWCurrentUser","MAWIndexedDBDeletion","MAWIndexedDbMetadata","MWEBODSCategory","MWEBODSEntityKey.enum","MWEBODSEntityName.enum","ODS","Promise","QPLUserFlow","WALoggerDeferred","err","gkx","justknobx","qex","qpl","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] EB state DB upgrade needed"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] EBSM upgrade failed: ",". Falling back to ephemeral LSDB"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] EB state DB onVersionChange: closing the db"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] EB state DB initialization successsful"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] EB state DB initialization: db blocked"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] EB state DB initialization failed"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Initializing EB state DB"]);p=function(){return a};return a}var q=null,r=c("justknobx")._("2243");function a(){if(q==null)throw c("err")("EB state IndexedDB should've been initialized");return q}var s=(i||(i=b("Promise"))).resolve();function e(){return s}function f(a){a===void 0&&(a=!1);return!a&&!d("EBSMGating").isPersistedEBTableEnabled()?(i||(i=b("Promise"))).resolve():(i||(i=b("Promise"))).resolve().then(function(){if(q==null){c("QPLUserFlow").start(c("qpl")._(521471732,"1454"));(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_IDB,c("MWEBODSEntityKey.enum").START);void d("WALoggerDeferred").LOG(p());var a=indexedDB.open(d("MAWIndexedDbMetadata").ebLSDBName(d("MAWCurrentUser").getID()),c("EBSMProperties").dbVersion);return new(i||(i=b("Promise")))(function(e,f){a.onerror=function(a){c("QPLUserFlow").endFailure(c("qpl")._(521471732,"1454"),"EB state idb initialization failed"),void d("WALoggerDeferred").ERROR(o()),c("QPLUserFlow").endFailure(c("qpl")._(521477507,"1406"),"Initialisation failed. Reached onerror."),c("FBLogger")("labyrinth_web").catching(a).mustfix("[labyrinth_web] EBSM idb init failed: %s",a),(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_IDB,c("MWEBODSEntityKey.enum").FAIL),f(a)},a.onblocked=function(){void d("WALoggerDeferred").LOG(n()),(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_IDB,"blocked")},a.onsuccess=function(a){var b=a.target.result;void d("WALoggerDeferred").LOG(m());b.onversionchange=function(){void d("WALoggerDeferred").LOG(l()),b.close()};q=b;return s.then(function(){c("QPLUserFlow").endSuccess(c("qpl")._(521471732,"1454")),(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_IDB,c("MWEBODSEntityKey.enum").SUCCESS),e(b)})["catch"](function(a){void d("WALoggerDeferred").ERROR(k(),a.message),c("QPLUserFlow").endFailure(c("qpl")._(521471732,"1454"),"EB state idb upgrade failed"),(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_IDB,"upgrade.fail"),h.bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_IDB,c("MWEBODSEntityKey.enum").FAIL),e(null)})},a.onupgradeneeded=function(a){var e=a.target.result;a=new(i||(i=b("Promise")))(function(a,b){setTimeout(function(){b(c("err")("EBSM upgrade timeout"))},r)});var f=new i(function(a){c("QPLUserFlow").addPoint(c("qpl")._(521471732,"1454"),"eb_state_idb_upgrade_start",{data:{bool:{eb_state_upgrade:!0}}});void d("WALoggerDeferred").LOG(j());var b=Object.keys(d("LSMetadata").schema.tableNames);for(var f=0;f<b.length;f++){var g=b[f];c("EBSMProperties").persistedTables.has(g)&&!e.objectStoreNames.contains(g)&&e.createObjectStore(g,{autoIncrement:!0})}c("QPLUserFlow").addPoint(c("qpl")._(521471732,"1454"),"eb_state_idb_upgrade_end",{data:{bool:{eb_state_upgrade:!0}}});a()});s=i.race([f,a])}})}else return q})}function t(a){a=a.hasUserGivenAutoRestoreConsent;var b=a?["secure_encrypted_backups_epochs","secure_encrypted_backups_client_state"]:[];c("qex")._("926")&&b.push("occamadillo_most_recent_message_per_thread");c("gkx")("5229")&&b.push("auto_restore_opt_out");a=Array.from(c("EBSMProperties").persistedTables).filter(function(a){return!b.includes(a)});try{if(q!=null){var d=q.transaction(a,"readwrite");a.forEach(function(a){a=d.objectStore(a);a.clear()});d.oncomplete=function(){d.db.close()}}}catch(a){c("recoverableViolation")(a,"labyrinth_web")}}function u(){var a=d("MAWIndexedDbMetadata").ebLSDBName(d("MAWCurrentUser").getID());(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_IDB,"deletion");return d("MAWIndexedDBDeletion").deleteDB(a,"ebsm")}function v(a){if(q!=null){var e=q.transaction([a],"readwrite"),f=e.objectStore(a);f.clear();e.oncomplete=function(){e.db.close()};(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_IDB_TABLE_DELETION,a)}return(i||(i=b("Promise"))).resolve()}g.getEBLSDB=a;g.isDBBeingUpgraded=e;g.makeEBIDB=f;g.clearEBIDBNonPersistedRows=t;g.deleteEBIDB=u;g.clearEBSMTable=v}),98);
__d("MAWLSDBEncryption",["I64","LSPlatformErrorChannel","MAWCryptoConsts","MAWKeychainCrypto","MAWKeychainNaClCrypto","MAWKeychainUtil","MWEARKeychainV3","QPLUserFlow","err","nullthrows","qpl","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=typeof window!=="undefined"?window:self,j="EBSMDecryptionFailure",k=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d;a=a+" - Encrypted Restore was unable to decrypt an entity for table "+c;d=b.call(this,a)||this;d.message=a;d.name=j;d.tableName=c;return d}var c=a.prototype;c.getTableName=function(){return this.tableName};return a}(babelHelpers.wrapNativeSuper(Error));function l(a){a=atob(a);var b=a.length,c=new Uint8Array(b);for(var d=0;d<b;d++)c[d]=a.charCodeAt(d);return c.buffer}function m(a){var b="";a=new Uint8Array(a);var c=a.byteLength;for(var d=0;d<c;d++)b+=String.fromCharCode(a[d]);return i.btoa(b)}function n(a){return c("nullthrows")(JSON.stringify(a,function(a,b){if((h||(h=d("I64"))).isI64(b))return{type:"64",value:[b[0],b[1]]};else if(a===""||b===null||typeof b==="string"||typeof b==="number"||typeof b==="boolean"||Array.isArray(b))return b;else if(b===void 0)return{type:"u"};else if(b instanceof ArrayBuffer)return{type:"ab",value:m(b)};else if(b instanceof Uint8Array)return{l:b.byteLength,o:b.byteOffset,type:"ui8",value:m(b.buffer)};else if(b instanceof Map)return{e:n(Array.from(b.entries())),type:"m"};else if(b instanceof Set)return{type:"s",v:n(Array.from(b.values()))};else if(typeof b==="object")return{type:"o",value:n(b)};throw c("unrecoverableViolation")("Not supported","messenger_comet")}))}function o(a){return JSON.parse(a,function(a,b){if(a===""||b===null||typeof b==="string"||typeof b==="number"||typeof b==="boolean"||Array.isArray(b))return b;else if(typeof b==="object")if(b.type==="64"){b.value._tag="i64";return b.value}else if(b.type==="u")return void 0;else if(b.type==="ab")return l(b.value);else if(b.type==="ui8")return new Uint8Array(l(b.value),b.o,b.l);else if(b.type==="o")return o(b.value);else if(b.type==="m")return new Map(o(b.e));else if(b.type==="s")return new Set(o(b.v));throw c("unrecoverableViolation")("Not supported","messenger_comet")})}function a(a,b){try{var e=d("MWEARKeychainV3").getDbEncryptionKey("global_ear"),f=e.keys;f=f[0];e=e.version;e=d("MAWKeychainUtil").makeAAD(e,d("MAWCryptoConsts").CIPHER_ID);return p(f,c("nullthrows")(n(a)),e)}catch(a){throw c("err")(a.message+" - Encrypted LSDB was unable to encrypt an entity for table "+b)}}function b(a,b){try{var e=d("MAWKeychainCrypto").getKeyVersionFromCipherData(a),f=e.aadLengthInBytes;e=e.keyVersion;var g=d("MWEARKeychainV3").getDbEncryptionKey("global_ear",e),h=g.dbEntry;g=g.keys;g=g[0];g=q(g,a,e,h.formatVersion,f);return c("nullthrows")(o(g))}catch(a){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_DECRYPTION_FAILURE_ON_"+b.toUpperCase());c("LSPlatformErrorChannel").emit(new k(a.message,b));throw new k(a.message,b)}}function p(a,b,c){b=new TextEncoder().encode(b).buffer;return d("MAWKeychainNaClCrypto").encryptTweetNaClArrayBuffer(a,new Uint8Array(b),c)}function q(a,b,c,e,f){a=d("MAWKeychainNaClCrypto").decryptTweetNaClArrayBuffer(a,b,c,e,f);return new TextDecoder().decode(a)}g.ERROR_NAME=j;g.EBSMDecryptionFailure=k;g.stringify=n;g.parse=o;g.encryptLSDBObj=a;g.decryptLSDBObj=b}),98);
__d("MWEBUseLocalStorage",["WALogger","WebStorage","getMWEncryptedBackupsIsLocalStorageSupported"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Encrypted Backups key "," written to local storage"]);i=function(){return a};return a}function a(a,b){a=a;b=(b=b)!=null?b:"true";if(d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var e;d("WALogger").LOG(i(),a);(e=(h||(h=c("WebStorage"))).getLocalStorage())==null?void 0:e.setItem(a,b)}}function b(a){a=a;if(d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var b;(b=(h||(h=c("WebStorage"))).getLocalStorage())==null?void 0:b.removeItem(a)}}function e(a){if(d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var b;a=a;return(b=(h||(h=c("WebStorage"))).getLocalStorageForRead())==null?void 0:b.getItem(a)}return null}function f(a){if(d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var b;a=a;return((b=(h||(h=c("WebStorage"))).getLocalStorageForRead())==null?void 0:b.getItem(a))!=null}return!0}g.mwEBCreateLocalStorageEntry=a;g.mwEBDeleteLocalStorageEntry=b;g.mwEBGetLocalStorageEntryValue=e;g.mwEBGetIsLocalStorageEntryValuePresent=f}),98);
__d("EBSMHydrationUtils",["EBAPIWorkerCheck","EBSMProperties","MAWEncryptedBackupsPersistedDB","MAWLSDBEncryption","MWEBUseLocalStorage","MWEncryptedBackupsLocalStorageEntryEnum","Promise","QPLUserFlow","WALoggerDeferred","asyncToGeneratorRuntime","gkx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Error loading data from EB State db to in memory ReStore"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Loaded data from EB State db to in memory ReStore"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Error loading table "," from EB State db to in memory ReStore"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Hydrated ",": "," rows"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Hydration not performed for "," because its not present in IDB"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] EBSM hydration failed due to IDB transaction error: ",""]);n=function(){return a};return a}function o(a){var b=[];a=a;while(a!==0)b.push(a.hd),a=a.tl;return b}function p(a,e){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_GET_ROWS_OF_"+e.toUpperCase());return new(h||(h=b("Promise")))(function(b,f){var g=[],h,i;try{i=a.transaction(e,"readonly"),h=i.objectStore(e).openCursor()}catch(a){void d("WALoggerDeferred").ERROR(n(),a);return f(null)}h.onsuccess=function(a){a=a.target.result;if(a){var b=a.key,c=a.value;c=d("MAWLSDBEncryption").decryptLSDBObj(c,e);c!=null&&c.isLeaf!==void 0&&(c.keys!==void 0&&Array.isArray(c.keys)&&c.keys.length>0&&!Array.isArray(c.keys[0])&&(c.keys=c.keys.filter(function(a){return a!=null&&typeof a==="object"&&!Array.isArray(a)}).map(function(a){return o(a)})));g.push({key:b,value:c});a["continue"]()}};h.onerror=function(a){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_CURSOR_ERROR_ON_"+e.toUpperCase());return f(a)};i.onerror=function(a){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_TRANSACTION_ERROR_"+e.toUpperCase());return f(a)};i.onabort=function(a){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_TRANSACTION_ABORT_ERROR_"+e.toUpperCase());return f(a)};i.oncomplete=function(){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_TRANSACTION_COMPLETE_"+e.toUpperCase()),b(g)}})}function a(a){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=new Map();yield d("MAWEncryptedBackupsPersistedDB").isDBBeingUpgraded();c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_LOAD_DATA_FROM_IDB");return(h||(h=b("Promise"))).all(Array.from(c("EBSMProperties").persistedTables).map(function(b){if(!a.objectStoreNames.contains(b)){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_TABLE_"+b.toUpperCase()+"_NOT_IN_IDB");void d("WALoggerDeferred").WARN(m(),b);return!0}var f=p(a,b),g=new Map();return f.then(function(a){a.map(function(a,b){g.set(a,b)});e.set(b,g);if(b==="secure_encrypted_backups_client_state"&&g.size===0){a=c("gkx")("3551")&&d("EBAPIWorkerCheck").runningInWorker()?!1:d("MWEBUseLocalStorage").mwEBGetIsLocalStorageEntryValuePresent(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION);a&&c("QPLUserFlow").addAnnotations(c("qpl")._(521481876,"1407"),{string:{missing_eb_keys:"true"}})}c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_DONE_ON_"+b.toUpperCase());void d("WALoggerDeferred").LOG(l(),b,g.size);return!0},function(){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_FAILED_ON_"+b.toUpperCase());void d("WALoggerDeferred").ERROR(k(),b);return!1})})).then(function(a){var f=!0;a.forEach(function(a){a||(f=!1)});if(f){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_DONE_ON_ALL_TABLES_SUCCESSFULLY");void d("WALoggerDeferred").LOG(j());return(h||(h=b("Promise"))).resolve(e)}else{c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_FAILED_TO_LOAD_DATA_FROM_IDB");void d("WALoggerDeferred").ERROR(i());return(h||(h=b("Promise"))).reject(e)}})});return q.apply(this,arguments)}g.getAllRowsByTableName=p;g.loadEBdataToEphemeralRestore=a}),98);
__d("QPLMemoryUtils",["MemoryUtils","QPLUserFlow"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("MemoryUtils").getCurrentMemory();b=b.usedJSHeapSize;c("QPLUserFlow").addAnnotations(a,{"int":{usedJSHeapSizeStart:b}})}function b(a){var b=d("MemoryUtils").getCurrentMemory();b=b.usedJSHeapSize;c("QPLUserFlow").addAnnotations(a,{"int":{usedJSHeapSizeEnd:b}})}g.logMemoryForQPLStart=a;g.logMemoryForQPLEnd=b}),98);
__d("createReStoreEBSMTablesPersistence",["CurrentMessengerUser","EBSMHydrationUtils","EBSMProperties","ExecutionEnvironment","FBLogger","MAWLSDBEncryption","MAWQplProxy","MAWUnrecoverableDbErrors","MWEBODSCategory","MWEBODSEntityKey.enum","MWEBODSEntityName.enum","MWEBUseLocalStorage","MWEncryptedBackupsFirstRestoreUpsellTime","MWEncryptedBackupsLocalStorageEntryEnum","ODS","Promise","QPLMemoryUtils","QPLUserFlow","Random","ReStorePersistence","ReStoreTabNotifier","WAExceededStorageQuota","WALoggerDeferred","WebSession","asyncToGeneratorRuntime","cr:11340","gkx","promiseFromRequest","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] An error occured in EBSM hydration when loading EB data"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] DB corruption detected - deleting EBSM db"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web][EB SM] EB SM tableName is "," is missing in ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] An error occured in flush. ",". Requested stores: ",""]);n=function(){return a};return a}e=d("CurrentMessengerUser").getIDorEIMU();var o=c("ReStoreTabNotifier")==null?void 0:c("ReStoreTabNotifier")("mwChat-"+e),p=c("gkx")("23665"),q=null,r=!1,s=!1;function t(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}var u=["auto_restore_opt_out","device_metadata","encrypted_backups","encrypted_backups_virtual_devices","experiences_shared_state","secure_encrypted_backups_client_state","secure_encrypted_backups_epochs","secure_encrypted_backups_recovery_code_status"];function a(a,e){a===void 0&&(a=!1);var f=(j||(j=b("Promise"))).resolve(),g=new Map();function u(a){return t(g,a,function(){return new Map()})}var w=d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();c("QPLUserFlow").start(c("qpl")._(521481876,"1407"),{annotations:{string:{ebSessionIdentifier:w,sessionTabId:d("WebSession").getId()}}});(i||(i=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_HYDRATION,c("MWEBODSEntityKey.enum").START);d("QPLMemoryUtils").logMemoryForQPLStart(c("qpl")._(521481876,"1407"));function x(){return y.apply(this,arguments)}function y(){y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield e);if(a==null)return;a=d("EBSMHydrationUtils").loadEBdataToEphemeralRestore(a);return a.then(function(a){a.forEach(function(a,b){var c=u(b);a.forEach(function(a,b){c.set(b.key,b.value)})}),d("QPLMemoryUtils").logMemoryForQPLEnd(c("qpl")._(521481876,"1407")),c("QPLUserFlow").endSuccess(c("qpl")._(521481876,"1407")),(i||(i=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_HYDRATION,c("MWEBODSEntityKey.enum").SUCCESS)},function(){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_FAILED"),void d("WALoggerDeferred").ERROR(k()),c("QPLUserFlow").endFailure(c("qpl")._(521481876,"1407"),"Hydration failed."),(i||(i=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_HYDRATION,c("MWEBODSEntityKey.enum").FAIL)})});return y.apply(this,arguments)}q=x();o==null?void 0:o.onEventReceive("flushChangesV2",function(a){var b=a.changeSet,c=a.sentinelDeleted;b.forEach(function(a,b){var e=u(b);a.forEach(function(a,b){d("ReStorePersistence").isDeletedValue(a,c)?e["delete"](b):e.set(b,a)})})});return{flush:function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(f){if(f.size===0)return;f.size>0&&f.forEach(function(a,b){a.size===0&&f["delete"](b)});yield v(f,u);if(f.size>0){f.forEach(function(a,b){var c=u(b);a.forEach(function(a,b){d("ReStorePersistence").isDeletedValue(a,d("ReStorePersistence").sentinelDeleted)?c["delete"](b):c.set(b,a)})});o==null?void 0:o.postMessage("flushChangesV2",{changeSet:f,fromVersion:"",sentinelDeleted:d("ReStorePersistence").sentinelDeleted,version:""});if(a)return;var g=d("Random").uint32(),h=Array.from(f.keys());c("QPLUserFlow").start(c("qpl")._(521485383,"2200"),{annotations:{bool:{ebsmv2:!0},string_array:{tables:h}},instanceKey:g});yield q;var i=(yield e);if(i==null)return;var k=i.transaction(i.objectStoreNames,"readwrite",{durability:"relaxed"});d("WAExceededStorageQuota").listenToQuotaExceededError(k);h=new window.Promise(function(a,e){k.oncomplete=function(b){c("QPLUserFlow").endSuccess(c("qpl")._(521485383,"2200"),{instanceKey:g}),a(b.target.result)},k.onerror=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,h=Array.from(f).map(function(a){a=a[0];return a}).join(", ");yield d("WALoggerDeferred").ERROR(n(),a==null?void 0:(b=a.target)==null?void 0:b.error,h);c("QPLUserFlow").endFailure(c("qpl")._(521485383,"2200"),a==null?void 0:(b=a.target)==null?void 0:b.error,{instanceKey:g});e(a)});return function(b){return a.apply(this,arguments)}}()});yield (j||(j=b("Promise"))).all(Array.from(f).map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a[0];a=a[1];if(e!=null&&i.objectStoreNames.contains(e)){var f=k.objectStore(e);yield (j||(j=b("Promise"))).all(Array.from(a).map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a[0];a=a[1];if(d("ReStorePersistence").isDeletedValue(a))yield c("promiseFromRequest")(f["delete"](b));else{a=d("MAWLSDBEncryption").encryptLSDBObj(a,e);yield c("promiseFromRequest")(f.put(a,b))}});return function(b){return a.apply(this,arguments)}}()))}else void d("WALoggerDeferred").ERROR(m(),e,Array.from(i.objectStoreNames).toString())});return function(b){return a.apply(this,arguments)}}()));yield h}});function g(a){return f.apply(this,arguments)}return g}(),get:function(a,c,d){var e=u(c);if(r)return e.get(d);return q==null?(j||(j=b("Promise"))).reject("rehydration is not complete"):q.then(function(){r=!0;return e.get(d)})},logError:function(a,b,e,f){(i||(i=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_RESTORE_PERSISTENCE_ERROR,a);if(e==="dbCorruption"){var g;(i||(i=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_CORRUPTION,a);e=d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();void d("WALoggerDeferred").ERROR(l());f="Got unexpected undefined in ebsm, mode: "+b+", table: "+a+", id: "+((g=f==null?void 0:f.id)!=null?g:"")+", deletedInThisTxn: "+((g=f==null?void 0:f.deletedInThisTxn)!=null?g:"")+". Deleting EBSM db";c("FBLogger")("labyrinth_web").mustfix(f);g=c("EBSMProperties").mandatoryTables.has(a)||!p;b={bool:{fullDeletion:g},string:{mode:b,restoreUpsellTime:e,tableName:a}};e=d("Random").uint32();c("QPLUserFlow").start(c("qpl")._(521484724,"141"),{annotations:b,instanceKey:e});d("MAWUnrecoverableDbErrors").setError(new(d("MAWUnrecoverableDbErrors").EbsmHydrationError)(f,g,e,a));s||(s=!0,d("MWEBUseLocalStorage").mwEBCreateLocalStorageEntry(c("MWEncryptedBackupsLocalStorageEntryEnum").EBSM_CORRUPTION_WIPE,g?"full":"partial"))}},queueCommitWork:void 0,runExclusively:function(a){return new(j||(j=b("Promise")))(function(c,d){f=f.then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield a()),e=b[0];b[1];try{c(yield e())}catch(a){d(a)}}))})},shouldApplySync:function(){return!1},shouldInline:function(a,b){return!1},shouldSync:function(a,b){return a==="notifyInMemoryTable"?!1:!0},tabTablesNotifier:function(){return(h||(h=c("ExecutionEnvironment"))).isInBrowser?o:void 0},types:["ephemeral"],uniqueId:""}}function v(a,e){if(b("cr:11340")==null)return(j||(j=b("Promise"))).resolve();var f=d("MAWQplProxy").startQplUserFlow(c("qpl")._(521482912,"2591"),{},void 0,1e4),g=b("cr:11340").getEBDB();return g.runInTransaction(["auto_restore_opt_out","device_metadata","encrypted_backups","encrypted_backups_virtual_devices","experiences_shared_state","secure_encrypted_backups_client_state","secure_encrypted_backups_epochs","secure_encrypted_backups_recovery_code_status"],"readwrite",function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){for(var g of u){var h,i=a.get(g);if(i==null||i.size===0)continue;var j=[],k=[];h=(h=b("cr:11340").ebdbDescriptor)==null?void 0:h[g];if(h==null){f.addAnnotations({string:{missingTableDescriptor:"tableDescriptor is null for "+g}});continue}h=h.primaryKey;for(i of i){var l=i[0],m=i[1];if(m===d("ReStorePersistence").sentinelDeleted){var n=e(g);n=n.get(l);l=typeof n==="object"&&(n==null?void 0:n[h]);l!=null&&j.push(b("cr:11340").i64ToLongInt(l))}else typeof m==="object"&&(m==null?void 0:m[h])!=null&&k.push(b("cr:11340").mapI64ToLongInt(m))}n=c.stores[g];if(n==null){f.addAnnotations({string:{missingStore:"store is null for "+g}});continue}j.length>0&&(yield n.bulkDelete(j));k.filter(Boolean).length>0&&(yield n.bulkPut(k))}});return function(a){return c.apply(this,arguments)}}()).then(function(){f.endSuccess()})["catch"](function(a){f.endFail("runtime-exception",{string:{message:a.toString(),reason:"runtime-exception"}})})}g["default"]=a}),98);
__d("createReStoreTableNameAllowListPersistence",["Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c,d){var e;return{clearCache:function(){a.clearCache==null?void 0:a.clearCache(),c.clearCache==null?void 0:c.clearCache()},close:function(){a.close==null?void 0:a.close(),c.close==null?void 0:c.close()},flush:function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e,f){var h=new Map(),i=new Map();e.forEach(function(a,b){d.has(b)?i.set(b,a):h.set(b,a)});yield (g||(g=b("Promise"))).all([a.flush(h,f),c.flush(i,f)])});function f(a,b){return e.apply(this,arguments)}return f}(),get:function(b,e,f,g){return d.has(e)?c.get(b,e,f,g):a.get(b,e,f,g)},isClosed:function(){return(a.isClosed==null?void 0:a.isClosed())||!1},isPersistenceSupported:a.isPersistenceSupported,logError:function(b,e,f,g){d.has(b)?c.logError==null?void 0:c.logError(b,e,f,g):a.logError==null?void 0:a.logError(b,e,f,g)},permitsSynchronousIO:function(b){if(d.has(b)){var e;return(e=c.permitsSynchronousIO==null?void 0:c.permitsSynchronousIO(b))!=null?e:!1}else{return(e=a.permitsSynchronousIO==null?void 0:a.permitsSynchronousIO(b))!=null?e:!1}},runExclusively:function(d,e){return a.runExclusively(function(){return new(g||(g=b("Promise")))(function(a,f){var h=c.runExclusively(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var c=(yield d()),e=c[0],f=c[1],i=new(g||(g=b("Promise")))(function(b){a([function(){b();return h},f])});return[b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield i;return e()}),f]}),e);h["catch"](f)})},e)},shouldApplySync:function(b,e){if(d.has(e))return c.shouldApplySync(b,e);else return a.shouldApplySync(b,e)},shouldInline:function(b,e){return d.has(b)?c.shouldInline(b,e):a.shouldInline(b,e)},shouldSync:function(b,e){if(d.has(e))return c.shouldSync(b,e);else return a.shouldSync(b,e)},tabTablesNotifier:(e=a.tabTablesNotifier)!=null?e:c.tabTablesNotifier,types:[].concat(a.types,c.types),uniqueId:c.uniqueId+a.uniqueId}}f["default"]=a}),66);
__d("LSJSEBInMemoryStorage",["EBSMProperties","createLSReStoreEphemeralPersistence","createReStoreEBSMTablesPersistence","createReStoreTableNameAllowListPersistence"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b=!1);b=c("createReStoreTableNameAllowListPersistence")(d("createLSReStoreEphemeralPersistence").createLSReStoreEphemeralPersistence(),c("createReStoreEBSMTablesPersistence")(b,a),c("EBSMProperties").persistedTables);return b}g.makeReStorePersistence=a}),98);
__d("MWSetupEBStateDB",["EARInitType","FBLogger","LSJSEBInMemoryStorage","MAWEncryptedBackupsPersistedDB","MWEncryptedBackupsFirstRestoreUpsellTime","MWSetupDBEncryption","QPLUserFlow","WebSession","asyncToGeneratorRuntime","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a===void 0&&(a=!1);var b=d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();c("QPLUserFlow").start(c("qpl")._(521477507,"1406"),{annotations:{string:{ebSessionIdentifier:b,sessionTabId:d("WebSession").getId()}}});var e;b=(yield d("MWSetupDBEncryption").init(c("EARInitType").EB_INIT));if(b.success){var f=d("MAWEncryptedBackupsPersistedDB").makeEBIDB(a)["catch"](function(a){c("QPLUserFlow").endFailure(c("qpl")._(521477507,"1406"),"Initialisation failed. Idb is null");c("FBLogger")("labyrinth_web").catching(a).warn("[labyrinth_web] EB State IDB initialization failed. Falling back to In memory ReStore db");return null});e=d("LSJSEBInMemoryStorage").makeReStorePersistence(f,a);c("QPLUserFlow").endSuccess(c("qpl")._(521477507,"1406"))}else{c("QPLUserFlow").endFailure(c("qpl")._(521477507,"1406"),b.error.toString(),{annotations:{string:{errorDescription:((f=b.payload)==null?void 0:f.message)||""}}});c("FBLogger")("labyrinth_web").warn("[labyrinth_web] Encryption DB init failed. Falling back to In memory ReStore db")}return e});return h.apply(this,arguments)}g.makeEBStateDB=a}),98);
__d("EBLS",["LSDataTraceFlushDeferred","LSDatascriptEvaluatorMaybeDeferred","LSDedicatedMqttChannel","LSDefaultSyncGroups","LSDeleteAllAndInsertConnectivityStatusStoredProcedure","LSFactory","LSIntEnum","LSInternetConnectionState","LSMetadata","LSPlatformDeviceId","LSPlatformMessengerSyncParams","LSPlatformMqttRealtimeTransport","LSPlatformRealtimeTransport","LSPlatformTaskSystemTransport","LSReStoreWrapper","LSVersion","MAWBridge","MAWLSVaultingHooks","MAWVaultMaterialsStorage","MWEncryptedBackupsListenForChangesToBackupStateInitPath","MWPlatformTaskSystem","MWSetupEBStateDB","MqttEnv","Promise","ServerAppID","WATagsLogger","WAWaitForUserUnblocked","asyncToGeneratorRuntime","cr:2970","cr:6197","emptyFunction","err","getMWLSRegion","nullthrows","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Platform client sync cleaning up"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Platform client sync starting sucess"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Subscribing to mqtt sync status change events"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Watching for expired traces"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["Starting backup state listeners"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["Starting task system"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["Starting realtime transport"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["Clearing epoch before resume sync..."]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["Getting datascript evaluator success"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["Platform client sync starting..."]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["finished init successfully"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["created config"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["Initialised db"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["Platform client sync connection status set failed: ",""]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["Platform client sync connection status set successfully"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["Platform client sync connection status: ",""]);y=function(){return a};return a}var z=d("WATagsLogger").TAGS(["EBLS"]);function a(){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWaitForUserUnblocked").waitForUserUnblocked();return D()});return A.apply(this,arguments)}var B,C;function D(){if(B)return B;B=E();return B}function E(){return F.apply(this,arguments)}function F(){F=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield G());z.DEV(v());var e={appId:c("nullthrows")(c("ServerAppID").app_id),executeGraphQLLightSpeedRequest:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];var e=(yield d("MAWBridge").getBridge().sendAndReceive("event","executeGraphQLLightSpeedRequest",{args:b}));return e});function c(){return a.apply(this,arguments)}return c}(),getDb:G,getEval:function(){return c("LSDatascriptEvaluatorMaybeDeferred")()},platformName:"Messenger",realtimeUnderylingTransport:function(){return(i||(i=b("Promise"))).resolve(function(b,a){return c("LSPlatformMqttRealtimeTransport")(c("LSVersion"),a,{getInstance:d("LSDedicatedMqttChannel").getInstance(function(){return!0},(b={},b[d("MqttEnv").MqttGkNames.mqttweb_global_connection_counter]=!1,b),function(a,b){return b},c("emptyFunction")),shutdownAndClear:d("LSDedicatedMqttChannel").shutdownAndClear})})},region:c("getMWLSRegion")(),schemaVersion:c("LSVersion"),sendHardcodedInitSync:!1,syncParams:c("LSPlatformMessengerSyncParams")};z.DEV(u());var f=d("LSPlatformDeviceId").getDeviceIdForProviderType("ephemeral");a=(yield K(a,e,f));z.DEV(t());return a});return F.apply(this,arguments)}function G(){return H.apply(this,arguments)}function H(){H=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(C)return C;b("cr:2970")!=null?yield b("cr:2970").setupVaultMaterials():yield d("MAWVaultMaterialsStorage").setupVaultMaterials();C=new(i||(i=b("Promise")))(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=(yield d("MWSetupEBStateDB").makeEBStateDB(!0));if(e==null)throw c("err")("persistence is null");e=d("LSReStoreWrapper").createLSReStore(e,d("LSMetadata").schema,[c("MAWLSVaultingHooks")],void 0);yield e.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("LSDefaultSyncGroups").seedDb(a,void 0)});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui",void 0,f.id+":151");a(e)});return function(b){return a.apply(this,arguments)}}());return C});return H.apply(this,arguments)}function I(a){var b=c("MWEncryptedBackupsListenForChangesToBackupStateInitPath").listenForChangesToBackupState(a);return function(){b&&b()}}function J(a,b){var e=b==="Connected"?(h||(h=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").CONNECTED):(h||(h=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").NOT_CONNECTED);z.DEV(y(),b);c("promiseDone")(a.runInTransaction(function(a){return c("LSDeleteAllAndInsertConnectivityStatusStoredProcedure")(c("LSFactory")(a),{internetConnectionState:e})},"readwrite",void 0,void 0,f.id+":183"),function(){z.DEV(x())},function(a){z.ERROR(w(),a==null?void 0:a.message);throw a})}function K(a,b,c){return L.apply(this,arguments)}function L(){L=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){z.DEV(s());var g=(yield e.getEval());z.DEV(r());var h=g()(a);z.DEV(q());z.DEV(p());g=(yield e.realtimeUnderylingTransport());var i=d("LSPlatformRealtimeTransport").LSPlatformRealtimeTransport(g,e.appId,f);z.DEV(o());var t=new(c("MWPlatformTaskSystem"))(a,new(c("LSPlatformTaskSystemTransport"))(a,i,h,e.schemaVersion));z.DEV(n());var u=null;b("cr:6197")!=null&&c("promiseDone")(b("cr:6197")(),function(b){u=b(a,i,h,e.schemaVersion,f,e.executeGraphQLLightSpeedRequest)});var v=I(a);z.DEV(m());var w;c("promiseDone")(d("LSDataTraceFlushDeferred").watchForExpiredTraces(a).then(function(a){w=a}));z.DEV(l());i.onConnectionStatusChange(function(b){J(a,b)});z.DEV(k());return{cleanup:function(){var a;z.DEV(j());t==null?void 0:t.cleanup();i.cleanup();(a=u)==null?void 0:a.cleanup();v();w==null?void 0:w()}}});return L.apply(this,arguments)}g.init=a;g.genLSClient=D;g.getLSStorage=G;g.platformClientInit=K}),98);
__d("EncryptedBackupTaskSkippedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5727");b=d("FalcoLoggerInternal").create("encrypted_backup_task_skipped",a);e=b;g["default"]=e}),98);
__d("WebWorkerInitDeferred",["cr:7429"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a.blLoggingCavalryFields&&b("cr:7429").initLogging(a.blLoggingCavalryFields)}g.initDeferred=a}),98);/*FB_PKG_DELIM*/
__d("XPlatReactTextEncoder",[],(function(a,b,c,d,e,f){"use strict";a=self.TextEncoder;f.TextEncoder=a}),66);
__d("base64Binary",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b="";for(var c=0;c<a.byteLength;c+=3){var d=a.subarray(c,c+3);b+=k(d)}d=(a.byteLength+2)%3;return b.slice(0,b.length+d-2)+"==".slice(d)}function b(a){var b;a.length%4===0||h(0,51156);var c=a.length/4;b=(b=(b=a.match(/={0,2}$/))==null?void 0:b[0].length)!=null?b:0;b=new Uint8Array(c*3-b);for(var d=0;d<c;d++){var e=l(a.slice(d*4,d*4+4));b.set(e.subarray(0,b.byteLength-d*3),d*3)}return b}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j=">___?456789:;<=___\0___\0\x01\x02\x03\x04\x05\x06\x07\b\t\n\v\f\r\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19______\x1a\x1b\x1c\x1d\x1e\x1f !\"#$%&'()*+,-./0123";function k(a){var b;a=a[0]<<16|((b=a[1])!=null?b:0)<<8|((b=a[2])!=null?b:0);return String.fromCharCode(i.charCodeAt(a>>>18),i.charCodeAt(a>>>12&63),i.charCodeAt(a>>>6&63),i.charCodeAt(a&63))}function l(a){a=j.charCodeAt(a.charCodeAt(0)-43)<<18|j.charCodeAt(a.charCodeAt(1)-43)<<12|j.charCodeAt(a.charCodeAt(2)-43)<<6|j.charCodeAt(a.charCodeAt(3)-43);return new Uint8Array([a>>>16,a>>>8&255,a&255])}g.encode=a;g.decode=b}),98);
__d("Base64Utils",["XPlatReactTextEncoder","base64Binary"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("base64Binary").encode(new(d("XPlatReactTextEncoder").TextEncoder)().encode(a))}function b(a){return d("base64Binary").encode(new Uint8Array(a))}function c(a){return d("base64Binary").decode(a).buffer}g.encodeUnicode=a;g.fromArrayBuffer=b;g.toArrayBuffer=c}),98);
__d("CryptoLogger",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("FBLogger")("labyrinth_web","crypto."+a)}function b(a,b){return b instanceof Error?a.catching(b):a}g.CryptoLogger=a;g.captureError=b}),98);
__d("IGDDataclassTypes.flow",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Share:"SHARE",Reply:"REPLY",React:"REACT",Mention:"MENTION"});c=b("$InternalEnum")({Note:"NOTE",Story:"STORY",Profile:"PROFILE",Clip:"CLIP",Feed:"FEED",Live:"LIVE",Comment:"COMMENT",LocationShare:"LOCATION_SHARE",ReelsAudio:"REELS_AUDIO",MediaNote:"MEDIA_NOTE",StoryHighlight:"STORY_HIGHLIGHT",SocialContext:"SOCIAL_CONTEXT"});d=b("$InternalEnum")({Mention:"MENTION",Reply:"REPLY"});f.XmsgIgXmaActionType=a;f.XmsgIgReceiverFetchContentType=c;f.XmsgIgReceiverFetchXmaMediaNoteFetchParamsMessageType=d}),66);
__d("LSResult",[],(function(a,b,c,d,e,f){"use strict";function a(a){return[a]}f["default"]=a}),66);
__d("LSBase64Decode.nop",["Base64Utils","CryptoLogger","LSResult","LSSynchronousPromise"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.replace(/-/g,"+").replace(/_/g,"/").replace(/\./g,"=").replace("/,/","=");var b=4-a.length%4;if(b<4)for(var c=0;c<b;c++)a+="=";return a}function i(a){var b=d("CryptoLogger").CryptoLogger("base64decode");try{return a!=null?d("Base64Utils").toArrayBuffer(h(a)):void 0}catch(c){if((c==null?void 0:c.message)==null)return;if(c instanceof Error)b.catching(c).mustfix(c.message);else{b.mustfix("Base64decode : empty error message for exception: %s, input string: %s",c.message,(b=a)!=null?b:"undefined")}}}a=function(a,b,e){return d("LSSynchronousPromise").maybeMakeSynchronousPromise(c("LSResult")(i(e)))};g["default"]=a}),98);
__d("LSClearMessagePlaceholderRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(13).fetch([[[a[0],b.i64.cast([0,0])]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&c.minMessageId===a[1]&&b.i64.eq(b.i64.cast([0,0]),c.minTimestampMs)&&b.i64.eq(a[2],c.maxTimestampMs)}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxClearMessagePlaceholderRangeStoredProcedure";a.__tables__=["messages_ranges_v2__generated"];e.exports=a}),null);
__d("LSDeleteAllCommunityChannelCategories",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.sequence([function(a){return b.forEach(b.db.table(182).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(9).fetch([[[b.i64.cast([0,20])]],"threadTypeLastActivityTimestampMs"]),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteAllCommunityChannelCategoriesStoredProcedure";a.__tables__=["cm_category_list","threads"];e.exports=a}),null);
__d("LSDeleteAllCommunityFolders",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.sequence([function(a){return b.forEach(b.db.table(162).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(9).fetch([[[b.i64.cast([0,17])]],"threadTypeLastActivityTimestampMs"]),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteAllCommunityFoldersStoredProcedure";a.__tables__=["community_folders","threads"];e.exports=a}),null);
__d("LSDeleteThenInsertCmCommunityList",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(166).put({communityId:a[0]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsDeleteThenInsertCmCommunityListStoredProcedure";a.__tables__=["cm_community_list"];e.exports=a}),null);
__d("LSDeleteThenInsertCommunityFolder",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.filter(b.db.table(162).fetch([[[a[0]]]]),function(c){return b.i64.eq(c.folderId,a[0])&&b.i64.gt(b.i64.cast([0,80]),a[52])}).next().then(function(c){var d=c.done;c.value;return d?b.db.table(162).put({folderId:a[0],fbGroupId:a[1],name:a[2],memberCount:a[4],description:a[3],pictureUrl:a[5],pictureUrlFallback:a[6],pictureUrlExpirationTimestampMs:a[7],joiningChannelTaskId:a[8],afterJoiningOpenChannelId:a[10],capabilities:a[11],capabilities2:a[12],capabilities3:a[13],notificationSetting:a[14],notificationMutedUntil:a[15],sendsBlockedUntil:a[17],isHidden:a[18],hasSeenDisablingAlert:a[19],inviteLink:a[21],communityType:a[22],directInviteLink:a[23],enableState:a[24],takedownState:a[25],fbGroupType:a[28],threadCount:a[29],disableTimestamp:a[32],readTimestampMs:a[33],inviteStatus:a[37],blockedFromCommunityMemberCount:a[40],categoryCount:a[41],snippetText:a[42],coverPicUrl:a[43],coverPicUrlFallback:a[44],coverPicUrlExpirationTimestampMs:a[45],invitedThreadId:a[47],fbGroupUserParticipationApprovalStatus:a[48],ccAdminAssistRegistrationStatus:a[49],pauseStatus:a[50],isMember:a[51]}):0})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteThenInsertCommunityFolderStoredProcedure";a.__tables__=["community_folders"];e.exports=a}),null);
__d("LSSetThreadImageURL",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({threadPictureUrl:a[1]===""?void 0:a[1],threadPictureUrlFallback:a[2],threadPictureUrlExpirationTimestampMs:a[3],isCustomThreadPicture:a[4],shouldRoundThreadPicture:a[5]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxSetThreadImageURLStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSDeleteThenInsertContact",["LSSetThreadImageURL"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.i64.eq(a[23],c.i64.cast([0,39423]))?d[0]=c.i64.cast([0,1]):(c.i64.eq(a[23],c.i64.cast([0,14342874]))?d[1]=c.i64.cast([0,2]):d[1]=void 0,d[0]=d[1]),c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))&&c.i64.gt(b.authorityLevel,a[21])}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(7).put({id:a[0],profilePictureUrl:a[2],profilePictureFallbackUrl:a[3],profilePictureUrlExpirationTimestampMs:a[4],profilePictureLargeUrl:a[5],profilePictureLargeFallbackUrl:a[6],profilePictureLargeUrlExpirationTimestampMs:a[7],name:a[9],secondaryName:a[41],normalizedNameForSearch:a[10],normalizedSearchTerms:a[33],isMessengerUser:a[11],isMemorialized:a[12],isManagedByViewer:a[35],blockedByViewerStatus:a[14],rank:a[17],firstName:a[18],contactType:a[19],contactTypeExact:a[20],authorityLevel:a[21],messengerCallLogThirdPartyId:a[22],profileRingColor:a[23],requiresMultiway:a[24],blockedSinceTimestampMs:a[25],fbUnblockedSinceTimestampMs:a[47],canViewerMessage:a[26],profileRingColorExpirationTimestampMs:a[27],phoneNumber:a[28],emailAddress:a[29],workCompanyId:a[30],workCompanyName:a[31],workJobTitle:a[32],deviceContactId:a[34],workForeignEntityType:a[36],capabilities:a[37],capabilities2:a[38],profileRingState:d[0],contactViewerRelationship:a[39],gender:a[40],username:a[43],contactReachabilityStatusType:a[44],restrictionType:a[45],waConnectStatus:a[46],isEmployee:!1,pageType:a[48]}):0})},function(d){return c.storedProcedure(b("LSSetThreadImageURL"),a[0],a[2],a[3],a[4],!1,!0)}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSContactDeleteThenInsertContactStoredProcedure";a.__tables__=["contacts"];e.exports=a}),null);
__d("LSDeleteThenInsertMessageRequest",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(34).put({threadKey:a[0],messageRequestStatus:a[2]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteThenInsertMessageRequestStoredProcedure";a.__tables__=["message_requests"];e.exports=a}),null);
__d("LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(175).put({id:a[0],globalMuteUntil:a[1],showMessagePreview:a[4],isSoundOn:a[7],groupNotificationSetting:a[8],oneToOneNotificationSetting:a[9],replyReminderSetting:a[10],messageReminderDisabled:a[12],messageSound:a[13],ringtoneSound:a[14],newFriendBumpDisabledSetting:a[15],globalMuteMessageUntil:a[2],globalMuteCallUntil:a[3],includeInSwitchAccountBadges:a[11],dismissNfbThreadsCount:a[16],mutePageAccountMessageReminder:a[17]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsDeleteThenInsertNotificationsSettingsGraphQLSnapshotStoredProcedure";a.__tables__=["notification_settings"];e.exports=a}),null);
__d("LSDeleteThenInsertThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(9).fetch([[[a[7]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[29],parentThreadKey:a[35],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetText:a[20],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],snippetHasEmoji:a[42],hasPersistentMenu:a[43],disableComposerInput:a[44],cannotUnsendReason:a[45],viewedPluginKey:a[46],viewedPluginContext:a[47],clientThreadKey:a[48],capabilities:a[49],shouldRoundThreadPicture:a[50],proactiveWarningDismissTime:a[51],isCustomThreadPicture:a[52],otidOfFirstMessage:a[53],normalizedSearchTerms:a[54],additionalThreadContext:a[55],disappearingThreadKey:a[56],isDisappearingMode:a[57],disappearingModeInitiator:a[58],unreadDisappearingMessageCount:a[59],lastMessageCtaId:a[61],lastMessageCtaType:a[62],consistentThreadFbid:a[63],threadDescription:a[64],unsendLimitMs:a[65],syncGroup:a[66],threadInvitesEnabled:a[67],threadInviteLink:a[68],numUnreadSubthreads:a[69],subthreadCount:a[70],threadInvitesEnabledV2:a[71],joinRequestApprovalSetting:a[72],pendingJoinRequestsCount:a[73],eventStartTimestampMs:a[74],eventEndTimestampMs:a[75],takedownState:a[76],memberCount:a[77],admodCount:a[78],secondaryParentThreadKey:a[79],igFolder:a[80],inviterId:a[81],threadTags:a[82],threadStatus:a[83],threadSubtype:a[84],pauseThreadTimestamp:a[85],metadata:a[86],syncSource:a[87]}):(e=d.item,c[1]=e.lastActivityTimestampMs,c[3]=e.parentThreadKey,c[2]=e.disappearingThreadKey,c[4]=e.isDisappearingMode,b.i64.le(e.authorityLevel,a[6])?b.i64.gt(c[1],a[0])&&b.i64.neq(c[2],void 0)?(b.i64.eq(a[35],b.i64.cast([-1,4294967286]))&&b.i64.eq(c[3],b.i64.cast([0,0]))?(f=[c[3],e.folderName],c[5]=f[0],c[6]=f[1],f):(d=[a[35],a[10]],c[5]=d[0],c[6]=d[1],d),b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:e.lastReadWatermarkTimestampMs,authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:c[6],ongoingCallState:a[29],parentThreadKey:c[5],lastActivityTimestampMs:c[1],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetText:a[20],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],snippetHasEmoji:a[42],hasPersistentMenu:a[43],disableComposerInput:a[44],cannotUnsendReason:a[45],viewedPluginKey:a[46],viewedPluginContext:a[47],clientThreadKey:a[48],capabilities:a[49],shouldRoundThreadPicture:a[50],proactiveWarningDismissTime:a[51],isCustomThreadPicture:a[52],otidOfFirstMessage:a[53],normalizedSearchTerms:a[54],additionalThreadContext:a[55],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[58],unreadDisappearingMessageCount:a[59],lastMessageCtaId:a[61],lastMessageCtaType:a[62],consistentThreadFbid:a[63],threadDescription:a[64],unsendLimitMs:a[65],syncGroup:a[66],threadInvitesEnabled:a[67],threadInviteLink:a[68],numUnreadSubthreads:a[69],subthreadCount:a[70],threadInvitesEnabledV2:a[71],joinRequestApprovalSetting:a[72],pendingJoinRequestsCount:a[73],eventStartTimestampMs:a[74],eventEndTimestampMs:a[75],takedownState:a[76],memberCount:a[77],admodCount:a[78],secondaryParentThreadKey:a[79],igFolder:a[80],inviterId:a[81],threadTags:a[82],threadStatus:a[83],threadSubtype:a[84],pauseThreadTimestamp:a[85],metadata:a[86],syncSource:a[87]})):b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[29],parentThreadKey:a[35],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetText:a[20],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],snippetHasEmoji:a[42],hasPersistentMenu:a[43],disableComposerInput:a[44],cannotUnsendReason:a[45],viewedPluginKey:a[46],viewedPluginContext:a[47],clientThreadKey:a[48],capabilities:a[49],shouldRoundThreadPicture:a[50],proactiveWarningDismissTime:a[51],isCustomThreadPicture:a[52],otidOfFirstMessage:a[53],normalizedSearchTerms:a[54],additionalThreadContext:a[55],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[58],unreadDisappearingMessageCount:a[59],lastMessageCtaId:a[61],lastMessageCtaType:a[62],consistentThreadFbid:a[63],threadDescription:a[64],unsendLimitMs:a[65],syncGroup:a[66],threadInvitesEnabled:a[67],threadInviteLink:a[68],numUnreadSubthreads:a[69],subthreadCount:a[70],threadInvitesEnabledV2:a[71],joinRequestApprovalSetting:a[72],pendingJoinRequestsCount:a[73],eventStartTimestampMs:a[74],eventEndTimestampMs:a[75],takedownState:a[76],memberCount:a[77],admodCount:a[78],secondaryParentThreadKey:a[79],igFolder:a[80],inviterId:a[81],threadTags:a[82],threadStatus:a[83],threadSubtype:a[84],pauseThreadTimestamp:a[85],metadata:a[86],syncSource:a[87]}):b.resolve())})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxDeleteThenInsertThreadStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSGetCursor",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(1).fetch([[[a[0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[0]=void 0:(b=a.item,c[0]=b.currentCursor)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreGetCursorStoredProcedure";a.__tables__=["sync_groups"];e.exports=a}),null);
__d("LSGetIfViewerIsWorkplaceUser",["gkx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,b=a[a.length-1],d=[];return d[0]=c("gkx")("26374"),b.resolve(d)}a.__sproc_name__="LSCoreGetIfViewerIsWorkplaceUserStoredProcedure";a.__tables__=[];b=a;g["default"]=b}),98);
__d("LSGetThreadParticipantDisplayName",["LSGetIfViewerIsWorkplaceUser"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return c.storedProcedure(b("LSGetIfViewerIsWorkplaceUser")).then(function(a){return a=a,d[0]=a[0],a})},function(b){return d[0]?c.sequence([function(b){return c.filter(c.db.table(7).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.id,a[1])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(a,b){var e=a.done;a=a.value;return e?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2352696798]),void 0).then(function(a){return d[4]=a})},function(a){return d[2]=d[4]}]):(b=a.item,d[2]=b.name)})},function(a){return d[1]=d[2]}]):c.sequence([function(b){return c.filter(c.db.table(14).fetch([[[a[0],a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[1])}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=void 0:(b=a.item,d[2]=b.nickname)})},function(b){return c.filter(c.db.table(7).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.id,a[1])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(a,b){var e=a.done;a=a.value;return e?c.sequence([function(a){return d[6]=c.i64.cast([-1,4294967295]),c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[7]=a})},function(a){return d[4]=d[7]}]):(b=a.item,d[4]=b.firstName==null?b.name:b.firstName)})},function(a){return d[1]=d[2]==null?d[4]:d[2]}])},function(a){return e[0]=d[1]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxGetThreadParticipantDisplayNameStoredProcedure";a.__tables__=["contacts","participants"];e.exports=a}),null);
__d("LSGetViewerFBID",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(a){return b.sequence([function(a){return b.db.table(4).fetch([[[b.i64.cast([0,1])]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=b.i64.cast([-1,4294967295]):(d=a.item,c[0]=d.facebookUserId)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreGetViewerFBIDStoredProcedure";a.__tables__=["_user_info"];e.exports=a}),null);
__d("LSGroupRoomTruncate",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.filter(b.db.table(63).fetch(),function(a){return b.i64.neq(a.groupRoomType,void 0)&&b.i64.neq(a.groupRoomType,b.i64.cast([0,5]))}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSStoriesGroupRoomTruncateStoredProcedure";a.__tables__=["rooms"];e.exports=a}),null);
__d("LSInsertNewMessageRange",["LSClearMessagePlaceholderRange"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(d){return c.storedProcedure(b("LSClearMessagePlaceholderRange"),a[0],a[9],c.i64.cast([0,0]))},function(b){return c.filter(c.db.table(13).fetch([[[a[0],{lte:a[5]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,a[5])&&c.i64.ge(b.maxTimestampMs,a[5])}).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[a[1],a[3],a[7]],d[0]=e[0],d[1]=e[1],d[2]=e[2],e):(c=b.item,e=[c.minTimestampMs,c.minMessageId,c.hasMoreBefore],d[0]=e[0],d[1]=e[1],d[2]=e[2],e)})},function(b){return c.filter(c.db.table(13).fetch([[[a[0],{lte:a[6]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,a[6])&&c.i64.ge(b.maxTimestampMs,a[6])}).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[a[2],a[4],a[8]],d[4]=e[0],d[5]=e[1],d[6]=e[2],e):(c=b.item,e=[c.maxTimestampMs,c.maxMessageId,c.hasMoreAfter],d[4]=e[0],d[5]=e[1],d[6]=e[2],e)})},function(b){return c.forEach(c.filter(c.db.table(13).fetch([[[a[0],{lte:a[6]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.ge(a[6],b.minTimestampMs)&&c.i64.le(a[5],b.maxTimestampMs)}),function(a){return a["delete"]()})},function(b){return c.db.table(13).put({threadKey:a[0],minTimestampMs:d[0],minMessageId:d[1],maxTimestampMs:d[4],maxMessageId:d[5],isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:d[2],hasMoreAfter:d[6]})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxInsertNewMessageRangeStoredProcedure";a.__tables__=["messages_ranges_v2__generated"];e.exports=a}),null);
__d("LSIssueNewTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(d){return c[0]=b.i64.cast([0,0]),c[1]=b.i64.of_float(Date.now()),b.db.table(2).add({taskId:void 0,queueName:a[0],context:b.i64.to_string(a[1]),taskValue:a[2],enqueueTimestampMs:c[1],httpUrlOverride:a[3],timeoutTimestampMs:a[4],pluginType:a[5],priority:a[6],syncGroupId:a[7],transportKey:a[8],minTimeToSyncTimestampMs:a[9],taskDispatchPriority:c[0]})},function(d){return b.filter(b.db.table(2).fetchDesc([[[a[0]]],"queueNameTaskId"]),function(c){return c.queueName===a[0]&&c.context===b.i64.to_string(a[1])&&c.taskValue===a[2]}).next().then(function(a,d){var e=a.done;a=a.value;return e?c[2]=b.i64.cast([-1,4294967295]):(d=a.item,c[2]=d.taskId)})},function(a){return function(a){b.logger(a).info(a)}(["LightSpeed NewTask"," ",b.i64.to_string(c[2])].join(""))}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreIssueNewTaskStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSIssueNewTaskAndGetTaskID",["LSIssueNewTask","LSLogEventAnnotate.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(d){return c.storedProcedure(b("LSIssueNewTask"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10])},function(b){return d[3]=c.i64.to_string(a[1]),c.filter(c.db.table(2).fetchDesc([[[a[0]]],"queueNameTaskId"]),function(b){return b.queueName===a[0]&&b.context===d[3]&&b.taskValue===a[2]}).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([-1,4294967295]):(b=a.item,d[0]=b.taskId)})},function(e){return d[2]=new c.Map(),d[2].set("task_id",d[0]),d[2].set("task_queue_name",a[0]),d[2].set("task_label",d[3]),c.nativeOperation(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,23]),c.i64.cast([0,0]),d[2])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSCoreIssueNewTaskAndGetTaskIDStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSUpdateOrInsertThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(9).fetch([[[a[7]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?b.db.table(9).add({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[32],parentThreadKey:a[38],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteMentionExpireTimeMs:a[15],muteCallsExpireTimeMs:a[16],groupNotificationSettings:a[19],isAdminSnippet:a[20],snippetSenderContactId:a[21],snippetText:a[23],snippetStringHash:a[24],snippetStringArgument1:a[25],snippetAttribution:a[26],snippetAttributionStringHash:a[27],disappearingSettingTtl:a[28],disappearingSettingUpdatedTs:a[29],disappearingSettingUpdatedBy:a[30],cannotReplyReason:a[33],customEmoji:a[34],customEmojiImageUrl:a[35],outgoingBubbleColor:a[36],themeFbid:a[37],nullstateDescriptionText1:a[39],nullstateDescriptionType1:a[40],nullstateDescriptionText2:a[41],nullstateDescriptionType2:a[42],nullstateDescriptionText3:a[43],nullstateDescriptionType3:a[44],snippetHasEmoji:a[45],hasPersistentMenu:a[46],disableComposerInput:a[47],cannotUnsendReason:a[48],viewedPluginKey:a[49],viewedPluginContext:a[50],clientThreadKey:a[51],capabilities:a[52],shouldRoundThreadPicture:a[53],proactiveWarningDismissTime:a[54],isCustomThreadPicture:a[55],otidOfFirstMessage:a[56],normalizedSearchTerms:a[57],additionalThreadContext:a[58],disappearingThreadKey:a[59],isDisappearingMode:a[60],disappearingModeInitiator:a[61],unreadDisappearingMessageCount:a[62],lastMessageCtaId:a[64],lastMessageCtaType:a[65],lastMessageCtaTimestampMs:a[66],consistentThreadFbid:a[67],threadDescription:a[69],unsendLimitMs:a[70],capabilities2:a[78],capabilities3:a[79],syncGroup:a[82],threadInvitesEnabled:a[83],threadInviteLink:a[84],isAllUnreadMessageMissedCallXma:a[85],numUnreadSubthreads:a[86],subthreadCount:a[87],lastNonMissedCallXmaMessageTimestampMs:a[88],isHidden:a[89],threadInvitesEnabledV2:a[90],joinRequestApprovalSetting:a[93],hasPendingInvitation:a[94],eventStartTimestampMs:a[95],eventEndTimestampMs:a[96],takedownState:a[97],secondaryParentThreadKey:a[98],igFolder:a[99],inviterId:a[100],threadTags:a[101],isReadReceiptsDisabled:a[102],readReceiptsDisabledV2:a[103],threadStatus:a[104],threadSubtype:a[105],pauseThreadTimestamp:a[106],capabilities4:a[107],syncSource:a[108],capabilities5:a[109]}):(e=d.item,c[1]=e.lastActivityTimestampMs,c[3]=e.parentThreadKey,c[2]=e.disappearingThreadKey,c[4]=e.isDisappearingMode,b.i64.le(e.authorityLevel,a[6])?b.i64.gt(c[1],a[0])&&b.i64.neq(c[2],void 0)?(b.i64.eq(a[38],b.i64.cast([-1,4294967286]))&&b.i64.eq(c[3],b.i64.cast([0,0]))?(f=[c[3],e.folderName],c[5]=f[0],c[6]=f[1],f):(d=[a[38],a[10]],c[5]=d[0],c[6]=d[1],d),b.forEach(b.db.table(9).fetch([[[a[7]]]]),function(b){var d=b.update;b.item;return d({lastReadWatermarkTimestampMs:e.lastReadWatermarkTimestampMs,authorityLevel:a[6],threadType:a[9],folderName:c[6],ongoingCallState:a[32],parentThreadKey:c[5],lastActivityTimestampMs:c[1],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteMentionExpireTimeMs:a[15],muteCallsExpireTimeMs:a[16],groupNotificationSettings:a[19],isAdminSnippet:a[20],snippetSenderContactId:a[21],snippetText:a[23],snippetStringHash:a[24],snippetStringArgument1:a[25],snippetAttribution:a[26],snippetAttributionStringHash:a[27],disappearingSettingTtl:a[28],disappearingSettingUpdatedTs:a[29],disappearingSettingUpdatedBy:a[30],cannotReplyReason:a[33],customEmoji:a[34],customEmojiImageUrl:a[35],outgoingBubbleColor:a[36],themeFbid:a[37],nullstateDescriptionText1:a[39],nullstateDescriptionType1:a[40],nullstateDescriptionText2:a[41],nullstateDescriptionType2:a[42],nullstateDescriptionText3:a[43],nullstateDescriptionType3:a[44],snippetHasEmoji:a[45],hasPersistentMenu:a[46],disableComposerInput:a[47],cannotUnsendReason:a[48],viewedPluginKey:a[49],viewedPluginContext:a[50],clientThreadKey:a[51],capabilities:a[52],shouldRoundThreadPicture:a[53],proactiveWarningDismissTime:a[54],isCustomThreadPicture:a[55],otidOfFirstMessage:a[56],normalizedSearchTerms:a[57],additionalThreadContext:a[58],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[61],unreadDisappearingMessageCount:a[62],lastMessageCtaId:a[64],lastMessageCtaType:a[65],lastMessageCtaTimestampMs:a[66],consistentThreadFbid:a[67],threadDescription:a[69],unsendLimitMs:a[70],capabilities2:a[78],capabilities3:a[79],syncGroup:a[82],threadInvitesEnabled:a[83],threadInviteLink:a[84],isAllUnreadMessageMissedCallXma:a[85],numUnreadSubthreads:a[86],subthreadCount:a[87],lastNonMissedCallXmaMessageTimestampMs:a[88],isHidden:a[89],threadInvitesEnabledV2:a[90],joinRequestApprovalSetting:a[93],hasPendingInvitation:a[94],eventStartTimestampMs:a[95],eventEndTimestampMs:a[96],takedownState:a[97],secondaryParentThreadKey:a[98],igFolder:a[99],inviterId:a[100],threadTags:a[101],isReadReceiptsDisabled:a[102],readReceiptsDisabledV2:a[103],threadStatus:a[104],threadSubtype:a[105],pauseThreadTimestamp:a[106],capabilities4:a[107],syncSource:a[108],capabilities5:a[109],avatarStickerInstructionKeyId:void 0,avatarStickerId:void 0,avatarStickerThumbnailImageUrl:void 0,avatarStickerThumbnailImageMimeType:void 0,avatarStickerOriginalImageUrl:void 0,avatarStickerOriginalImageMimeType:void 0,hasPendingJoinRequest:void 0,pendingJoinRequestsCount:void 0,memberCount:void 0,admodCount:void 0,ctmAdId:void 0,ctmAdgroupId:void 0,ctmAdCampaignId:void 0,ctmAdCampaignGroupId:void 0,ctmAdAccountId:void 0,metadata:void 0,typingIndicatorDisabled:void 0})})):b.forEach(b.db.table(9).fetch([[[a[7]]]]),function(b){var d=b.update;b.item;return d({lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],threadType:a[9],folderName:a[10],ongoingCallState:a[32],parentThreadKey:a[38],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteMentionExpireTimeMs:a[15],muteCallsExpireTimeMs:a[16],groupNotificationSettings:a[19],isAdminSnippet:a[20],snippetSenderContactId:a[21],snippetText:a[23],snippetStringHash:a[24],snippetStringArgument1:a[25],snippetAttribution:a[26],snippetAttributionStringHash:a[27],disappearingSettingTtl:a[28],disappearingSettingUpdatedTs:a[29],disappearingSettingUpdatedBy:a[30],cannotReplyReason:a[33],customEmoji:a[34],customEmojiImageUrl:a[35],outgoingBubbleColor:a[36],themeFbid:a[37],nullstateDescriptionText1:a[39],nullstateDescriptionType1:a[40],nullstateDescriptionText2:a[41],nullstateDescriptionType2:a[42],nullstateDescriptionText3:a[43],nullstateDescriptionType3:a[44],snippetHasEmoji:a[45],hasPersistentMenu:a[46],disableComposerInput:a[47],cannotUnsendReason:a[48],viewedPluginKey:a[49],viewedPluginContext:a[50],clientThreadKey:a[51],capabilities:a[52],shouldRoundThreadPicture:a[53],proactiveWarningDismissTime:a[54],isCustomThreadPicture:a[55],otidOfFirstMessage:a[56],normalizedSearchTerms:a[57],additionalThreadContext:a[58],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[61],unreadDisappearingMessageCount:a[62],lastMessageCtaId:a[64],lastMessageCtaType:a[65],lastMessageCtaTimestampMs:a[66],consistentThreadFbid:a[67],threadDescription:a[69],unsendLimitMs:a[70],capabilities2:a[78],capabilities3:a[79],syncGroup:a[82],threadInvitesEnabled:a[83],threadInviteLink:a[84],isAllUnreadMessageMissedCallXma:a[85],numUnreadSubthreads:a[86],subthreadCount:a[87],lastNonMissedCallXmaMessageTimestampMs:a[88],isHidden:a[89],threadInvitesEnabledV2:a[90],joinRequestApprovalSetting:a[93],hasPendingInvitation:a[94],eventStartTimestampMs:a[95],eventEndTimestampMs:a[96],takedownState:a[97],secondaryParentThreadKey:a[98],igFolder:a[99],inviterId:a[100],threadTags:a[101],isReadReceiptsDisabled:a[102],readReceiptsDisabledV2:a[103],threadStatus:a[104],threadSubtype:a[105],pauseThreadTimestamp:a[106],capabilities4:a[107],syncSource:a[108],capabilities5:a[109],avatarStickerInstructionKeyId:void 0,avatarStickerId:void 0,avatarStickerThumbnailImageUrl:void 0,avatarStickerThumbnailImageMimeType:void 0,avatarStickerOriginalImageUrl:void 0,avatarStickerOriginalImageMimeType:void 0,hasPendingJoinRequest:void 0,pendingJoinRequestsCount:void 0,memberCount:void 0,admodCount:void 0,ctmAdId:void 0,ctmAdgroupId:void 0,ctmAdCampaignId:void 0,ctmAdCampaignGroupId:void 0,ctmAdAccountId:void 0,metadata:void 0,typingIndicatorDisabled:void 0})}):b.resolve())})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxUpdateOrInsertThreadStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSPopulateCommunityFolderData",["LSDeleteThenInsertCommunityFolder","LSUpdateOrInsertThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.sequence([function(d){return c.storedProcedure(b("LSDeleteThenInsertCommunityFolder"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],void 0,void 0,void 0,a[11],a[12],a[13],a[14],a[15],void 0,a[16],a[17],a[18],void 0,a[19],a[20],a[21],a[22],a[23],void 0,void 0,a[24],a[26],void 0,void 0,a[25],a[37],void 0,void 0,c.i64.cast([0,0]),a[29],void 0,c.i64.cast([0,1]),a[28],a[27],a[30],a[31],a[32],a[33],void 0,a[34],a[35],a[36],a[38],a[39],c.i64.cast([0,80]))},function(d){return c.storedProcedure(b("LSUpdateOrInsertThread"),a[8],a[9],a[10],a[2],a[5],void 0,c.i64.cast([0,80]),a[0],c.i64.cast([0,0]),c.i64.cast([0,17]),"community",a[6],a[7],c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,c.i64.cast([-1,4294967282]),void 0,void 0,void 0,void 0,void 0,void 0,!1,!1,!1,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),void 0,void 0,!1,void 0,void 0,void 0,void 0,!1,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,void 0,c.i64.cast([0,0]),void 0,!1,void 0,void 0,void 0,!1,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,a[40],void 0,void 0,void 0,!1,c.i64.cast([0,0]),void 0,void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(d)}])}a.__sproc_name__="LSMailboxPopulateCommunityFolderDataStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSRemoveTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?0:(e=d.item,b.forEach(b.db.table(2).fetch([[[e.queueName,{lte:a[0]}]],"queueNameTaskId"]),function(a){var d=a.item;return b.sequence([function(a){return c[0]=d.taskDispatchPriority,b.forEach(b.filter(b.db.table(2).fetch([[[d.taskId]]]),function(a){return b.i64.eq(a.taskId,d.taskId)&&a.queueName===d.queueName}),function(a){return a["delete"]()})},function(a){return b.i64.eq(c[0],b.i64.cast([0,1e3]))||b.i64.eq(c[0],b.i64.cast([0,2e3]))?c[1]=b.i64.cast([0,734739218]):c[1]=b.i64.cast([0,734737036])}])}))})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreRemoveTaskStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSRoomTruncate",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.filter(b.db.table(63).fetch(),function(a){return b.i64.eq(a.groupRoomType,void 0)||b.i64.eq(a.groupRoomType,b.i64.cast([0,5]))}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSStoriesRoomTruncateStoredProcedure";a.__tables__=["rooms"];e.exports=a}),null);
__d("LSTaskExists",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(a,b){b=a.done;a=a.value;return b?c[0]=!1:(a.item,c[0]=!0)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreTaskExistsStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSTruncateCommunityListTable",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.db.table(166).fetch(),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsTruncateCommunityListTableStoredProcedure";a.__tables__=["cm_community_list"];e.exports=a}),null);
__d("LSTruncateNotificationSettings",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.db.table(175).fetch(),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsTruncateNotificationSettingsStoredProcedure";a.__tables__=["notification_settings"];e.exports=a}),null);
__d("LSUpdateLastSyncCompletedTimestampMsToNow",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.forEach(b.db.table(1).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({lastSyncCompletedTimestampMs:c[0]})})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreUpdateLastSyncCompletedTimestampMsToNowStoredProcedure";a.__tables__=["sync_groups"];e.exports=a}),null);
__d("LSUpsertGradientColor",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(117).put({themeFbid:a[0],gradientIndex:a[1],color:a[2],type_:a[3]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSThreadThemeUpsertGradientColorStoredProcedure";a.__tables__=["gradient_colors"];e.exports=a}),null);
__d("LSUpsertSequenceId",["LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.db.table(25).put({id:d[0],lastAppliedMailboxSequenceId:a[0]})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxUpsertSequenceIdStoredProcedure";a.__tables__=["mailbox_metadata"];e.exports=a}),null);
__d("LSUpsertTheme",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.i64.neq(a[12],void 0)?c[0]=a[12]:c[0]=a[0],b.db.table(116).put({fbid:a[0],themeIdx:a[1],fallbackColor:a[2],reverseGradiantsForRadial:a[3],accessibilityLabel:a[4],iconUrl:a[5],iconUrlFallback:a[6],backgroundUrl:a[8],description:a[9],isDeprecated:a[11],normalThemeId:c[0],appColorMode:a[13],titlebarBackgroundColor:a[14],titlebarButtonTintColor:a[15],titlebarTextColor:a[16],titlebarAttributionTextColor:a[17],composerTintColor:a[18],composerUnselectedTintColor:a[19],composerInputTextPlaceholderColor:a[20],composerInputBackgroundColor:a[21],composerInputBorderColor:a[22],composerInputBorderWidth:a[23],composerBackgroundColor:a[24],messageTextColor:a[25],messageBorderColor:a[26],messageBorderWidth:a[27],incomingMessageTextColor:a[28],incomingMessageBorderColor:a[29],incomingMessageBorderWidth:a[30],deliveryReceiptColor:a[31],tertiaryTextColor:a[32],primaryButtonBackgroundColor:a[33],hotLikeColor:a[34],reactionPillBackgroundColor:a[35],secondaryTextColor:a[36],quotedIncomingMessageBubbleColor:a[37],cornerRadius:a[38],blurredComposerBackgroundColor:a[39],composerSecondaryButtonColor:a[40],composerPlaceholderTextColor:a[41]})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSThreadThemeUpsertThemeStoredProcedure";a.__tables__=["thread_themes"];e.exports=a}),null);
__d("LSVerifyContactRowExists",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(e){var f=e.done;e.value;return f?c.sequence([function(b){return d[0]=a[3]==null?"":a[3],c.forEach(c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))&&c.i64.lt(b.authorityLevel,a[14])}),function(a){return a["delete"]()})},function(b){return c.db.table(7).add({id:a[0],profilePictureUrl:a[2]==null?"":a[2],profilePictureFallbackUrl:a[5],name:d[0],secondaryName:a[20],normalizedNameForSearch:d[0],isMemorialized:a[9],blockedByViewerStatus:a[11],canViewerMessage:a[12],profilePictureLargeUrl:"",isMessengerUser:!0,rank:0,contactType:a[4],contactTypeExact:c.i64.cast([0,0]),requiresMultiway:!1,authorityLevel:a[14],workForeignEntityType:c.i64.cast([0,0]),capabilities:a[15],capabilities2:a[16],contactViewerRelationship:a[19],gender:a[18],firstName:a[21]})},function(e){return d[1]=new c.Map(),d[1].set("contact_id",a[0]),d[2]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewTask"),"cpq_v2",c.i64.cast([0,207]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):0})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSContactVerifyContactRowExistsStoredProcedure";a.__tables__=["contacts"];e.exports=a}),null);
__d("LSStaticDependencies",["LSDeleteAllCommunityChannelCategories","LSDeleteAllCommunityFolders","LSDeleteThenInsertCmCommunityList","LSDeleteThenInsertContact","LSDeleteThenInsertMessageRequest","LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot","LSDeleteThenInsertThread","LSExecuteFinallyBlockForSyncTransaction","LSExecuteFirstBlockForSyncTransaction","LSGroupRoomTruncate","LSPopulateCommunityFolderData","LSRemoveTask","LSRoomTruncate","LSSetRegionHint","LSTaskExists","LSTruncateCommunityListTable","LSTruncateNotificationSettings","LSUpdateLastSyncCompletedTimestampMsToNow","LSUpsertGradientColor","LSUpsertSequenceId","LSUpsertTheme","LSVerifyContactRowExists"],(function(a,b,c,d,e,f,g){"use strict";a={deleteAllCommunityChannelCategories:c("LSDeleteAllCommunityChannelCategories"),deleteAllCommunityFolders:c("LSDeleteAllCommunityFolders"),deleteThenInsertCmCommunityList:c("LSDeleteThenInsertCmCommunityList"),deleteThenInsertContact:c("LSDeleteThenInsertContact"),deleteThenInsertMessageRequest:c("LSDeleteThenInsertMessageRequest"),deleteThenInsertNotificationsSettingsGraphQLSnapshot:c("LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot"),deleteThenInsertThread:c("LSDeleteThenInsertThread"),executeFinallyBlockForSyncTransaction:c("LSExecuteFinallyBlockForSyncTransaction"),executeFirstBlockForSyncTransaction:c("LSExecuteFirstBlockForSyncTransaction"),groupRoomTruncate:c("LSGroupRoomTruncate"),populateCommunityFolderData:c("LSPopulateCommunityFolderData"),removeTask:c("LSRemoveTask"),roomTruncate:c("LSRoomTruncate"),setRegionHint:c("LSSetRegionHint"),taskExists:c("LSTaskExists"),truncateCommunityListTable:c("LSTruncateCommunityListTable"),truncateNotificationSettings:c("LSTruncateNotificationSettings"),updateLastSyncCompletedTimestampMsToNow:c("LSUpdateLastSyncCompletedTimestampMsToNow"),upsertGradientColor:c("LSUpsertGradientColor"),upsertSequenceId:c("LSUpsertSequenceId"),upsertTheme:c("LSUpsertTheme"),verifyContactRowExists:c("LSVerifyContactRowExists")};b=a;g["default"]=b}),98);
__d("LSStoreProjectConfiguration",["LSBase64Decode.nop","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return c.nativeOperation(b("LSBase64Decode.nop"),a[4]).then(function(a){return a=a,d[0]=a[0],a})},function(e){return c.blobs.neq(d[0],void 0)?c.db.table(307).put({configId:a[1],projectName:a[0],cipherSuite:a[5],publicKey:d[0],maxEvals:a[2],redemptionLimit:a[3],expirationTimestampMs:a[6],tokenPollFrequencyMs:a[7],maxClientTokenPoolSize:a[8]}):(function(a){c.logger(a).info(a)}("issuing retry for project configurations task since public key was null"),d[1]=new c.Map(),d[1].set("project_name",a[0]),d[2]=d[1].get("project_name"),d[3]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewTask"),["acs_credentials","_",d[2]].join(""),c.i64.cast([0,351]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0])))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSAnonymousCredentialsStoreProjectConfigurationStoredProcedure";a.__tables__=["secure_acs_configurations"];e.exports=a}),null);
__d("LSVerifyThreadExistsV2",["LSGetViewerFBID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return[c.i64.cast([0,7]),c.i64.cast([0,8]),c.i64.cast([0,13]),c.i64.cast([0,10]),c.i64.cast([0,11]),c.i64.cast([0,16])].some(function(b){return c.i64.eq(a[1],b)})?c.resolve((b=[!1,!1,!1],d[0]=b[0],d[1]=b[1],d[2]=b[2],b)):c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?(f=[!0,!0,!1],d[3]=f[0],d[4]=f[1],d[5]=f[2],f):(e=b.item,d[12]=e.threadName,d[11]=e.authorityLevel,d[10]=e.threadType,e.folderName==="other"?(f=[!0,!1,!1],d[7]=f[0],d[8]=f[1],d[9]=f[2],f):(c.i64.eq(d[10],c.i64.cast([0,0]))&&c.i64.eq(d[11],c.i64.cast([0,40]))||[c.i64.cast([0,23]),c.i64.cast([0,21]),c.i64.cast([0,18]),c.i64.cast([0,26])].some(function(a){return c.i64.eq(d[10],a)})&&c.i64.neq(d[11],c.i64.cast([0,20]))&&((d[12]===""?void 0:d[12])===void 0||c.i64.lt(d[11],c.i64.cast([0,80])))||[c.i64.cast([0,151]),c.i64.cast([0,155]),c.i64.cast([0,153])].some(function(a){return c.i64.eq(d[10],a)})||[c.i64.cast([0,24]),c.i64.cast([0,22]),c.i64.cast([0,19]),c.i64.cast([0,25])].some(function(a){return c.i64.eq(d[10],a)})||[c.i64.cast([0,150]),c.i64.cast([0,154]),c.i64.cast([0,152])].some(function(b){return c.i64.eq(a[1],b)})&&c.i64.lt(d[11],c.i64.cast([0,80]))||[c.i64.cast([0,150]),c.i64.cast([0,154]),c.i64.cast([0,152])].some(function(b){return c.i64.eq(a[1],b)})&&c.i64.eq(a[6],c.i64.cast([0,205]))&&(c.i64.eq(e.syncGroup,void 0)||!1)?(b=[!0,!0,!1],d[13]=b[0],d[14]=b[1],d[15]=b[2],b):(c.i64.ge(d[11],a[4])||c.i64.eq(d[11],c.i64.cast([0,20]))&&(c.i64.eq(a[1],c.i64.cast([0,2]))||[c.i64.cast([0,23]),c.i64.cast([0,21]),c.i64.cast([0,18]),c.i64.cast([0,26])].some(function(b){return c.i64.eq(a[1],b)}))?(f=[!1,!1,!1],d[16]=f[0],d[17]=f[1],d[18]=f[2],f):(e=[!0,!1,!0],d[16]=e[0],d[17]=e[1],d[18]=e[2],e),b=[d[16],d[17],d[18]],d[13]=b[0],d[14]=b[1],d[15]=b[2],b),f=[d[13],d[14],d[15]],d[7]=f[0],d[8]=f[1],d[9]=f[2],f),e=[d[7],d[8],d[9]],d[3]=e[0],d[4]=e[1],d[5]=e[2],e)})},function(a){return a=[d[3],d[4],d[5]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(e){return d[0]?(d[3]=new c.Map(),d[3].set("thread_fbid",a[0]),d[3].set("force_upsert",a[5]),d[3].set("use_open_messenger_transport",!1),d[3].set("sync_group",a[6]),d[3].set("metadata_only",a[7]),d[3].set("preview_only",!1),d[4]=d[3].get("thread_fbid"),d[5]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[4]),c.i64.cast([0,209]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve()},function(e){return d[1]?c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?c.sequence([function(b){return c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(b,e){var a=b.done;b=b.value;return a?d[22]=!1:(e=b.item,d[22]=c.i64.eq(e.contactTypeExact,c.i64.cast([0,16]))?!0:!1)})},function(a){return d[3]=d[22]}]):(e=b.item,d[3]=c.i64.eq(e.threadType,c.i64.cast([0,201]))?!0:!1)})},function(b){return d[5]=c.i64.cast([0,1083495711]),d[6]=c.i64.cast([0,1024]),d[7]=c.i64.cast([0,0]),d[8]=c.i64.cast([0,0]),d[9]=c.i64.cast([0,0]),c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(a,b){var e=a.done;a=a.value;return e?d[10]=!1:(b=a.item,d[10]=c.i64.eq(b.contactReachabilityStatusType,c.i64.cast([0,12]))?!0:!1)})},function(b){return d[12]=c.i64.cast([0,1083495711]),d[13]=c.i64.cast([0,1024]),d[14]=c.i64.cast([0,0]),d[15]=c.i64.cast([0,134217728]),d[16]=c.i64.cast([0,0]),d[17]=c.i64.cast([0,8650752]),d[18]=c.i64.cast([0,1024]),d[19]=c.i64.cast([0,0]),d[20]=c.i64.cast([0,0]),d[21]=c.i64.cast([0,0]),c.forEach(c.filter(c.db.table(9).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:a[0],mailboxType:c.i64.cast([0,0]),threadType:a[1],syncGroup:a[6],folderName:a[2],lastReadWatermarkTimestampMs:c.i64.cast([0,0]),removeWatermarkTimestampMs:c.i64.cast([-1,4294967295]),ongoingCallState:c.i64.cast([0,0]),parentThreadKey:a[3],authorityLevel:a[4],capabilities:d[3]?d[17]:d[12],capabilities2:d[3]?d[18]:d[13],capabilities3:d[3]?d[19]:d[14],capabilities4:d[3]?d[20]:d[15],capabilities5:d[3]?d[21]:d[16],unsendLimitMs:c.i64.cast([-1,4294967295])})},function(e){return[c.i64.cast([0,1]),c.i64.cast([0,201])].some(function(b){return c.i64.eq(a[1],b)})?c.sequence([function(b){return c.forEach(c.filter(c.db.table(14).fetch([[[a[0],a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[0])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[0],contactId:a[0],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:a[4],isModerator:!1})},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[22]=a[0],a})},function(b){return c.forEach(c.filter(c.db.table(14).fetch([[[a[0],d[22]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,d[22])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[0],contactId:d[22],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:a[4],isModerator:!1})}]):c.resolve()}]):c.resolve()},function(b){return d[2]?c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({authorityLevel:a[4]})}):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxVerifyThreadExistsV2StoredProcedure";a.__tables__=["threads","contacts","participants"];e.exports=a}),null);
__d("LSVerifyThreadRowExistsV2",["LSVerifyThreadExistsV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.i64.eq(a[1],c.i64.cast([0,5]))?d[0]=c.i64.cast([-1,4294967284]):d[0]=c.i64.cast([0,0]),c.storedProcedure(b("LSVerifyThreadExistsV2"),a[0],a[1],"inbox",d[0],a[3],!1,a[2],!1,!1)},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxVerifyThreadRowExistsV2StoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSVerifyThreadRowExistsV2StoredProcedure",["LSSynchronousPromise","LSVerifyThreadRowExistsV2","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSVerifyThreadRowExistsV2"),e.threadKey,e.threadType,e.syncGroup,e.authorityLevel);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("usePolarisFadeTransition",["react-compiler-runtime","react-spring-wwwig"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(5),c=a.duration;a=a.show;var e,f,g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={opacity:1},f={opacity:0},g={opacity:0},b[0]=e,b[1]=f,b[2]=g):(e=b[0],f=b[1],g=b[2]);b[3]!==c?(e=babelHelpers["extends"]({enter:e,from:f,leave:g},c!=null?{config:{duration:c}}:{}),b[3]=c,b[4]=e):e=b[4];return d("react-spring-wwwig").useTransition(a,e)}g["default"]=a}),98);
__d("usePolarisPanAndZoom",["react-compiler-runtime","react-spring-wwwig"],(function(a,b,c,d,e,f,g){"use strict";var h={friction:40,mass:5,tension:350};function a(a,b,c,e){var f=d("react-compiler-runtime").c(9),g=c===void 0?!1:c;f[0]!==e?(c=e===void 0?[]:e,f[0]=e,f[1]=c):c=f[1];e=c;f[2]!==b||f[3]!==g||f[4]!==a?(c=function(){var c;return{config:(c=b)!=null?c:h,from:a,immediate:g,reset:!0,to:a}},f[2]=b,f[3]=g,f[4]=a,f[5]=c):c=f[5];c=d("react-spring-wwwig").useSpring(c,e);e=c[0];c=c[1];var i;f[6]!==c||f[7]!==e?(i={set:c,style:e},f[6]=c,f[7]=e,f[8]=i):i=f[8];return i}g["default"]=a}),98);
__d("PolarisIGAnimate",["PolarisIGAnimated.react","usePolarisFadeTransition","usePolarisPanAndZoom"],(function(a,b,c,d,e,f){"use strict";f.Animated=importDefault("PolarisIGAnimated.react"),f.useFadeTransition=importDefault("usePolarisFadeTransition"),f.usePanAndZoom=importDefault("usePolarisPanAndZoom")}),66);
__d("XPlatReactCrypto",["err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h=self.crypto)==null?void 0:h.subtle;function a(a){var b;if(typeof ((b=self.crypto)==null?void 0:b.getRandomValues)!=="function")throw c("err")("crypto.getRandomValues: Not implemented");self.crypto.getRandomValues(a);return a}function b(){var a;if(typeof ((a=self.crypto)==null?void 0:a.randomUUID)!=="function")return null;a=self.crypto.randomUUID();return typeof a==="string"?a:null}function d(a,b,d,e,f){if(i==null)throw c("err")("crypto.subtle.importKey: Not implemented");return i.importKey(a,b,d,e,f)}function e(a,b){if(i==null)throw c("err")("crypto.subtle.exportKey: Not implemented");return i.exportKey(a,b)}function f(a,b,d){if(i==null)throw c("err")("crypto.subtle.generateKey: Not implemented");return i.generateKey(a,b,d)}function j(a,b,d){if(i==null)throw c("err")("crypto.subtle.encrypt: Not implemented");return i.encrypt(a,b,d)}function k(a,b,d){if(i==null)throw c("err")("crypto.subtle.decrypt: Not implemented");return i.decrypt(a,b,d)}function l(a,b,d){if(i==null)throw c("err")("crypto.subtle.sign: Not implemented");return i.sign(a,b,d)}function m(a,b){if(i==null)throw c("err")("crypto.subtle.digest: Not implemented");return i.digest(a,b)}function n(a,b,d){if(i==null)throw c("err")("crypto.subtle.deriveBits: Not implemented");return i.deriveBits(a,b,d)}function o(a,b,d,e,f){if(i==null)throw c("err")("crypto.subtle.deriveKey: Not implemented");return i.deriveKey(a,b,d,e,f)}g.getRandomValues=a;g.randomUUID=b;g.subtleImportKey=d;g.subtleExportKey=e;g.subtleGenerateKey=f;g.subtleEncrypt=j;g.subtleDecrypt=k;g.subtleSign=l;g.subtleDigest=m;g.subtleDeriveBits=n;g.subtleDeriveKey=o}),98);/*FB_PKG_DELIM*/
__d("ArmadilloDataTraceType",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("I64")).of_string("13");g.armadilloMessageSend=a}),98);
__d("IGDRouteProvider.react",["I64","react","react-compiler-runtime","useCurrentRoute"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));e=h;f=e.createContext;var k=e.useContext;function l(a){try{return(i||(i=d("I64"))).of_string(a)}catch(a){return}}function m(a){if(a==null)return;a=a.params.thread_key;if(a!=null&&typeof a==="string")return l(a)}var n=f();function a(a){var b=d("react-compiler-runtime").c(5);a=a.children;var e=c("useCurrentRoute")(),f;b[0]!==e?(f=m(e),b[0]=e,b[1]=f):f=b[1];e=f;b[2]!==a||b[3]!==e?(f=j.jsx(n.Provider,{value:e,children:a}),b[2]=a,b[3]=e,b[4]=f):f=b[4];return f}function b(){return k(n)}g.IGDRouteContextProvider=a;g.useThreadKeyFromCurrentRoute=b}),98);
__d("LSAppendDataTraceAddonStoredProcedure",["LSAppendDataTraceAddon","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSAppendDataTraceAddon"),e.dataTraceId,e.checkPointId,e.syncChannel,e.errorMessage,e.tags);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSBitOffset",["I64","LSBitFlag"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("LSBitFlag").set((h||(h=d("I64"))).lsl_(h.one,h.to_int32(a)),b)}function b(a,b){return d("LSBitFlag").clear((h||(h=d("I64"))).lsl_(h.one,h.to_int32(a)),b)}g.set=a;g.clear=b;g.empty=(h||(h=d("I64"))).zero}),98);
__d("LSContactBitOffset",["I64","LSBitFlag","LSBitOffset"],(function(a,b,c,d,e,f,g){"use strict";var h;c=["capabilities","capabilities2"];function a(a,b){return i(a,b,!1)}function i(a,b,c){var e=b.capabilities,f=b.capabilities2;if(a>=64){return f==null?c:d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a-64),(f=b.capabilities2)!=null?f:d("LSBitOffset").empty)}return e==null?c:d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a),(f=b.capabilities)!=null?f:d("LSBitOffset").empty)}function b(a,b){return d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a-64),(a=b)!=null?a:d("LSBitOffset").empty)}g.contactCapabilityFields=c;g.has=a;g.hasWithDefault=i;g.contactCapabilitiesHas=b}),98);
__d("LSContactBlockedByViewerStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({UNBLOCKED:0,MESSAGE_BLOCKED:1,FULLY_BLOCKED:2});f["default"]=a}),66);
__d("LSDataTraceCheckPoint",[],(function(a,b,c,d,e,f){a=Object.freeze({CLIENT_DB_OUTBOUND:1,CLIENT_NETWORK_OUTBOUND:2,CLIENT_NETWORK_INBOUND:10,CLIENT_DB_INBOUND:11,CLIENT_EVALUATE_DASM:12,CLIENT_APP_STATE_CHANGE:13,CLIENT_CREATE_TASK:20,CLIENT_RECIPIENT_PRESENCE:21,CLIENT_EVALUATE_DASM_BEGIN:22,MQTT_PUBLISH:30,MQTT_PUBLISH_ACK:31,MQTT_DISCONNECTED:32,MQTT_CONNECTING:33,MQTT_CONNECTED:34,MQTT_CONNECTION_ACKED:35,TINCAN_RECEIVE_MESSAGE:36,TINCAN_RECEIVE_DECRYPTION_COMPLETE:37,TINCAN_RECEIVE_DECRYPTION_FAILED:38,TINCAN_RECEIVE_DR_QUEUED:39,TINCAN_RECEIVE_DR_SENT_TO_NETWORK:40,TINCAN_RECEIVE_DR_PUBLISH_TO_MQTT:41,TINCAN_RECEIVE_DRMQTT_PUBACK:42,TINCAN_RECEIVE_BOUNCE_TASK_QUEUED:43,TINCAN_RECEIVE_BOUNCE_TASK_SENT_TO_NETWORK:44,TINCAN_RECEIVE_BOUNCE_TASK_PUBLISH_TO_MQTT:45,RICH_MEDIA_DOWNLOAD_START:50,RICH_MEDIA_DOWNLOAD_END:51,RICH_MEDIA_DOWNLOAD_ERROR:52,RICH_MEDIA_UPLOAD_START:53,ARMADILLO_ACT:60,ARMADILLO_ACT_TASK_PICK:61,ARMADILLO_ACT_SERIALIZE:62,ARMADILLO_ACT_GROUP_SEND:63,ARMADILLO_ACT_SEND_FAILURE:64,ARMADILLO_ACT_MESSAGE_SEND:65,NETWORK_DISCONNECTED:70,NETWORK_CONNECTED:71,NETWORK_UNKNOWN:72,FLOW_CREAT:80,FLOW_END:81,FLOW_INTERRUPTED:82,FLOW_CONNECT_ID:83,FLOW_END_AND_FLUSH:84,FLOW_END_FOR_FAILURE:85,TRACE_CREATED:98,CLIENT_READY_TO_FLUSH:99,PENDING_DELTA:100,NO_PENDING_DELTA:101,INIT_SYNC:102,RESNAPSHOT:103,CATCH_UP:104,PERIODIC_SYNC:105,CATCH_UP_FROM_REVISION:106,RESNAPSHOT_CONTINUE:107,RESNAPSHOT_END:108,PERIODIC_SYNC_CONTINUE:109,PERIODIC_SYNC_END:110,CONTACT_SYNC_OPTIMISTIC:111,CONTACT_SYNC_FROM_OMNISTORE:112,CONTACT_SYNC_TAM_OPTIMISTC:113,CONTACT_SYNC_TAM_FROM_OMNISTORE:114,CONTACT_SYNC_TAM_ERROR:115,VERIFY_USER_FOR_SYNC:116,SNAPSHOT_START:117,SNAPSHOT_CONTINUE:118,SNAPSHOT_END:119,FETCH_DELTA:120,DELTA_SUMMARY:130,RECEIVE_DELIVERY_RECEIPT:200,TASK_DESERIALIZATION_ERROR:201,OPTIMISIC_MESSAGE_FAILED:202,SEND_SERVER_AUTHORITATIVE:203,THREAD_RANGE_QUERY_COMPLETE:204,THREAD_RANGE_QUERY_FAILURE:205,THREAD_POINT_QUERY_COMPLETE:206,SEND_SERVER_PARTIAL:207,MARK_AS_OPTIMISTIC_SENT:208,XMS_TRANSPORT_MESSAGE_SEND_START:300,XMS_TRANSPORT_MESSAGE_SEND_FAIL:301,SKIP_TASK_DISPATCH:900,ADVANCED_CRYPTO_MEM_ENCRYPT_TASK_START:1200,ADVANCED_CRYPTO_MEM_ENCRYPT_TASK_COMPLETE:1201,ADVANCED_CRYPTO_MEM_WA_PUBLISH:1202,ADVANCED_CRYPTO_MEM_PUBLISH_ACK:1203,ADVANCED_CRYPTO_MEM_SEND_TASK_COMPLETE:1204,ADVANCED_CRYPTO_MEM_WA_CONNECTION_DISCONNECTED:1205,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTING:1206,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTED:1207,ADVANCED_CRYPTO_MEM_FAILURE:1208,ADVANCED_CRYPTO_MEM_SEND_SUCCESS_WITH_RETRY:1209,ADVANCED_CRYPTO_MEM_DELIVERY_RECEIPT_RECEIVED:1210,ADVANCED_CRYPTO_REGISTRATION_CAT_DISK_FETCH_START:1211,ADVANCED_CRYPTO_REGISTRATION_CAT_DISK_FETCH_END:1212,ADVANCED_CRYPTO_REGISTRATION_CAT_NETWORK_FETCH_START:1213,ADVANCED_CRYPTO_REGISTRATION_CAT_NETWORK_FETCH_RETRYSTART:1214,ADVANCED_CRYPTO_REGISTRATION_CAT_NETWORK_FETCH_END:1215,ADVANCED_CRYPTO_REGISTRATION_WA_REQUEST_SEND_START:1216,ADVANCED_CRYPTO_REGISTRATION_WA_REQUEST_SEND_END:1217,ADVANCED_CRYPTO_REGISTRATION_WCR_REGISTER:1218,ADVANCED_CRYPTO_REGISTRATION_SAVE_WA_DEVICE_ID_ERROR:1219,ADVANCED_CRYPTO_MEM_DEVICE_FETCH_START:1220,ADVANCED_CRYPTO_MEM_DEVICE_FETCH_END:1221,ADVANCED_CRYPTO_MEM_ENCRYPTION_BEGIN:1222,ADVANCED_CRYPTO_MEM_ENCRYPTION_END:1223,ADVANCED_CRYPTO_MEM_ENCRYPTION_DEVICE_COUNT:1224,ADVANCED_CRYPTO_DUAL_SEND:1225,ADVANCED_CRYPTO_REGISTRATION_SERVER_SUCCESS:1226,ADVANCED_CRYPTO_REGISTRATION_RETRY_REGISTER:1227,ADVANCED_CRYPTO_REGISTRATION_CAT_NULL:1228,ADVANCED_CRYPTO_REGISTRATION_WCR_MANAGER_NULL:1229,ADVANCED_CRYPTO_REGISTRATION_RESPONSE_NULL:1230,ADVANCED_CRYPTO_REGISTRATION_SELF_NULL:1231,ADVANCED_CRYPTO_REGISTRATION_EMPTY_DEVICE_ID:1232,ADVANCED_CRYPTO_REGISTRATIONRETRY_REGISTER_FAILURE:1233,ADVANCED_CRYPTO_GROUP_DUAL_SEND:1234,RAVEN_IMAGE_MESSAGE:1235,RAVEN_VIDEO_MESSAGE:1236,ADVANCED_CRYPTO_REGISTRATION_RETRY_REGISTER_CAT:1237,ADVANCED_CRYPTO_REGISTRATION_RETRY_REGISTER_NETWORK:1238,ADVANCED_CRYPTO_CAT_DISK_FETCH_CAT_INVALID:1239,ADVANCED_CRYPTO_RECONNECT_GENERIC_ERROR:1240,ADVANCED_CRYPTO_RECONNECT_CAT_INVALID:1241,ADVANCED_CRYPTO_RECONNECT_CAT_EXPIRED:1242,ADVANCED_CRYPTO_CAT_MEMORY_FETCH_NULL:1243,ADVANCED_CRYPTO_FIRST_CONNECTION_START:1244,LABYRINTH_INITIALIZE_BACKUP_SPROC:1400,LABYRINTH_INITIALIZE_BACKUP_SUCCESS_SPROC:1401,LABYRINTH_INITIALIZE_BACKUP_FAILURE:1402,LABYRINTH_CREATE_BACKUP_MAILBOX_SPROC:1403,LABYRINTH_HANDLE_CREATE_BACKUP_MAILBOX_SUCCESS_SPROC:1404,LABYRINTH_OPEN_EPOCH_SPROC:1405,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC:1406,LABYRINTH_HANDLER_OPEN_EPOCH_FAILURE_SPROC:1407,LABYRINTH_CREATE_VIRTUAL_DEVICE_SPROC:1410,LABYRINTH_HANDLE_CREATE_VIRTUAL_DEVICE_SUCCESS_SPROC:1411,LABYRINTH_HANDLE_CREATE_VIRTUAL_DEVICE_FAILURE_SPROC:1412,LABYRINTH_ADD_DEVICE_SPROC:1413,LABYRINTH_ADD_DEVICE_FROM_VIRTUAL_SPROC:1414,LABYRINTH_HANDOLE_WRONG_RECOVERY_CODE_SPROC:1415,LABYRINTH_HANDLE_ADD_DEVICE_SUCCESS_SPROC:1416,LABYRINTH_HANDLE_ADD_DEVICE_FAILURE_SPROC:1417,LABYRINTH_ADD_DEVICE_SPROC_ADD_DEVICE_ALREADY_PENDING:1600,LABYRINTH_ADD_DEVICE_SPROC_UPDATE_RECOVERY_DATA_TABLE_START:1601,LABYRINTH_ADD_DEVICE_SPROC_ADD_DEVICE_NO_VD_TABLE:1602,LABYRINTH_ADD_DEVICE_SPROC_GENERATE_RECOVERY_SECRETS_START:1603,LABYRINTH_ADD_DEVICE_SPROC_WRONG_RC:1604,LABYRINTH_ADD_DEVICE_SPROC_NULL_VD:1605,LABYRINTH_ADD_DEVICE_SPROC_NO_RC_STATUS_TABLE_FOUND:1606,LABYRINTH_ADD_DEVICE_SPROC_ISSUE_FETCH_VD_TASK:1607,LABYRINTH_ADD_DEVICE_SPROC_SUCCESS:1608,LABYRINTH_INITIALIZE_RESTORE_SPROC:1418,LABYRINTH_DECRYPT_THREADS_SPROC:1419,LABYRINTH_REQUEST_MESSAGES_FROM_THREADS_SPROC:1420,LABYRINTH_REQUEST_MESSAGES_FROM_RANGE_QUERY_SPROC:1421,LABYRINTH_DECRYPT_MESSAGES_SPROC:1422,LABYRINTH_DELETE_BACKUP_ON_CLIENT_SPROC:1423,LABYRINTH_DELETE_BACKUPS_SPROC:1424,LABYRINTH_HANDLE_DELETE_MAILBOX_SPROC:1425,LABYRINTH_ISSUE_DELETE_BACKUP_TASK_SPROC:1426,LABYRINTH_BACKUP_UPLOAD_BEGIN:1427,LABYRINTH_BACKUP_UPLOAD_SUCCESS_SPROC:1428,LABYRINTH_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC:1429,LABYRINTH_QR_INIT_ADD_DEVICE_SPROC:1430,LABYRINTH_QR_INIT_ADD_DEVICE_SUCCESS_SPROC:1431,LABYRINTH_QR_INIT_GET_SECRETS_SPROC:1433,LABYRINTH_QR_FINISH_ADD_PEER_DEVICE_SPROC:1434,LABYRINTH_SYNC_EPOCHS_STORED_PROCEDURE_SPROC:1436,LABYRINTH_SYNC_EPOCHS_SUCCESS_SPROC:1437,LABYRINTH_SYNC_EPOCHS_FORWARD_DERIVATION_END:1438,LABYRINTH_SYNC_EPOCHS_BACKWARD_DERIVATION_END:1439,LABYRINTH_SYNC_EPOCHS_OPEN_NEW_EPOCH:1440,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC:1441,LABYRINTH_PREPARE_OPEN_EPOCH_SUCCESS_SPROC:1442,LABYRINTH_MEB_MANAGER_ADD_DEVICE:1443,LABYRINTH_BACKUP_UPLOAD_FAIL:1450,LABYRINTH_DECRYPT_SINGLE_MESSAGE_SPROC:1498,LABYRINTH_DECRYPT_SINGLE_MESSAGE_SUCCESS:1499,LABYRINTH_MEDIA_BACKUP_START:1455,LABYRINTH_MEDIA_BACKUP_SUCCESS:1456,LABYRINTH_MEDIA_BACKUP_FAILURE:1458,LABYRINTH_MEDIA_RESTORE_START:1459,LABYRINTH_MEDIA_RESTORE_SUCCESS:1460,LABYRINTH_MEDIA_RESTORE_FAILURE:1462,LABYRINTH_REMOVE_VIRTUAL_DEVICE_SPROC:1484,LABYRINTH_HANDLE_REMOVE_VIRTUAL_DEVICE_RESULT_SUCCESS:1485,LABYRINTH_HANDLE_REMOVE_VIRTUAL_DEVICE_RESULT_FAILURE:1486,LABYRINTH_REMOVE_VIRTUAL_DEVICE_BACKUP_NOT_FOUND:1493,LABYRINTH_REMOVE_VIRTUAL_DEVICE_WRITE_TASK:1494,LABYRINTH_BACKUP_UPLOAD_ENQUEUE_TASK_EXECUTER:1495,LABYRINTH_BACKUP_UPLOAD_ENQUEUE_SERIALIZER:1496,LABYRINTH_BACKUP_UPLOAD_SERIALIZE:1451,LABYRINTH_BACKUP_UPLOAD_SERIALIZE_SUCCEED:1463,LABYRINTH_BACKUP_UPLOAD_SERIALIZE_FAIL:1464,LABYRINTH_UPDATE_BACKUP_TABLE_SPROC:1467,LABYRINTH_FETCH_BACKUP_IDS_SPROC:1468,LABYRINTH_PROCESS_BACKUP_IDS_SPROC:1487,LABYRINTH_BACKUP_STATUS_NO_INFO:1488,LABYRINTH_BACKUP_STATUS_FETCH_ERROR:1489,LABYRINTH_BACKUP_STATUS_NOT_ONBOARDED:1490,LABYRINTH_BACKUP_STATUS_ONBOARDED:1491,LABYRINTH_BACKUP_STATUS_NO_BACKUPS_PRESENT:1492,LABYRINTH_OPT_OUT_OF_BACKUP_SPROC:1469,LABYRINTH_TRIGGER_THIRD_PARTY_ID_GENERATION_SPROC:1470,LABYRINTH_HANDLE_TRIGGER_THIRD_PARTY_ID_GENERATION_SPROC:1471,LABYRINTH_FETCH_BACKUPS_METADATA_SPROC:1478,LABYRINTH_HANDLE_BACKUPS_METADATA_RESULT_SPROC:1480,LABYRINTH_RESTORE_THREADS_SUCCESS:1481,LABYRINTH_RESTORE_MESSAGES_SUCCESS:1482,LABYRINTH_POINT_QUERY_MESSAGE_RESTORE:2511,LABYRINTH_RESTORE_MESSAGE_NEWER_DIRECTION:2514,LABYRINTH_RESTORE_SURROUNDING_MESSAGES:2515,LABYRINTH_BACKUP_UPLOAD_GET_ECHO_DOC:1497,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_BACKUP_STATE:1800,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_BACKUP_STATE_SUCCESS:1801,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_BACKUP_STATE_FAILURE:1802,LABYRINTH_MEBMANAGER_ADD_DEVICE_ADD_DEVICE_SPROC_CALLED:1803,LABYRINTH_MEBMANAGER_ADD_DEVICE_ADD_DEVICE_SPROC_RETURN_SUCCESS:1804,LABYRINTH_MEBMANAGER_ADD_DEVICE_ADD_DEVICE_SPROC_RETURN_FAILURE:1805,LABYRINTH_MEBMANAGER_ADD_DEVICE_NOTOFICATION_TRIGGERED:1806,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_ADD_DEVICE_STATE:1807,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_ADD_DEVICE_STATEFAILURE:1808,LABYRINTH_MEBMANAGER_ADD_DEVICE_INIT_RESTORE_SPROC_CALLED:1809,LABYRINTH_MEBMANAGER_ADD_DEVICE_INIT_RESTORE_SPROC_RETURN_SUCCESS:1810,LABYRINTH_MEBMANAGER_ADD_DEVICE_INIT_RESTORE_SPROC_RETURN_FAILURE:1811,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC_CALLED:1812,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC_RETURN_SUCCESS:1813,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC_RETURN_FAILURE:1814,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_NOTIFICATION_TRIGGERRED:1815,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_FETCH_RECOVERY_CODE_STATUS:1816,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_FETCH_RECOVERY_CODE_STATUS_FAILURE:1817,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_CREATE_EXTRA_VIRTUAL_DEVICE_SUCCESS:1818,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_CREATE_EXTRA_VIRTUAL_DEVICE_FAILURE:1819,LABYRINTH_MEBMANAGER_WRONG_RECOVERY_CODE:1823,LABYRINTH_ENCRYPT_MESSAGE_FAIL:1828,LABYRINTH_ENCRYPT_MESSAGE_GENERATED_PAYLOAD:1824,LABYRINTH_ENCODE_DOCUMENT:1820,LABYRINTH_ENCODE_DOCUMENT_FAIL:1821,LABYRINTH_ENCODE_DOCUMENT_SUCCESS:1822,LABYRINTH_MEDIA_ISSUE_ATTACHMENT_BACKUP_TASK_SPROC:1825,LABYRINTH_MEDIA_UPDATE_ATTACHMENT_BACKUP_ENT_SPROC:1826,LABYRINTH_MEDIA_HANDLE_ATTACHMENT_BACKUP_FAILURE_SPROC:1827,LABYRINTH_MEDIA_ISSUE_ATTACHMENT_RESTORE_TASK:1829,LABYRINTH_MEDIA_UPDATE_ATTACHMENT_CDN_URL:1830,LABYRINTH_MEDIA_HANDLE_ATTACHMENT_RESTORE_FAILURE:1831,LABYRINTH_MEDIA_ISSUE_BATCH_ATTACHMENT_BACKUP_TASK_SPROC:1873,LABYRINTH_UPLOAD_CANCEL:1850,LABYRINTH_DELETE_BACKUP_ON_CLIENT_STARTING_CANCEL:1851,LABYRINTH_DELETE_BACKUP_ON_CLIENT_DID_CANCEL:1852,LABYRINTH_DELETE_BACKUP_ON_CLIENT_FAILED_CANCEL:1853,LABYRINTH_BACKUP_RETRY_DELETE_MESSAGE_BACKUP_STATUS_ENTRY:1865,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_BEGIN:1881,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_GOT_MESSAGE_IDS_FROM_ACT:1882,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_BEGIN_OCMF_OPE_OPERATIONS:1883,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_END_OCMF_OPE_OPERATIONS:1884,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_FETCH_MESSAGE_RANGE_ERROR:1885,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_ISSUE_COMPARATOR_TASK:1886,LABYRINTH_CLEAR_BACKUP_TABLE_ON_CLIENT:1891,LABYRINTH_CLEAR_VIRTUAL_DEVICES_TABLE_ON_CLIENT:1892,LABYRINTH_CLEAR_BACKUP_METADATA_TABLE_ON_CLIENT:1893,SAP_VESTA_FETCH_VESTA_KEY_AND_SECRET_BEGIN:2400,LABYRINTH_PLUGIN_CALLING_GENERATE_RECOVERY_CODE:2401,SAP_FESTA_FETCH_KEY_AND_SECRET_COMPLETION:2402,SAP_VESTA_CALLING_VESTA_REGISTRATION:2403,SAP_VESTA_REGISTRATION_COMPLETION:2404,LABYRINTH_PLUGIN_CALLING_CREATE_EXTRA_VIRTUAL_DEVICE:2405,SAP_VESTA_NOTIFY_SECRET_STORED_COMPLETION:2406,SAP_VESTA_NOTIFY_CLIENT_ABOUT_VESTA_REGISTRATION:2407,SAP_VESTA_CALLING_VESTA_LOGIN:2411,SAP_VESTA_LOGIN_COMPLETION:2412,LABYRINTH_PLUGIN_CALLING_ADD_DEVICE:2413,LABYRINTH_PLUGIN_CALLING_INITIALIZE_BACKUP:2416,LABYRINTH_PIN_SETUP_BEGIN:2417,LABYRINTH_PIN_SETUP_SUCCESS:2418,LABYRINTH_PIN_SETUP_FAILURE:2419,LABYRINTH_PIN_RESTORE_BEGIN:2420,LABYRINTH_PIN_RESTORE_SUCCESS:2421,LABYRINTH_PIN_RESTORE_FAILURE:2422,LABYRINTH_PLUGIN_CALLING_INITIALIZE_RESTORE:2423,LABYRINTH_FETCH_THREAD_IDS_SPROC:2500,LABYRINTH_FETCH_THREAD_IDS_NATIVE_OP_SUCCESS:2501,LABYRINTH_FETCH_THREAD_IDS_NATIVE_OP_FAILURE:2502,LABYRINTH_REQUEST_MESSAGES_FROM_FETCH_THREAD_IDS_SPROC:2503,LABYRINTH_REQUEST_MESSAGES_FROM_INIT_RESTORE_SPROC:2506,LABYRINTH_POINT_QUERY_RESTORE_TASK_SPROC_START:2512,LABYRINTH_POINT_QUERY_RESTORE_TASK_SPROC_END:2513,LABYRINTH_VERSIONING_UPSERT_DEVICE_ENCRYPTION_VERSIONS_TO_CLIENT_SPROC_START:2800,LABYRINTH_VERSIONING_UPSERT_DEVICE_ENCRYPTION_VERSIONS_TO_CLIENT_SPROC_END:2801,LABYRINTH_VERSIONING_DELETE_AND_SYNC_DEVICE_ENCRYPTION_VERSION_DATA_SPROC:2802,LABYRINTH_VERSIONING_UPSERT_DEVICE_DELETE_DEVICE_ENCRYPTION_VERSION_DATA:2803,LABYRINTH_VERSIONING_SYNC_ENCRYPTION_VERSION_DATA_SPROC:2804,LABYRINTH_VERSIONING_VERSION_SUPPORTED:2805,LABYRINTH_VERSIONING_SYNC_UPDATE_VERSION_DATA:2806,LABYRINTH_VERSIONING_SYNC_NO_VERSION_DATA:2807,LABYRINTH_VERSIONING_VERSION_SELECTED:2808,LABYRINTH_VERSIONING_DELETE_AND_SYNC_DEVICE_DELETE_DEVICE_ENCRYPTION_VERSION_DATA:2809,LABYRINTH_VERSIONING_VERSION_NOT_SUPPORTED:2810,LABYRINTH_VERSIONING_UPSERT_DEVICE_INVALID_SIGNATURE:2811,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC_ISSUE_REQUEST_ASSOC_DEVICES:2821,LABYRINTH_PREPARE_OPEN_EPOCH_FAILURE_NO_BACKUP:2822,LABYRINTH_PREPARE_OPEN_EPOCH_FAILURE_FLOW_ALREADY_IN_PROGRES:2823,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC:2824,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_NUM_EDGES:2825,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_PROCESS_EDGE_FROM:2826,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_PROCESS_EDGE_TO:2827,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_EDGE_SOURCE:2828,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_SOURCE_EPOCH_LOADED:2829,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_DERIVE_CHAINING_KEY_PSK:2830,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_DECRYPT_FORWARD_EDGE_ENTROPY:2831,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_EDGE_DECRYPTION_SUCCESS:2832,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_EDGE_DECRYPTION_FAIL:2833,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_FAIL_TO_LOAD_SOURCE_EPOCH:2834,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_EDGE_SOURCE:2835,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_SOURCE_EPOCH_LOADED:2836,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_DECRYPT_BACKWARD_EDGE:2837,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_EDGE_DECRYPTION_SUCCESS:2838,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_EDGE_DERIVATION_FAIL:2839,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_FAIL_TO_LOAD_SOURCE_EPOCH:2840,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FAILURE:2841,LABYRINTH_GET_OPEN_EPOCH_KEYS_SPROC:2842,LABYRINTH_GET_OPEN_EPOCH_KEYS_NO_EPOCHS_ON_CLIENT:2843,LABYRINTH_GET_OPEN_EPOCH_KEYS_GET_ALL_EPOCH_ANON_IDS:2844,LABYRINTH_GET_OPEN_EPOCH_KEYS_NUM_ANON_IDS:2845,LABYRINTH_GET_OPEN_EPOCHS_KEYS_EPOCH_ANON_ID_LIST_EMPTY:2846,LABYRINTH_GET_OPEN_EPOCH_KEYS_GET_KEYS_FOR_ANON_ID:2847,LABYRINTH_GET_OPEN_EPOCH_KEYS_ANON_ID_NOT_FOUND:2848,LABYRINTH_SYNC_EPOCHS_SPROC_DOWNLOAD_EPOCHS_V2_WRITE_TASK:2849,LABYRINTH_OPEN_EPOCH_SPROC_OPEN_INITIAL_EPOCH:2850,LABYRINTH_OPEN_EPOCH_SPROC_OPEN_EPOCH_WITH_LAST_EPOCH_METADATA:2851,LABYRINTH_OPEN_EPOCH_SPROC_OPEN_AFTER_FIRST_EPOCH:2852,LABYRINTH_OPEN_EPOCH_SPROC_FAILURE_LAST_EPOCH_NOT_FOUND:2853,LABYRINTH_OPEN_EPOCH_SPROC_ERROR:2854,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC_CLOSE_LAST_EPOCH:2855,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC_DERIVE_AND_STORE_EPOCH:2856,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC_DERIVE_AND_STORE:2857,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC_UPDATE_AUTHORITY:2858,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC_UPDATE_EPOCH_ID:2859,LABYRINTH_INCLUDE_FALLBACK_KEY_DURING_ENCRYPTION:2860,LABYRINTH_DERIVE_FALLBACK_KEY:2861,LABYRINTH_FAILED_TO_INCLUDE_FALLBACK_KEY:2862,LABYRINTH_GET_OPEN_EPOCH_KEYS_ANON_ID_VALUE:2863,LABYRINTH_GET_OPEN_EPOCH_KEYS_ANON_ID_NULL_VALUE:2864,LABYRINTH_MESSAGE_RESTORE_EPOCH_ANON_ID_NULL:2865,LABYRINTH_WEB_EPOCH_ROTATION_ENABLED:2866,LABYRINTH_WEB_EPOCH_ROTATION_DISABLED:2867,LABYRINTH_MOBILE_EPOCH_ROTATION_ENABLED:2868,LABYRINTH_MOBILE_EPOCH_ROTATION_DISABLED:2869,LABYRINTH_DECRYPT_MESSAGE_SPROC_SINGLE_EPOCH_KEY:2870,LABYRINTH_DECRYPT_MESSAGE_SPROC_EPOCH_NOT_FOUND_ERROR:2871,LABYRINTH_DECRYPT_MESSAGE_SPROC_MULTIPLE_EPOCHS_ERROR:2872,LABYRINTH_WEB_ECHO_MESSAGE_RESTORE_BEGIN:3600,LABYRINTH_WEB_ISSUE_RESTORE_JOB_DONE:3601,LABYRINTH_WEB_INSERT_TO_BAKCUP_MESSAGE_TABLE_DONE:3602,LABYRINTH_WEB_RESTORE_WITH_SERIALIZER_START:3603,LABYRINTH_WEB_ISSUE_RESTORE_JOB_STARTED:3604,LABYRINTH_WEB_INSERT_TO_RESTORE_PAYLOAD_CONTEXT_TABLE_DONE:3605,LABYRINTH_WEB_XMA_RESTORE_STARTED:3606,LABYRINTH_WEB_XMA_RESTORE_ENDED:3607,LABYRINTH_WEB_XMA_RESTORE_MEDIAID_NULL:3608,LABYRINTH_WEB_XMA_RESTORE_DBXMA_NULL:3609,LABYRINTH_WEB_ISSUE_MESSAGE_RANGE_QUERY:3610,LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_INVALID_REQUEST:3700,LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_BEGIN:3701,LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_FAILURE:3702,LABYRINTH_WEB_UPLOAD_THREAD_NOT_PRESENT:3703,LABYRINTH_WEB_UPLOAD_THREAD_PRESENT:3704,LABYRINTH_WEB_UPLOAD_GET_SENDER_INFO_UNSUCCESSFUL:3705,LABYRINTH_WEB_UPLOAD_GET_SENDER_INFO_SUCCESSFUL:3706,LABYRINTH_WEB_UPLOAD_CONTACT_NAME_NULL:3707,LABYRINTH_WEB_UPLOAD_CONTACT_NAME_NOT_NULL:3708,LABYRINTH_WEB_UPLOAD_GET_RECEIPT_STATUS_LIST_SUCCESSFUL:3709,LABYRINTH_WEB_UPLOAD_GET_SENDER_DISPLAY_NAME_FOR_QUOTED_MSG_NULL:3710,LABYRINTH_WEB_UPLOAD_GET_SENDER_DISPLAY_NAME_FOR_QUOTED_MSG_NOT_NULL:3711,LABYRINTH_WEB_UPLOAD_XMA_DATA_UPLOAD_SUCCESSFUL:3712,LABYRINTH_WEB_UPLOAD_XMA_DATA_UPLOAD_UNSUCCESSFUL:3713,LABYRINTH_WEB_UPLOAD_INVALID_MSG_TYPE_FOR_MEDIA_TYPE:3714,LABYRINTH_WEB_UPLOAD_IS_MEDIA_MSG_TRUE:3715,LABYRINTH_WEB_UPLOAD_IS_MEDIA_MSG_FALSE:3716,LABYRINTH_WEB_UPLOAD_UNSUPPORTED_MEDIA_TYPE:3717,LABYRINTH_WEB_UPLOAD_NO_MEDIA_ID_FOUND_IN_MEDIA_MSG:3718,LABYRINTH_WEB_UPLOAD_NO_MEDIA_ENTRY_FOR_MEDIA_ID:3719,LABYRINTH_WEB_UPLOAD_GET_REACTION_DATA_SUCCESSFUL:3720,LABYRINTH_WEB_UPLOAD_GET_QUOTE_MSG_SUCCESSFUL:3721,LABYRINTH_WEB_UPLOAD_GET_QUOTE_SENDER_NAME_SUCCESSFUL:3722,LABYRINTH_WEB_UPLOAD_FB_ID_NULL_FOR_XMA_MSG:3723,LABYRINTH_WEB_UPLOAD_GET_XMA_DATA_SUCCESSFUL:3724,LABYRINTH_WEB_UPLOAD_NO_XMA_DB_ENTRY_FOR_EXTERNAL_ID:3725,LABYRINTH_WEB_UPLOAD_ECHO_MESSAGE_CREATION_SUCCESSFUL:3726,LABYRINTH_WEB_UPLOAD_MISSING_MEDIA_DATA_FOR_MEDIA_MSG:3727,LABYRINTH_WEB_UPLOAD_INVOKE_MESSAGE_UPLOAD_SPROC:3728,LABYRINTH_WEB_UPLOAD_ISSUE_MESSAGE_UPLOAD_UI_EVENT:3729,LABYRINTH_WEB_UPLOAD_USER_DEVICE_NOT_ENROLLED:3730,LABYRINTH_WEB_GET_BACKUP_TENANCY:3731,LABYRINTH_WEB_UPLOAD_ERROR_OCCURRED_ON_ISSUE_MESSAGE_UPLOAD_UI_EVENT:3739,LABYRINTH_WEB_UPLOAD_XMA_NOT_FOUND_IN_IDB:3740,LABYRINTH_WEB_UPLOAD_MEDIA_NOT_FOUND_FOR_XMA_IN_IDB:3741,LABYRINTH_WEB_UPLOAD_INVALID_ECHO_MESSAGE_SERIALIZATION_RESPONSE:3742,LABYRINTH_WEB_UPLOAD_DUPLICATE_REQUEST:3743,LABYRINTH_WEB_RETROACTIVE_BACKUPS_START_UPLOAD_MSG:3744,LABYRINTH_WEB_RETROACTIVE_BACKUPS_START_UPLOAD_MEDIA:3745,LABYRINTH_WEB_RETROACTIVE_BACKUPS_UPLOAD_MSG_ERROR:3746,LABYRINTH_WEB_RETROACTIVE_BACKUPS_UPLOAD_MEDIA_ERROR:3747,LABYRINTH_WEB_UPLOAD_XMA_DATA_IS_NULL:3748,LABYRINTH_WEB_UPLOAD_REPLIED_MESSAGE_NOT_IN_DB:3749,LABYRINTH_WEB_UPLOAD_REPLIED_MESSAGE_IN_DB:3750,MQTT_STATE_DISCONNECTED_EVENT:10000001,MQTT_STATE_CONNECTED_EVENT:10000002,APP_STATEBACKGROUND:10000003,APP_STATEFOREGROUND:10000004,MQTT_STATE_CONNECTING_EVENT:10000005,GLOBAL_CONNECTIVITY_BANNER_DISPLAY:10000006,GLOBAL_CONNECTIVITY_BANNER_VANISH:10000007,SWITCH_ACCOUNT_EVENT:10000008,ADVANCED_CRYPTO_MEM_WA_CONNECTION_DISCONNECTED_EVENT:10001205,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTING_EVENT:10001206,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTED_EVENT:10001207});f["default"]=a}),66);
__d("LSDataTraceType",[],(function(a,b,c,d,e,f){a=Object.freeze({TASK:1,SYNC:2,RECEIVE_MSG:3,RICH_MEDIA_SEND:4,RICH_MEDIA_DOWNLOAD:5,TASK_CLIENT_MODE:6,ENCRYPTED_BACKUPS_FETCH_BACKUP_STATUS:69,ENCRYPTED_BACKUPS_INIT:70,ENCRYPTED_BACKUPS_ADD_DEVICE:71,ENCRYPTED_BACKUPS_UPLOAD:72,ENCRYPTED_BACKUPS_RESTORE:73,ENCRYPTED_BACKUPS_DELETE_BACKUP:75,ENCRYPTED_BACKUPS_CREATE_EXTRA_VIRTUAL_DEVICE:76,ENCRYPTED_BACKUPS_QR_ADD_DEVICE:77,ENCRYPTED_BACKUPS_SYNC_EPOCHS:78,ENCRYPTED_BACKUPS_OPEN_EPOCH:79,ENCRYPTED_BACKUPS_OPT_OUT_OF_BACKUP:80,ENCRYPTED_BACKUPS_MEDIA_BACKUP:81,ENCRYPTED_BACKUPS_MEDIA_RESTORE:82,ENCRYPTED_BACKUPS_THIRD_PARTY_ID_GENERATION:83,ENCRYPTED_BACKUPS_FETCH_BACKUPS_METADATA:86,ENCRYPTED_BACKUPS_REMOVE_VIRTUAL_DEVICE:87,ENCRYPTED_BACKUPS_QR_ADD_DEVICE_RECEIVER:88,ENCRYPTED_BACKUPS_DERIVE_AND_STORE_EPOCHS:89,ENCRYPTED_BACKUPS_GET_OPEN_EPOCH_KEYS:90,ENCRYPTED_BACKUPS_END_TO_END_THREAD_RESTORE:190,SAP_VESTA_REGISTRATION:251,SAP_VESTA_LOGIN:252,ENCRYPTED_BACKUPS_SHADOW_FETCH_BACKUP_STATUS:197,ENCRYPTED_BACKUPS_SHADOW_INIT:198,ENCRYPTED_BACKUPS_SHADOW_ADD_DEVICE:199,ENCRYPTED_BACKUPS_SHADOW_UPLOAD:200,ENCRYPTED_BACKUPS_SHADOW_RESTORE:201,ENCRYPTED_BACKUPS_SHADOW_DELETE_BACKUP:203,ENCRYPTED_BACKUPS_SHADOW_CREATE_EXTRA_VIRTUAL_DEVICE:204,ENCRYPTED_BACKUPS_SHADOW_QR_ADD_DEVICE:205,ENCRYPTED_BACKUPS_SHADOW_SYNC_EPOCHS:206,ENCRYPTED_BACKUPS_SHADOW_OPEN_EPOCH:207,ENCRYPTED_BACKUPS_SHADOW_QR_ADD_DEVICE_RECEIVER:216,ENCRYPTED_BACKUPS_ENCRYPTION_VERSIONING_UPSERT_VERSION_DATA:240,ENCRYPTED_BACKUPS_ENCRYPTION_VERSIONING_DELETE_VERSION_DATA:241,ENCRYPTED_BACKUPS_ENCRYPTION_VERSIONING_SYNC_VERSION_DATA:242,ENCRYPTED_BACKUPS_MESSAGE_INTEGRITY_CHECKER:243});f["default"]=a}),66);
__d("LSInitSyncCompleteSubscription",["I64","LSIntEnum","Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,c){return new(j||(j=b("Promise")))(function(b,e){var f=d("ReQL").fromTableAscending(a.tables.sync_groups).getKeyRange(c).subscribe(function(a,c){if(c.operation==="delete")return;if((h||(h=d("I64"))).equal(c.value.syncStatus,(i||(i=d("LSIntEnum"))).ofNumber(2))){f();return b()}})})}function a(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.sync_groups).getKeyRange(b)).then(function(c){if(c!=null&&(h||(h=d("I64"))).equal(c.syncStatus,(i||(i=d("LSIntEnum"))).ofNumber(2)))return;return k(a,b)})}function c(a){return k(a,(i||(i=d("LSIntEnum"))).ofNumber(1))}g.maybeWaitForSyncGroup=a;g.use=c}),98);
__d("LSRemoveBlindedTokens",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(308).fetch(),function(b){return b.configId===a[0]}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSAnonymousCredentialsRemoveBlindedTokensStoredProcedure";a.__tables__=["secure_acs_blinded_tokens"];e.exports=a}),null);
__d("LSShape",["LSDict"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("LSDict").fromObject(a)}function b(a){return c("LSDict").shapeToRecord(a)}g.ofRecord=a;g.toRecord=b}),98);
__d("mergeHelpers",["invariant","FbtResultBase"],(function(a,b,c,d,e,f,g,h){"use strict";var i=36,j=function(a){return typeof a!=="object"||a instanceof Date||a===null||a instanceof c("FbtResultBase")},k={MAX_MERGE_DEPTH:i,isTerminal:j,normalizeMergeArg:function(a){return a==null?{}:a},checkMergeArrayArgs:function(a,b){Array.isArray(a)&&Array.isArray(b)||h(0,3714,a,b)},checkMergeObjectArgs:function(a,b){k.checkMergeObjectArg(a),k.checkMergeObjectArg(b)},checkMergeObjectArg:function(a){!j(a)&&!Array.isArray(a)||h(0,3715,a)},checkMergeIntoObjectArg:function(a){(!j(a)||typeof a==="function")&&!Array.isArray(a)||h(0,3716,a)},checkMergeLevel:function(a){a<i||h(0,3717)},checkArrayStrategy:function(a){a==null||a in k.ArrayStrategies||h(0,3718)},ArrayStrategies:{Clobber:"Clobber",Concat:"Concat",IndexByIndex:"IndexByIndex"}};a=k;g["default"]=a}),98);
__d("mergeDeepInto",["invariant","mergeHelpers"],(function(a,b,c,d,e,f,g){"use strict";var h=(c=b("mergeHelpers")).ArrayStrategies,i=c.checkArrayStrategy,j=c.checkMergeArrayArgs,k=c.checkMergeLevel,l=c.checkMergeObjectArgs,m=c.isTerminal,n=c.normalizeMergeArg,o=function(a,b,c,d){l(a,b);k(d);var e=b?Object.keys(b):[];for(var f=0;f<e.length;f++){var g=e[f];q(a,b,g,c,d)}},p=function(a,b,c,d){j(a,b);k(d);if(c===h.Concat)a.push.apply(a,b);else{var e=Math.max(a.length,b.length);for(var f=0;f<e;f++)q(a,b,f,c,d)}},q=function(a,b,c,d,e){var f=b[c];b=Object.prototype.hasOwnProperty.call(b,c);var i=b&&m(f),j=b&&Array.isArray(f),k=b&&!j&&!j,l=a[c],n=Object.prototype.hasOwnProperty.call(a,c),q=n&&m(l),r=n&&Array.isArray(l),s=n&&!r&&!r;q?i?a[c]=f:j?(a[c]=[],p(a[c],f,d,e+1)):k?(a[c]={},o(a[c],f,d,e+1)):b||(a[c]=l):r?i?a[c]=f:j?(d&&h[d]||g(0,5117),d===h.Clobber&&(l.length=0),p(l,f,d,e+1)):k&&(a[c]={},o(a[c],f,d,e+1)):s?i?a[c]=f:j?(a[c]=[],p(a[c],f,d,e+1)):k&&o(l,f,d,e+1):n||(i?a[c]=f:j?(a[c]=[],p(a[c],f,d,e+1)):k&&(a[c]={},o(a[c],f,d,e+1)))};function a(a,b,c){b=n(b);i(c);o(a,b,c,0)}f["default"]=a}),66);
__d("mergeDeep",["mergeDeepInto","mergeHelpers"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){var e;a=(e=c("mergeHelpers")).normalizeMergeArg(a);b=e.normalizeMergeArg(b);e.checkMergeObjectArgs(a,b);e.checkArrayStrategy(d);e={};c("mergeDeepInto")(e,a,d);c("mergeDeepInto")(e,b,d);return e}g["default"]=a}),98);
__d("LSVoprfLoggingUtils",["Env","MemoryUtils","QPLUserFlow","justknobx","mergeDeep","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=d("MemoryUtils").getCurrentMemory();a=a.usedJSHeapSize;return{"int":{usedJSHeapSizeStart:a}}}function k(a){var b=d("MemoryUtils").getCurrentMemory(),c=b.deviceMemory,e=b.jsHeapSizeLimit,f=b.totalJSHeapSize;b=b.usedJSHeapSize;return{"int":{deviceMemory:c,jsHeapSizeLimit:e,totalJSHeapSize:f,usedJSHeapSize:b,wasmMemorySize:a}}}function l(a){return(h||(h=c("performanceAbsoluteNow")))()-a}function a(a){var b=Math.floor(Math.random()*1e6);return{addPoint:function(d){c("QPLUserFlow").addPoint(a,d,{instanceKey:b})},addTimeSinceCreationAnnotation:function(){},addVoprfLoadedPoint:function(d){c("QPLUserFlow").addPoint(a,"loaded_xplat_react_voprf",{instanceKey:b}),c("QPLUserFlow").addAnnotations(a,{"int":{timeSinceVoprfInstanceCreationNs:l(d)}},{instanceKey:b})},endFailure:function(d){var e=d.error;d=d.wasmMemorySize;c("QPLUserFlow").addAnnotations(a,k(d));c("QPLUserFlow").endFailure(a,e.name,{error:e,instanceKey:b})},endSuccess:function(d){d=d.wasmMemorySize;c("QPLUserFlow").addAnnotations(a,k(d),{instanceKey:b});c("QPLUserFlow").endSuccess(a,{instanceKey:b})},start:function(){c("QPLUserFlow").start(a,{instanceKey:b,onFlowTimeout:function(d,e){c("QPLUserFlow").addAnnotations(a,k(),{instanceKey:b})},timeoutInMs:6e4}),c("QPLUserFlow").addAnnotations(a,c("mergeDeep")(j(),{string:{brsid:c("justknobx")._("3105")&&(i||(i=c("Env"))).brsid!=null?String((i||(i=c("Env"))).brsid):void 0}}),{instanceKey:b})}}}g.getMemoryAnnotationsStart=j;g.getMemoryAnnotationsEnd=k;g.getTimeSinceInstanceCreationNs=l;g.getAcsQplEventLogger=a}),98);
__d("MAWLoggerUtils",["Random"],(function(a,b,c,d,e,f,g){"use strict";c={CleanerPurge:"CleanerPurge",CleanerStart:"CleanerStart",CleanerTimestamp:"CleanerTimestamp",CleanerUpdate:"CleanerUpdate",Countdown:"Countdown",Ephemeral:"Ephemeral",Incoming:"Incoming",MsgCleaner:"MsgCleaner",OnLoad:"OnLoad",OnRead:"OnRead",Outgoing:"Outgoing",PeerReceipt:"PeerReceipt",SettingChange:"SettingChange",SettingSync:"SettingSync",DeviceRegistration:"DeviceRegistration",MessageReceive:"MessageReceive",MediaDownload:"MediaDownload",WorkerSetup:"WorkerSetup",MAWWorker:"MAWWorker",MAWInit:"MAWInit",LogoutHandler:"LogoutHandler",MiActMapping:"MiActMapping",ThreadReady:"ThreadReady"};function a(){return Math.floor(Date.now()+d("Random").random()*1e4+1e4)}function b(a){a=a.split("");return a.reduce(function(a,b){b=b.charCodeAt(0);a=(a<<5)-a+b;a&=a;return a},0)}g.Tag=c;g.getInstanceKey=a;g.getInstanceKeyFromId=b}),98);
__d("MAWTimeUtils",["FBLogger","I64","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return(h||(h=d("I64"))).of_float(a*1e3)}function j(a){a=Number(a);return a<=d("WATimeUtils").MAX_INT&&a!==-1e3&&a!==0}function a(a){if(j(a)){Number(a)!==-1&&c("FBLogger")("messenger_e2ee_web").mustfix("Invalid timestamp supplied to millisTimeToTimestamp: %s",Number(a));return i(a)}return(h||(h=d("I64"))).of_float(a)}function b(a,b){var c=Date.now();c=c-b*24*60*60*1e3;b=d("WATimeUtils").castMilliSecondsToUnixTime(c);return a>=b}function e(a){if(a==null)return;if(j(a)){Number(a)!==-1&&c("FBLogger")("messenger_e2ee_web").mustfix("Invalid timestamp supplied to ensureValidMillisTime: %s",Number(a));return d("WATimeUtils").castToMillisTime(a*1e3)}return a}f=(h||(h=d("I64"))).of_string("9999999999999");var k=Number.MAX_VALUE;g.toTimestamp=i;g.millisTimeToTimestamp=a;g.isTimestampNewerThanXDays=b;g.ensureValidMillisTime=e;g.MAX_TIMESTAMP_MS=f;g.MAX_TIMESTAMP=k;g.MIN_TIMESTAMP_MS=h.zero}),98);
__d("MWLSThread",["FBLogger","Promise","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(a){return a};function a(a,b){b===void 0&&(b=j);var e=(i||(i=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(a).map(function(a){return b(a)}):d("ReQL").empty()},[e,a],f.id+":29")}function e(a,b){b===void 0&&(b=j);var e=(i||(i=c("useReStore")))();return d("ReQLSuspense").useFirstExn(function(){return d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(a).map(function(a){var c;return(c=b==null?void 0:b(a))!=null?c:a})},[e,a],f.id+":48")}function k(a,b,e){e===void 0&&(e=j);a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b),f.id+":65");if(!a)throw c("FBLogger")("messenger_web").mustfixThrow("thread is null/undefined");return e(a)}function l(a,c,e){e===void 0&&(e=j);return c!=null?d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(c)).then(function(a){return a?e(a):void 0}):(h||(h=b("Promise"))).resolve(void 0)}g.useThread=a;g.useThreadExn=e;g.getThreadExn=k;g.getThreadAsync=l}),98);
__d("MWLSThreadDisplayContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k=i.createContext();function a(a){var b=a.children;a=a.value;return i.jsx(k.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(k)}g.MWLSThreadDisplayContextProvider=a;g.useMWLSThreadDisplayContext=b}),98);
__d("MWPActor.react",["Actor","CurrentMessengerUser","I64","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h,l=k.createContext,m=k.useContext,n=k.useMemo,o=l();function a(){var a=m(o),b=d("Actor").useActor(),c=b[0],e=n(function(){return(i||(i=d("I64"))).of_string(c)},[c]),f=d("CurrentMessengerUser").getPageMessagingMailboxId(),g=n(function(){return f!=="0"?(i||(i=d("I64"))).of_string(f):null},[f]);b=n(function(){return a!=null?a:g!=null?g:e},[e,a,g]);return b}function b(){return p()!=null}function e(){return c("gkx")("3378")}function p(){var a=d("CurrentMessengerUser").getPageMessagingMailboxId();return a==="0"?null:a}function q(a){var b=a.actorId;a=a.children;return b!=null?j.jsx(o.Provider,{value:b,children:a},(i||(i=d("I64"))).to_string(b)):a}q.displayName=q.name+" [from "+f.id+"]";g.useActor=a;g.isAPPlus=b;g.isPromode=e;g.getAPPlusMailboxId=p;g.MWPActorProvider=q}),98);
__d("MWPBumpEntityKey",["CurrentUser","ODS"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){(h||(h=d("ODS"))).bumpEntityKey(3185,a,b)}function a(a,b){var d=c("CurrentUser").getAppID();d=d==null?"unknown":d;return i(a,b+"."+d)}g.bumpEntityKey=i;g.bumpEntityKeyWithAppId=a}),98);
__d("WAArrayZip",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=Math.min(a.length,b.length);return a.slice(0,c).map(function(a,c){return[a,b[c]]})}f.zip=a}),66);
__d("WAHashStringToNumber",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=0;for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);b=(b<<5)-b+d;b|=0}return Math.abs(b)}f.hashStringToNumber=a}),66);
__d("WAPromiseCallSync",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c){try{for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];return(g||(g=b("Promise"))).resolve(a.apply(c,e))}catch(a){return(g||(g=b("Promise"))).reject(a)}}f.promiseCallSync=a}),66);
__d("WAPromiseManagement",["WAPromiseCallSync"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=null,c=function(){b||(b=d("WAPromiseCallSync").promiseCallSync(a)["finally"](function(){b=null}));return b};c.isPending=function(){return!!b};return c}function b(a,b){var c=new Map();return function(d){var e=a(d),f=c.get(e);if(f)return f;try{f=Promise.resolve(b(d))}catch(a){f=Promise.reject(a)}d=f["finally"](function(){return void c["delete"](e)});c.set(e,d);return d}}var h=new Set();function c(a){h.add(a),a["finally"](function(){h["delete"](a)})}g.nullaryCacheWhilePending=a;g.cacheWhilePending=b;g.preventGarbageCollection=c}),98);
__d("WAWasmModuleCache",["WAPromiseManagement","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=a.fetch,i=new Map();c=d("WAPromiseManagement").cacheWhilePending(function(a){return a},function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=i.get(a);if(b!=null)return b;b=(yield j(a));i.set(a,b);return b});return function(b){return a.apply(this,arguments)}}());function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=h(a);if(typeof WebAssembly.compileStreaming==="function")return WebAssembly.compileStreaming(a);a=(yield a);return WebAssembly.compile(yield a.arrayBuffer())});return k.apply(this,arguments)}g.loadWasmModule=c}),98);
__d("XPlatReactVoprf",["Promise","WAWasmModuleCache","asyncToGeneratorRuntime","performanceAbsoluteNow","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("LSVoprfWasm").__setRef("XPlatReactVoprf");function k(){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield j.load()),b=a.LSVoprfWasm,e=a.locateFile;a=(yield b({getWasmModule:function(){return d("WAWasmModuleCache").loadWasmModule(e())}}));var f,g;try{f=a.createCurveRistretto();g=a.createVoprfExpTwohashdh(f);b={voprfInfo:{curvePtr:f,voprfPtr:g},voprfWasm:a};return{instanceCreationTimestampNs:(i||(i=c("performanceAbsoluteNow")))(),voprfInstance:b}}catch(b){f!=null&&a.freeCurve(f);g!=null&&a.freeVoprf(g);throw b}});return l.apply(this,arguments)}function a(){return(h||(h=b("Promise"))).resolve(k())}function e(a){var b=a.voprfInfo;a=a.voprfWasm;var c=b.curvePtr;b=b.voprfPtr;a.freeCurve(c);a.freeVoprf(b)}g.loadXPlatReactVoprf=a;g.freeVoprfInstance=e}),98);
__d("isInstamadilloEB",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("670")===!0}g["default"]=a}),98);
__d("useAsyncReStore",["LSDatabaseSingleton","Promise","ReStoreProvider.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;c=i||d("react");var l=c.useContext,m=c.useMemo;function a(){var a=l((k||(k=d("ReStoreProvider.react"))).context);return m(function(){return a!=null?(h||(h=b("Promise"))).resolve(a):(j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton},[a])}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSMessagingThreadAttributionType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,UNKNOWN_TEST:1,UNKNOWN_FAILURE_RETRY:2,MESSENGER_INBOX:65536,MESSENGER_INBOX_IN_THREAD:65537,MESSENGER_INBOX_THREAD_LIST:65538,MESSENGER_INBOX_NESTED_FOLDER:65539,MESSENGER_INBOX_RECENT_THREADS:65540,MESSENGER_INBOX_REMAINING_THREADS:65541,MESSENGER_INBOX_MESSAGE_SEARCH:65542,MESSENGER_INBOX_IMAGE_SENDING:65543,MESSENGER_INBOX_FORWARD:65544,MESSENGER_INBOX_ARCHIVED_THREADS:65545,MESSENGER_INBOX_PENDING_REQUESTS:65546,MESSENGER_INBOX_ACTIVE_CONTACTS:65547,MESSENGER_INBOX_THREAD_BANNER_BOTTOM_SHEET:65548,MESSENGER_INBOX_PEOPLE_YOU_MAY_KNOW:65549,MESSENGER_INBOX_HOLIDAY_CARD_SHARE_SHEET:65550,MESSENGER_INBOX_HOLIDAY_CARD_SHARE_SHEET_QP:65551,MESSENGER_INBOX_META_AI_FAB:65552,MESSENGER_UNIVERSAL_SEARCH:131072,MESSENGER_UNIVERSAL_SEARCH_NULL_STATE:131073,MESSENGER_UNIVERSAL_SEARCH_KEY_PRESSED:131074,MESSENGER_UNIVERSAL_SEARCH_MESSAGE_SEARCH:131075,MESSENGER_UNIVERSAL_SEARCH_ADVANCED_CONTENT_SEARCH:131076,MESSENGER_UNIVERSAL_SEARCH_AI_PROMPT:131077,MESSENGER_UNIVERSAL_SEARCH_AI_TYPEAHEAD:131078,MESSENGER_UNIVERSAL_SEARCH_AI_TYPEAHEAD_AIRPLANE_SEND:131079,MESSENGER_UNIVERSAL_SEARCH_AI_TYPEAHEAD_KEYBOARD_SEND:131080,MESSENGER_UNIVERSAL_SEARCH_AI_TYPEAHEAD_DONUT:131081,MESSENGER_UNIVERSAL_SEARCH_AI_NULLSTATE_DONUT:131082,MESSENGER_UNIVERSAL_SEARCH_AI_NULLSTATE_AIRPLANE_SEND:131083,MESSENGER_UNIVERSAL_SEARCH_META_AI_SEARCH_RESULT:131084,MESSENGER_UNIVERSAL_SEARCH_AI_TYPEAHEAD_SNIPPET:131085,MESSENGER_UNIVERSAL_SEARCH_AI_TYPEAHEAD_KEYBOARD_SEND_SNIPPET:131086,MESSENGER_UNIVERSAL_SEARCH_SERP_SNIPPET:131087,MESSENGER_UNIVERSAL_SEARCH_SERP_SNIPPET_PILL:131088,MESSENGER_UNIVERSAL_SEARCH_AI_DISCOVERY_MODULE:131089,MONTAGE_AND_ACTIVE_NOW:196608,MONTAGE_AND_ACTIVE_NOW_MONTAGE_INBOX_UNIT:196609,MONTAGE_AND_ACTIVE_NOW_ACTIVE_NOW:196610,MONTAGE_AND_ACTIVE_NOW_INBOX_COMPOSER:196611,MONTAGE_AND_ACTIVE_NOW_ACTIVE_AND_HAS_STORY:196612,MONTAGE_AND_ACTIVE_NOW_CUSTOM_STATUS:196613,MONTAGE_AND_ACTIVE_NOW_NOTES:196614,MONTAGE_AND_ACTIVE_NOW_SEE_ALL_ACTIVE:196615,MONTAGE_AND_ACTIVE_NOW_AN_TRAY_STORY_REPLY:196616,MESSENGER_ACTIVE_NOW_FRIENDS_TAB:262144,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_FRIENDS_TAB:262145,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_PLACE_HOLDER:262146,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_RECENT_ACTIVE:262147,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_RECENT_ACTIVE_AND_STORY:262148,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_CONTENT_DISCOVERY:262149,MESSENGER_PENDING_REQUESTS:327680,MESSENGER_PENDING_REQUESTS_INBOX_THREAD_LIST:327681,MESSENGER_PENDING_REQUESTS_PENDING_REQUESTS_PAGE:327682,MESSENGER_BROADCAST_FLOW:393216,MESSENGER_BROADCAST_FLOW_FROM_MESSENGER:393217,MESSENGER_BROADCAST_FLOW_FROM_FB:393218,MESSENGER_BROADCAST_FLOW_FROM_EXTERNAL:393219,MESSENGER_BROADCAST_FLOW_FROM_FB__NEWSFEED_SHARESHEET:393220,MESSENGER_BROADCAST_FLOW_FROM_FB__NEWSFEED_GOODWILL_COMPOSER:393221,MESSENGER_BROADCAST_FLOW_FROM_FB__SHORTS_VIEWER:393222,MESSENGER_BROADCAST_FLOW_FORWARD_GUTTER:393223,MESSENGER_BROADCAST_FLOW_FORWARD_LONGCLICK:393224,MESSENGER_BROADCAST_FLOW_MESSENGER_PHOTO_VIEW:393225,MESSENGER_OMNIPICKER:458752,MESSENGER_OMNIPICKER_NULL_STATE:458753,MESSENGER_OMNIPICKER_KEY_PRESSED:458754,MESSENGER_NOTIFICATION:524288,MESSENGER_NOTIFICATION_IN_THREAD_REPLY:524289,MESSENGER_NOTIFICATION_LONGPRESS_REPLY:524290,MESSENGER_NOTIFICATION_LONGPRESS_REACTION:524291,CLICK_TO_MESSENGER_AD:589824,CLICK_TO_MESSENGER_AD_FROM_NEWSFEED:589825,CLICK_TO_MESSENGER_AD_SEND_MESSAGE_CTA:589826,CLICK_TO_MESSENGER_AD_VIEW_AND_MESSAGE:589827,CLICK_TO_MESSENGER_AD_SEND_MESSAGE_CTA__NEWSFEED_CTM_ADS_CTA:589828,CLICK_TO_MESSENGER_AD_FROM_NEWSFEED_OPTIMISTIC_LTV:589829,CLICK_TO_MESSENGER_AD_FROM_NEWSFEED_LEAD_GEN:589830,PAYMENTS:655360,PAYMENTS_BUBBLE_CLICK:655361,RTC:720896,RTC_VOIP_INCALL:720897,RTC_DRAWER_PROMOTION:720898,FB_PAGE:786432,FB_PAGE_ABOUT_CARD:786433,FB_PAGE_PROFILE_HEADER_MESSAGE_BUTTON:786434,FB_PAGE_PROFILE_FOOTER_MESSAGE_BUTTON:786435,FB_PAGE_PROFILE_MORE_DRAWER:786436,FB_PAGE_RESPONSIVENESS_CONTEXT_CARD:786437,FB_PAGE_PYMM_RHC:786439,FB_PROFILE:851968,FB_PROFILE_TIMELINE_MESSAGE_BUTTON:851969,FB_PROFILE_FACEBOOK_PROFILE:851970,FB_PROFILE_MESSAGE_BUTTON:851971,FB_PROFILE_MESSAGE_BUTTON_BLOKS_URL:851972,FB_PROFILE_PROFILE_HEADER_COMPOSER:851973,FB_SEARCH:917504,FB_SEARCH_CONTEXTUAL_PROFILE_ACTION_BAR_FROM_SEARCH:917505,FB_SEARCH_SEARCH_MESSAGE_BUTTON:917506,FB_SEARCH_FB_MESSAGE_SEARCH_RESULTS:917507,FB_SEARCH_HIGH_CONFIDENCE_CARD:917508,FB_SEARCH_MENTIONS:917509,FB_SEARCH_NULLSTATE_CTA:917510,FB_SEARCH_NULL_STATE:917511,FB_SEARCH_TYPEAHEAD:917512,FB_SEARCH_TYPEAHEAD_AIRPLANE_SEND:917513,FB_SEARCH_TYPEAHEAD_KEYBOARD_SEND:917514,FB_SEARCH_TYPEAHEAD_DONUT:917515,FB_SEARCH_NULL_STATE_DONUT:917516,FB_SEARCH_NULL_STATE_AIRPLANE_SEND:917517,FB_SEARCH_NULL_STATE_KEYBOARD_SEND:917518,FB_SEARCH_SERP_PROMPT_SUGGESTIONS:917519,FB_SEARCH_AI_DISCOVERY_MODULE:917520,FB_SEARCH_TYPEAHEAD_AI_SHORTCUT:917521,CRYPTO:983040,MESSENGER_MONTAGE_COMPOSER:1048576,MESSENGER_MONTAGE_COMPOSER_FRIENDS_TAB:1048577,MESSENGER_MONTAGE_COMPOSER_FRIENDS_TAB_STORY_AND_ACTIVE_NOW:1048578,MESSENGER_MONTAGE_REPLY:1114112,MESSENGER_MONTAGE_REPLY_INBOX_THREAD_LIST_PROFILE:1114113,MESSENGER_MONTAGE_REPLY_REPLY_CONTEXT:1114114,MESSENGER_MONTAGE_REPLY_THREAD_NAV_BAR:1114115,MESSENGER_MONTAGE_REPLY_INBOX_THREAD_LIST_PROFILE_AUTHOR_PROFILE:1114116,MESSENGER_MONTAGE_REPLY_REPLY_CONTEXT_AUTHOR_PROFILE:1114117,MESSENGER_MONTAGE_REPLY_THREAD_NAV_BAR_AUTHOR_PROFILE:1114118,MESSENGER_MONTAGE_REPLY_ONE_TO_ONE_CHAT_THREAD_STORY_BUBBLE:1114119,MESSENGER_THREAD_MEMBERS_LIST:1179648,MARKETPLACE:1245184,MARKETPLACE_ACTIVITY_BANNER:1245185,MARKETPLACE_SEND_MESSAGE:1245186,MARKETPLACE_GEN_AI_ACCORDION_META_AI_PILL:1245187,MARKETPLACE_GEN_AI_ACCORDION_FOLLOW_UP_QUESTION:1245188,MARKETPLACE_GEN_AI_PRICE_CHECK_META_AI_PILL:1245189,MARKETPLACE_GEN_AI_PRICE_CHECK_FOLLOW_UP_QUESTION:1245190,MARKETPLACE_META_AI_PILLS_MODULE_META_AI_PILL_GENERIC:1245191,MARKETPLACE_META_AI_PILLS_MODULE_META_AI_PILL_WITH_PROMPT:1245192,MARKETPLACE_GEN_AI_ENRICHED_DESCRIPTION_META_AI_PILL_GENERIC:1245193,MARKETPLACE_GEN_AI_ENRICHED_DESCRIPTION_META_AI_PILL_WITH_PROMPT:1245194,FB_STORY:1310720,FB_STORY_VIEWER_SHEET_MENU:1310721,FB_STORY_VIEWER_SHEET_ROW:1310722,FB_STORY_STORIES_JEWEL_NOTIFICATION:1310723,FB_STORY_STORIES_PUSH_NOTIFICATION:1310724,FB_STORY_STORIES_VIEWER_CONSUMER_REPLY:1310725,FB_STORY_STORIES_VIEWER_CONSUMER_ARTIFACT:1310726,FB_STORY_STORIES_PAGE_STORY_CONVERSATIONS:1310727,FB_STORY_SOCIAL_CONTEXT_CONVERSATIONS:1310728,FB_STORY_MENTIONS:1310729,FB_STORY_SELF_STORY_SEND:1310730,FB_STORY_SHARESHEET:1310731,FB_STORY_NOTES:1310732,FB_STORY_TRY_META_AI_STICKER:1310733,FB_STORY_CHALLENGES_NOMINATION:1310734,WORKSPEED:1376256,WORKSPEED_COMPOSER_LIKE_BUTTON:1376257,WORKSPEED_COMPOSER_GIF_PICKER:1376258,MDOTME:1441792,MDOTME_ORGANIC_POST:1441793,MDOTME_MARKETING_EMAIL:1441794,MDOTME_MBS_OFFSITE_EMAIL:1441795,CUSTOMER_CHAT_PLUGIN:1507328,CUSTOMER_CHAT_PLUGIN_MOBILE_REDIRECT:1507329,CUSTOMER_CHAT_PLUGIN_UPGRADE_FLOW:1507330,CUSTOMER_CHAT_PLUGIN_RE_ENGAGEMENT:1507331,FB_FEED:1572864,FB_FEED_ORGANIC_POST:1572865,FB_FEED_ORGANIC_POST_VIEW_AND_MESSAGE:1572866,FB_FEED_QUESTION_TRIGGERED_CONVO:1572867,FB_FEED_DYNAMIC_HOVER_CARD:1572868,FB_FEED_ORGANIC_POST__NEWSFEED_PAGE_POST_CTA:1572869,FB_FEED_ORGANIC_POST__NEWSFEED_BUMPER_SMCTA:1572870,FB_FEED_BCF_OPEN_CHAT_BUTTON:1572871,FB_FEED_REACTORS_LIST_MESSAGE_BUTTON:1572872,FB_FEED_REPLY_TO_AUTHOR:1572873,FB_FEED_UFI_SEND_SUGGESTIONS:1572874,FB_FEED_BCF:1572875,FB_FEED_COMMUNITY_CHATS_FEED_POST:1572876,FB_FEED_SOCIAL_CONNECTIONS_QP:1572877,FB_FEED_META_AI_DEEP_DIVES:1572878,FB_FEED_META_AI_SHARE_SHEET:1572879,FB_FEED_META_AI_TRENDING_DISCOVER_UNIT:1572880,FB_FEED_META_AI_POST_DEEPDIVE_PILL:1572881,FB_FEED_META_AI_EDUCATIONAL_QP:1572882,FB_FEED_META_AI_ENTITY_SUMMARIZATION_DISCOVER_UNIT:1572883,FB_FEED_META_AI_COMMENTS_SUMMARY:1572884,FB_FEED_META_AI_FAB:1572885,FB_FEED_META_AI_ADS_CAMPAIGN:1572886,FB_FEED_META_AI_ANSWERSHEET:1572887,FB_FEED_META_AI_BOOKMARK:1572888,FB_FEED_META_AI_FAB_COMMENTS_SUMMARY:1572889,FB_NOTIFICATION:1638400,FB_NOTIFICATION_JEWEL_NOTIF:1638401,FB_NOTIFICATION_PUSH_NOTIF:1638402,FB_EVENT:1703936,FB_EVENT_MESSAGE_HOST:1703937,FB_EVENT_SHARE_CLASS_MATERIALS:1703938,SUPPORT_RESOURCES:1769472,SUPPORT_RESOURCES_FRX_ACTION:1769473,LEAD_GEN_MESSAGING:1835008,LEAD_GEN_MESSAGING_PRE_SUBMISSION:1835009,LEAD_GEN_MESSAGING_POST_SUBMISSION:1835010,LEAD_GEN_MESSAGING_CROSS_CHANNEL_VERTICAL_PRESENT_ANDROID:1835011,LEAD_GEN_MESSAGING_CROSS_CHANNEL_HSCROLL_ANDROID:1835012,MESSENGER_GRAPH:1900544,MESSENGER_GRAPH_SELECT_CONTACT:1900545,MESSENGER_CHAT:1966080,MESSENGER_CHAT_FROM_JEWEL__THREAD_LIST:1966081,MESSENGER_CHAT_IN_THREAD:1966082,MESSENGER_CHAT_FORWARD:1966083,MESSENGER_ARCHIVED_THREADS:2031616,MESSENGER_ARCHIVED_THREADS_ARCHIVED_THREADS_FOLDER:2031617,JEWEL:2097152,JEWEL_THREAD_LIST:2097153,JEWEL_SEARCH:2097154,JEWEL_NEW_MESSAGE:2097155,JEWEL_NESTED_FOLDER:2097156,CHATHEADS:2162688,CHATHEADS_RECENT_THREADS:2162689,CHATHEADS_OVERFLOW:2162690,CHATHEADS_NEW_MESSAGE:2162691,SIDEBAR:2228224,SIDEBAR_CONTACTS_LIST:2228225,SIDEBAR_CONTACTS_SEARCH:2228226,SIDEBAR_CONTACTS_GROUPS:2228227,SIDEBAR_CONTACTS_COMMUNITY_CHATS:2228228,MESSENGER_COMMUNITY_MESSAGING:2293760,MESSENGER_COMMUNITY_MESSAGING_COMMUNITY_CHANNEL:2293761,MESSENGER_COMMUNITY_MESSAGING_FULLSCREEN_CHAT:2293762,MESSENGER_COMMUNITY_MESSAGING_CHANNEL_CREATION_NOTIFICATION:2293763,MESSENGER_COMMUNITY_MESSAGING_FRIEND_JOINED_COMMUNITY_CHAT_NOTIFICATION:2293764,FB_PLATFORM_LOGIN:2359296,FB_PLATFORM_LOGIN_LOGIN_CONNECT_WITH_MESSENGER:2359297,CONTACT_MANAGER:2424832,CONTACT_MANAGER_CONTACT_SHARE:2424833,CONTACT_MANAGER_PEOPLE_TAB_CONTACT_LIST:2424834,CONTACT_MANAGER_PEOPLE_TAB_CONTACT_SEARCH:2424835,CONTACT_MANAGER_ICON_CONTACT_LIST:2424836,CONTACT_MANAGER_ICON_CONTACT_SEARCH:2424837,MESSAGING_INBOX_IN_BLUE:2490368,MESSAGING_INBOX_IN_BLUE_THREAD_LIST:2490369,MESSAGING_INBOX_IN_BLUE_PEOPLE_PICKER:2490370,MESSAGING_INBOX_IN_BLUE_INBOX_ICON:2490371,MESSAGING_INBOX_IN_BLUE_SWIPE_FROM_RIGHT:2490372,MESSAGING_INBOX_IN_BLUE_MIB_NOTIFICATION:2490373,MESSAGING_INBOX_IN_BLUE_ACTIVE_NOW:2490374,MESSAGING_INBOX_IN_BLUE_SUGGESTED_CHATS:2490375,MESSAGING_INBOX_IN_BLUE_CHAT_PREVIEW_BANNER:2490376,MESSAGING_INBOX_IN_BLUE_THREAD_VIEW_CORE_NULL_STATE:2490377,MESSAGING_INBOX_IN_BLUE_MESSAGE_REQUESTS:2490378,MESSAGING_INBOX_IN_BLUE_SPAM:2490379,MESSAGING_INBOX_IN_BLUE_FB_GROUPS:2490380,MESSAGING_INBOX_IN_BLUE_MESSENGER_PEEK_STATE_BUTTON:2490381,MESSAGING_INBOX_IN_BLUE_MESSENGER_PEEK_STATE_TOOLTIP:2490382,MESSAGING_INBOX_IN_BLUE_BROADCAST_FLOW:2490383,MESSAGING_INBOX_IN_BLUE_THREAD_VIEW_HEADER:2490384,MESSAGING_INBOX_IN_BLUE_PRIVACY_SETTINGS:2490385,MESSAGING_INBOX_IN_BLUE_ARCHIVED_CHATS:2490386,MESSAGING_INBOX_IN_BLUE_UNIVERSAL_SEARCH:2490387,MESSAGING_INBOX_IN_BLUE_INBOX_SEARCH_BAR:2490388,MIB_NOTIFICATION:2555904,MIB_NOTIFICATION_PUSH_NOTIFICATION:2555905,MIB_NOTIFICATION_JEWEL_NOTIFICATION:2555906,MIB_NOTIFICATION_DIRECT_PUSH_NOTIF:2555907,MIB_NOTIFICATION_DIRECT_JEWEL_NOTIF:2555908,MESSENGER_RESTRICTED_ACCOUNTS:2621440,ARMADILLO_CUTOVER_THREAD_LINKING_MESSAGE:2686976,CALLS_TAB:2752512,MINI_SHOP_VIEW_MENU_BUTTON:2818048,SHARESHEET:2883584,SHARESHEET_GENERALIZED_BROADCAST_FLOW:2883585,SHARESHEET_OFF_PLATFORM_SHARING_H_SCROLL:2883586,SHARESHEET_BROADCAST_CHANNEL:2883587,UFI:2949120,UFI_GENERALIZED_BROADCAST_FLOW:2949121,CHATHEAD_CLICK_COLLAPSED:3014656,TIMELINE_MESSAGE_BUTTON:3080192,DIRECT_REPLY_INTENT:3145728,FB_GROUPS:3211264,FB_GROUPS_INBOX:3211265,FB_GROUPS_PICKER_EXISTING_CHAT:3211266,FB_GROUPS_PICKER_JOIN_CHAT:3211267,FB_GROUPS_MEMBER_LIST:3211268,FB_GROUPS_INLINE_COMPOSER:3211269,FB_GROUPS_SCOPED_SEARCH:3211270,FB_GROUPS_UNJOINED_MALL_HEADER:3211271,FB_GROUPS_DISCOVER_FEED_UNIT:3211272,FB_GROUPS_ANSWER_AGENT_CONTEXTUAL_PROFILE:3211273,FB_GROUPS_ANSWER_AGENT_FOLLOWUP_SECTION:3211274,FB_GROUPS_NOTIFICATION_MESSAGING_IN_BLUE_DIRECT_MESSAGE:3211275,FB_GROUPS_UGC:3211276,FB_GROUPS_UGC_POST:3211277,FB_GROUPS_UGC_MALL_PLINK:3211278,FB_GROUPS_UGC_MALL_NUX:3211279,FB_GROUPS_UGC_ADMIN_TESTING:3211280,FB_GROUPS_UGC_INTRO_POST:3211281,FB_GROUPS_UGC_QP:3211282,FB_GROUPS_UGC_DEEP_DIVE_GET_ANSWER_PILL:3211283,FB_GROUPS_UGC_DEEP_DIVE_PILL:3211284,FB_GROUPS_UGC_FAB:3211285,FB_GROUPS_UGC_REMINDER_NOTIF:3211286,DEVICES:3276800,DEVICES_STELLA:3276801,FB_WELLBEING:3342336,FB_WELLBEING_INCALL_UNBLOCKING_NOTIFICATION:3342337,MESSENGER_DEEP_LINKING:3407872,READ_ONLY_CUTOVER_THREAD:3473408,READ_ONLY_CUTOVER_THREAD_ARMADILLO_THREAD:3473409,ARMADILLO_THREAD:3538944,ARMADILLO_THREAD_READ_ONLY_CUTOVER_THREAD:3538945,ARMADILLO_THREAD_EXTERNAL_LINK:3538946,FB_SHORTS:3604480,FB_SHORTS_PROFILE:3604481,FB_SHORTS_REACTORS_LIST_MESSAGE_BUTTON:3604482,SEND_PLUGIN:3670016,SEND_AS_MESSAGE_FROM_NT:3735552,MESSENGER_PUBLIC_CHATS_MESSAGING:3801088,MESSENGER_GROWTH:3866624,MESSENGER_GROWTH_NOTIFICATIONS_ENTRYPOINT:3866625,FRIENDS_HOME:3932160,FRIENDS_HOME_ACTIVE_NOW:3932161,FRIENDS_HOME_MESSAGE_NEW_FRIENDS:3932162,FRIENDS_HOME_POST_ACCEPT_MESSAGING:3932163,FRIENDS_HOME_SENDER_POST_ACCEPT_WAVE:3932164,EXTERNAL_LINK_XMA:3997696,EXTERNAL_LINK_XMA_FROM_COMPOSER:3997697,EXTERNAL_LINK_XMA_FROM_DEEP_LINKING:3997698,EXTERNAL_LINK_XMA_FROM_SHARE_EXTENSION:3997699,FB_NOTIFICATIONS:4063232,QUICK_PROMOTION:4128768,QUICK_PROMOTION_CTA:4128769,QUICK_PROMOTION_INTERSTITIAL:4128770,QUICK_PROMOTION_TOP_BANNER:4128771,FBM_IN_APP_NOTIFS:4194304,CREATOR_SUPPORT:4259840,CREATOR_SUPPORT_MESSENGER_TOAST:4259841,FB_INSTANT_GAME:4325376,COMMUNITY_CHATS_IN_FEED:4390912,COMMUNITY_CHATS_IN_FEED_PERMALINK:4390913,UNIFIED_BUSINESS_INBOX:4456448,ROLLCALL:4521984,HIGHLIGHTS_TAB:4587520,HIGHLIGHTS_TAB_FEED_INLINE:4587521,HIGHLIGHTS_TAB_MEDIA_VIEWER:4587522,HIGHLIGHTS_TAB_THREAD_VIEW:4587523,HIGHLIGHTS_TAB_FEED_INLINE_CONNECTED_CHAT:4587524,HIGHLIGHTS_TAB_FEED_INLINE_LOCAL_EVENT:4587525,HIGHLIGHTS_TAB_FEED_INLINE_FRIENDS_UPDATE:4587526,HIGHLIGHTS_TAB_FEED_INLINE_BIRTHDAY:4587527,HIGHLIGHTS_TAB_MEDIA_VIEWER_CONNECTED_CHAT:4587528,HIGHLIGHTS_TAB_MEDIA_VIEWER_FRIENDS_UPDATE:4587529,HIGHLIGHTS_TAB_THREAD_VIEW_CONNECTED_CHAT:4587530,HIGHLIGHTS_TAB_THREAD_VIEW_LOCAL_EVENT:4587531,HIGHLIGHTS_TAB_THREAD_VIEW_FRIENDS_UPDATE:4587532,HIGHLIGHTS_TAB_THREAD_VIEW_BIRTHDAY:4587533,HIGHLIGHTS_TAB_THREAD_VIEW_NOTE:4587534,HIGHLIGHTS_TAB_FEED_INLINE_NOTE:4587535,HIGHLIGHTS_TAB_CONNECTED_BROADCAST_CHANNEL_SHARE_SHEET:4587536,HIGHLIGHTS_TAB_SMART_REPLY_DRAWER_BIRTHDAY:4587537,HIGHLIGHTS_TAB_SHARE_SHEET_HOLIDAY_CARD:4587538,HIGHLIGHTS_TAB_META_AI_BIRTHDAY:4587539,HIGHLIGHTS_TAB_QUICK_REACT_CONNECTED_CHAT:4587540,HIGHLIGHTS_TAB_QUICK_REACT_LOCAL_EVENT:4587541,HIGHLIGHTS_TAB_QUICK_REACT_FRIENDS_UPDATE:4587542,HIGHLIGHTS_TAB_QUICK_REACT_BIRTHDAY:4587543,HIGHLIGHTS_TAB_QUICK_REACT_STORIES:4587544,HIGHLIGHTS_TAB_QUICK_REACT_NOTE:4587545,HIGHLIGHTS_TAB_QUICK_REACT_LIFE_EVENT:4587546,MARKETPLACE_INBOX:4653056,ONE_TAP_MESSAGE_QUICK_SHARE:4718592,HIGHLIGHTS_TAB_STORIES_TRAY:4784128,FB_BIRTHDAY_CENTER:4849664,MESSENGER_SIRIKIT:4915200,MESSENGER_SIRIKIT_CALLKIT_QUICK_REPLY:4915201,MESSENGER_SIRIKIT_VOICE_COMMAND:4915202,CLICK_TO_SUBSCRIBE_AD:4980736,HIGHLIGHTS_TAB_SMART_REPLY_DRAWER:5046272,FB_UNIVERSAL_SEARCH:5111808,FB_UNIVERSAL_SEARCH_NULL_STATE_SUGGESTED:5111809,FB_UNIVERSAL_SEARCH_NULL_STATE_RECENT:5111810,FB_UNIVERSAL_SEARCH_QUERY_RESULTS:5111811,FBLITE_MESSAGING:5177344,FBLITE_MESSAGING_FROM_EXTERNAL:5177345,FBLITE_MESSAGING_FORWARD_FROM_BROADCAST_FLOW:5177346,FBLITE_MESSAGING_IN_THREAD:5177349,FBLITE_MESSAGING_ACTIVE_NOW:5177352,FBLITE_MESSAGING_ARCHIVED_CHATS:5177353,FBLITE_MESSAGING_SPAM:5177354,FBLITE_MESSAGING_MESSAGE_REQUESTS:5177355,FBLITE_MESSAGING_MARKETPLACE:5177356,FBLITE_MESSAGING_THREAD_MEMBERS_LIST:5177357,FBLITE_MESSAGING_READONLY_VERSION_OF_CUTOVER_THREAD:5177358,FBLITE_MESSAGING_NOTIFICATION:5242880,FBLITE_MESSAGING_NOTIFICATION_IN_THREAD_REPLY:5242881,FBLITE_MESSAGING_NOTIFICATION_DIRECT_REPLY:5242882,FBLITE_INBOX:5308416,FBLITE_INBOX_UNIVERSAL_SEARCH:5308417,FBLITE_INBOX_PEOPLE_PICKER:5308418,FBLITE_INBOX_RECENT_THREADS:5308419,FBLITE_INBOX_REMAINING_THREADS:5308420,SHARED_ALBUM:5373952,QUICK_REPLIES:5439488,QUICK_REPLIES_TRAY:5439489,MESSENGER_CTA_AFTER_CALL_ENDS:5505024,MESSENGER_CONVERSATION_SHORTCUT:5570560,CC_ADMIN_SEND_MESSAGE_HINT_CARD:5636096,CC_MEMBER_SEND_MESSAGE_HINT_CARD:5701632,MSGR_AVATAR_DETAILS:5767168,PRIVATE_SHARING_FORWARD_SUPER_SHARE_SHEET:5832704,MEMORIES:5898240,META_AI_TAB:5963776,MEMORIES_NOTIFICATION:6029312,MEMORIES_QUICK_PROMOTION:6094848,MEMORIES_HIGHLIGHTS_TAB:6160384,MEMORIES_LIST:6225920,MSGR_PYMK_LIST_SCREEN:6291456,INSTAGRAM_WEB_SENDS:6356992,AI_SUGGESTED_PROMPT_TRAY:6422528,AI_SUGGESTED_PROMPT_ICEBREAKER:6488064,COMMUNITY_INVITE:6553600,COMMUNITY_CHAT_INVITE:6619136,AI_DISCOVERY_BOTTOM_SHEET:6684672,IN_THREAD_INVITE_MODEL:6750208,SUPPORT_FOLDER:6815744,MARKETPLACE_PDP:6881280,QR_CODE:6946816,WRITE_WITH_AI:7012352,AI_HOME_CHAT_WITH_AI:7077888,AI_HOME_INBOX_QP:7143424,AI_AGENT_MESSAGE_SHARE:7208960,AI_HOME_FROM_THREAD:7274496,AI_HOME_FROM_THREAD_DETAIL:7274497,AI_HOME_FROM_THREAD_HEADER:7274498,AI_HOME_FROM_THREAD_META_AI_THREAD_DETAIL:7274499,AI_HOME_FROM_THREAD_META_AI_THREAD_HEADER:7274500,AI_HOME_FROM_FOLDER_LIST:7340032,AI_HOME_FROM_FB_BOOKMARK:7405568,FB_FANDOM:7471104,AI_HOME_INBOX_RETENTION_QP:7536640,MEMORIES_INBOX_TRAY:7602176,MESSENGER_VOICEMAIL:7667712,AI_UGC_FB_FEED_QP:7733248,MESSENGER_INBOX_IP_QP:7798784,COMMUNITY_GROUP_CHAT_UPGRADES_INVITE:7864320,MESSENGER_SECRET_CONVERSATIONS:7929856,MESSENGER_SECRET_CONVERSATIONS_SECRET_CONVERSATIONS_FOLDER:7929857,CROSS_CUSTOMER_SUPPORT:7995392,CROSS_CUSTOMER_SUPPORT_FB_HELP_CENTER_META_AI_CARD:7995393,AI_LOOKUP:8060928});f["default"]=a}),66);
__d("LSThreadMediaGalleryGroup",[],(function(a,b,c,d,e,f){a=Object.freeze({PHOTOS_AND_VIDEOS:0,FILES_ONLY:1,LINKS:2});f["default"]=a}),66);
__d("MAWAppVersion",["SiteData"],(function(a,b,c,d,e,f,g){"use strict";function a(){return"302.0."+c("SiteData").client_revision}function b(){return{primary:302,secondary:0,tertiary:c("SiteData").client_revision}}g.getVersionNumber=a;g.getAppVersionParts=b}),98);
__d("MAWCatQuery.graphql",["cr:11203"],(function(a,b,c,d,e,f,g){"use strict";f.exports=b("cr:11203")}),34);
__d("MAWCatQuery",["MAWCatQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h!==void 0?h:h=b("MAWCatQuery.graphql");c=a;g["default"]=c}),98);
__d("MAWCatQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23999698219677129"}),null);
__d("MAWCatQuery.instagram.graphql",["MAWCatQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"SecureMessageOverWACATGraphResult",kind:"LinkedField",name:"secure_message_over_wa_cat_query",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"encrypted_serialized_cat",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"expiration_time_in_seconds",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWCatQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MAWCatQuery",selections:a},params:{id:b("MAWCatQuery_instagramRelayOperation"),metadata:{},name:"MAWCatQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MAWConsoleLogger",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=c("gkx")("2656");function a(a,b,c){if(h){var d=c.map(function(a){return"["+a+"]"}).join("");for(var e=arguments.length,f=new Array(e>3?e-3:0),g=3;g<e;g++)f[g-3]=arguments[g];if(d){var i;(i=console)[a].apply(i,[d,b].concat(f))}else{var j;(j=console)[a].apply(j,[b].concat(f))}}}g.logToConsole=a}),98);
__d("MAWCryptoAuthToken",["CometRelay","FBLogger","MAWCatQuery"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a==null||a.secure_message_over_wa_cat_query==null||a.secure_message_over_wa_cat_query.encrypted_serialized_cat==null||a.secure_message_over_wa_cat_query.expiration_time_in_seconds==null?{error:"Crypto Auth Token was null or incomplete"}:{success:{encrypted_serialized_cat:a.secure_message_over_wa_cat_query.encrypted_serialized_cat,expiration_time_in_seconds:a.secure_message_over_wa_cat_query.expiration_time_in_seconds}}}function a(a){return d("CometRelay").fetchQuery(a,c("MAWCatQuery"),{}).toPromise().then(h).then(function(a){if(a.error!==null&&a.error!==void 0)throw c("FBLogger")("maw_device_reg").mustfixThrow("[MAWCryptoAuthToken] Error while fetching CAT from GraphQL: %s",a.error);return a.success})}g.processCatResponse=h;g.fetchFreshCAT=a}),98);
__d("MAWLogIndexedDb",["MAWCurrentUser","MAWErrorObject","MAWIndexedDbMetadata","MAWQplProxy","MAWTransactionMode","Promise","WAExceededStorageQuota","err","justknobx","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null,j=null;function k(){return c("justknobx")._("1399")}function l(){if(i==null)throw c("err")("LogDB IndexDB should've been initialized");return i}function m(){return j==null?o().then(function(){return l()}):j.then(function(){return l()})}function a(){return i!=null}var n=[function(a){a=a.target.transaction;d("WAExceededStorageQuota").listenToQuotaExceededError(a);a=a.db.createObjectStore("logs",{autoIncrement:!0,keyPath:"id"});a.createIndex("date","date",{unique:!1})}];function o(a){if(j!=null)return j;if(i!=null)return(h||(h=b("Promise"))).resolve();var c=d("MAWCurrentUser").getID(),e=d("MAWIndexedDbMetadata").logDbName(c),f=(a=(c=a)!=null?c:k())!=null?a:n.length;j=new(h||(h=b("Promise")))(function(a,b){var c=indexedDB.open(e,f);c.onupgradeneeded=function(a){for(var b=0;b<n.length;b++){var c=n[b];p(a,b+1)&&c(a)}};c.onsuccess=function(b){var c=b.target.result;c.onversionchange=function(){c.close()};i=c;a()};c.onerror=function(){b(c.error)}});return j}function p(a,b){var c=a.newVersion;a=a.oldVersion;return a<b&&c>=b}function q(a){return a===d("MAWTransactionMode").READWRITE?"readwrite":"readonly"}function e(a,b,e){var f=q(b);return function(b){return function(){for(var g=arguments.length,h=new Array(g),i=0;i<g;i++)h[i]=arguments[i];var j=e!=null?d("MAWQplProxy").startQplUserFlow(e):null;return m().then(function(c){var e=function(b){b=c.transaction(a,b!=null?q(b):f,{durability:"relaxed"});d("WAExceededStorageQuota").listenToQuotaExceededError(b);return b.objectStore(a)};return b.apply(void 0,[e].concat(h))}).then(function(a){j==null?void 0:j.endSuccess();return a})["catch"](function(a){j==null?void 0:j.endFail("transaction_fail");a=d("MAWErrorObject").getErrorObject(a);throw c("unrecoverableViolation")("LOG - Error performing transaction in log transactor","maw_db",a?{error:a}:{})})}}}g.getLogDbVersion=k;g.getLogDB=l;g.isLogDBInitted=a;g.dbMigrations=n;g.makeLogMsgrTransactor=e}),98);
__d("MAWSaveLogToDisk",["Deferred","MAWLogIndexedDb","MAWTransactionMode","Promise","asyncToGeneratorRuntime","justknobx","pageID","promiseDone","throttle"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("justknobx")._("1403");f=c("justknobx")._("1404");var j=c("justknobx")._("1401");function k(a){if(Number.isInteger(a))return a;if(typeof a==="string")return(a||"").replace(/\n/g,"");try{return JSON.stringify(a)}catch(a){return"Data could not be serialized"}}function l(a,b){b===void 0&&(b="");return a.length>0?"["+a.join("|")+"]":b}function m(a){switch(a){case"logRestricted":return"warn";case"debug":case"log":case"warn":case"error":return a}}function a(a){return{args:a.logString,date:a.date,event:l(a.tags,"[]"),level:m(a.logLevel)}}function e(a,b,c,d,e,f){return{args:a+"; ERROR="+c.message+";",data:{entriesToReport:e,error:c,framesToPop:d,stack:f},date:Date.now(),event:l(b,"[]"),level:"error"}}var n=[],o=[],p=5,q=0,r=!1,s=function(){n.length=0},t=function(a){a=y(a);o.length<p?o.push(a):o[q%p]=a;q=(q+1)%p},u=function(a){var c=[],d=0;while(d<a){var e=((q-d-1)%p+p)%p;e=o[e];c.push(e);d++}return(h||(h=b("Promise"))).resolve(c)},v=function(a,b){n.push({context:a,logEntry:b}),t({context:a,logEntry:b}),n.length>i?c("promiseDone")(w()):x()},w=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){r=!0;try{var a=[].concat(n);s();yield z(a)}catch(a){}r=!1});return function(){return a.apply(this,arguments)}}(),x=c("throttle")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(r)return;r=!0;try{var a=[].concat(n);s();yield z(a)}catch(a){}r=!1}),f),y=function(a){var b=a.context;a=a.logEntry;return Object.entries(a).reduce(function(a,b){var c=b[0];b=b[1];a[c]=k(b);return a},babelHelpers["extends"]({},a,{category:b+"-"+c("pageID")}))},z=d("MAWLogIndexedDb").makeLogMsgrTransactor("logs",d("MAWTransactionMode").READWRITE)(function(a,b){var d=new(c("Deferred"))(),e=a();b.forEach(function(a){e.add(y(a))});e.transaction.oncomplete=function(){return d.resolve()};e.transaction.onerror=function(a){return d.reject(a)};return d.getPromise()});f=d("MAWLogIndexedDb").makeLogMsgrTransactor("logs",d("MAWTransactionMode").READONLY)(function(a){var b=new(c("Deferred"))();a=a();a=a.getAll();a.onsuccess=function(a){a=a.target.result;a=a.slice(Math.max(0,a.length-j));b.resolve(a)};a.onerror=function(a){return b.reject(a)};return b.getPromise()});var A=function(a){if(a<=o.length)return u(a);else return B(a)},B=d("MAWLogIndexedDb").makeLogMsgrTransactor("logs",d("MAWTransactionMode").READONLY)(function(a,b){var d=new(c("Deferred"))();a=a();a=a.index("date");a=a.openCursor(null,"prev");var e=[];a.onsuccess=function(a){a=a.target.result;if(a==null){d.resolve(e);return}e.push(a.value);if(e.length>=b){d.resolve(e);return}a["continue"]()};a.onerror=function(a){return d.reject(a)};return d.getPromise()});g.joinTags=l;g.formatLog=a;g.formatErrorForLogging=e;g.clearLogEntryCache=s;g.saveLogEntry=v;g.forceCachedLogEntryPersist=w;g.getEntries=f;g.getLastNEntries=A}),98);
__d("MAWDeleteOldLogsFromDisk",["Deferred","MAWLogIndexedDb","MAWSaveLogToDisk","MAWTransactionMode","WALogger","asyncToGeneratorRuntime","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to delete old logs: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to delete old logs: ",""]);j=function(){return a};return a}var k=c("justknobx")._("1400"),l=c("justknobx")._("1401"),m=c("justknobx")._("1402"),n=(f=d("MAWLogIndexedDb")).makeLogMsgrTransactor("logs",(h=d("MAWTransactionMode")).READONLY)(function(a){var b=new(c("Deferred"))();a=a();a=a.count();a.onsuccess=function(a){a=a.target.result;b.resolve(a)};a.onerror=function(a){b.reject(a)};return b.getPromise()}),o=f.makeLogMsgrTransactor("logs",h.READONLY)(function(a,b){var d=new(c("Deferred"))();a=a();var e=[];a=a.index("date");a=a.openCursor();a.onsuccess=function(a){a=a.target.result;if(a==null||!b(a.value,e)){d.resolve(e);return}e.push(a.value.id);a["continue"]()};a.onerror=function(a){d.reject(a)};return d.getPromise()}),p=f.makeLogMsgrTransactor("logs",h.READWRITE)(function(a){var b=new(c("Deferred"))();a=a();a=a.clear();a.onsuccess=function(){return b.resolve()};a.onerror=function(a){return b.reject(a)};d("MAWSaveLogToDisk").clearLogEntryCache();return b.getPromise()}),q=f.makeLogMsgrTransactor("logs",h.READWRITE)(function(a,b){var d=new(c("Deferred"))(),e=a();b.forEach(function(a){return e["delete"](a)});e.transaction.oncomplete=function(){return d.resolve()};e.transaction.onerror=function(a){return d.reject(a)};return d.getPromise()});function r(a,b){b=Date.now()-m;return a!=null&&a.date<=b}function s(a){return function(b,c){return c.length<a}}function a(){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield n());if(a===0)return;a=a-l;if(a>0){a=(yield o(s(a)));yield q(a);return}a=(yield o(r));a.length>0&&(yield q(a))}catch(a){d("WALogger").ERROR(j(),a)}});return t.apply(this,arguments)}function e(){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield n());if(a===0)return;if(a>=k){yield p();return}}catch(a){d("WALogger").ERROR(i(),a)}});return u.apply(this,arguments)}g.clearLogs=p;g.deleteOldLogs=a;g.deleteOldLogsOnStartup=e}),98);
__d("MAWEncryptedBackupsStateManager",["MAWEBSwitch"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case 1:return;case 3:c("MAWEBSwitch").set(!0);return;case 2:case 4:default:c("MAWEBSwitch").set(!1);return}}function b(a){return a===4||a===3}g.setEncryptedBackupsState=a;g.eligibleForEBUX=b}),98);
__d("MAWLeakDetection",[],(function(a,b,c,d,e,f){"use strict";var g="[Vault] Vaulted string detected";function h(a){var b=/\d{10}##\d{10}/gm;return b.test(a)}function a(a){return h(a)?g:a}f.VAULTED_STRING_DETECTED=g;f.detectVaultedString=h;f.maybeReplaceVaultedString=a}),66);
__d("MAWLoggingSwitches",["gkx"],(function(a,b,c,d,e,f,g){"use strict";a=c("gkx")("503");g.removeLoggingFromBridge=a}),98);
__d("MAWThreadUtils",["LSIntEnum","WAJids"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c){return a.threads.where("jid").equals(b).modify(c)}function b(a){a=d("WAJids").switchOnMsgrChatJidType(a,{group:function(){return(h||(h=d("LSIntEnum"))).ofNumber(16)},user:function(){return(h||(h=d("LSIntEnum"))).ofNumber(15)}});return a}g.updateThreadWithJid=a;g.getLSThreadTypeFromJid=b}),98);
__d("WAAbPropsTypes",[],(function(a,b,c,d,e,f){"use strict";a={noyb_opt_out_flag:[3488,"bool",!1,!1],service_improvement_opt_out_flag:[3664,"bool",!1,!1],msgrw_test_bool:[704,"bool",!1,!1],msgrw_test_int:[705,"int",0,0],msgrw_test_string:[706,"string","test_string","test_string"],msgrw_test_float:[707,"float",1,1],msgrw_icdc_alert_trigger_failure_count:[1233,"int",8,8],msgrw_icdc_cooldown_interval_in_minutes:[1234,"int",35,35],msgrw_icdc_interval_in_minutes:[1236,"int",1500,1500],msgrw_logger_entries:[1298,"int",0,0],msgrw_max_keys:[2453,"int",812,812],msgrw_job_manager_conf:[2667,"string",'{"maxConcurrency": 5,"bestEffortWaitTimeoutSec": 300,"highPriorityQuota":5,"lowPriorityQuota":1}','{"maxConcurrency": 5,"bestEffortWaitTimeoutSec": 300,"highPriorityQuota":5,"lowPriorityQuota":1}'],client_group_participants_limit:[618,"int",257,257],client_group_name_length_limit:[1200,"int",25,25]};f.ABPropConfigs=a}),66);
__d("WAAbPropsToUI",["WAAbPropsTypes"],(function(a,b,c,d,e,f,g){"use strict";var h=["client_group_participants_limit","client_group_name_length_limit"];function a(a){var b=a!=null?a:{},c={};h.forEach(function(a){b[a]!=null?c[a]=b[a]:c[a]=d("WAAbPropsTypes").ABPropConfigs[a][2]});return c}g.prepareAbPropsForUI=a}),98);
__d("WADevToolsBridge",["WADynamicRouterAsync"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("WADynamicRouterAsync").DynamicRouter)();function a(){return h}g.getDevToolBridge=a}),98);
__d("WAOfflineUtils",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["INIT","OFFLINE_RESUME","ONLINE"]);c=b("$InternalEnum")({Initializing:"initializing",Failed:"failed",Processing:"processing",Complete:"complete"});f.ServerRPCMode=a;f.WAClientInfraOfflineProgress=c}),66);
__d("isMAWUniversalSearchWithEBEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("6530")}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("IndexedDbPolyfills",[],(function(a,b,c,d,e,f){"use strict";var g=function(){function a(){this.$1=new Map()}var b=a.prototype;b.emit=function(a){var b=this.$1.get(a);for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];if(b!==void 0)for(var f=b,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}var j=i;j.apply(void 0,d)}var k=this["on"+a];k!=null&&k.apply(void 0,d)};b.addEventListener=function(a,b,c){var d=this;c===void 0&&(c={});c=c;c=c.signal;var e=this.$1.get(a);e===void 0&&(e=new Set(),this.$1.set(a,e));e.add(b);c!=null&&(c.onabort=function(){d.removeEventListener(a,b)})};b.removeEventListener=function(a,b){a=this.$1.get(a);if(a===void 0)return;a["delete"](b)};return a}();a=function(){return function(a,b){a=this.openCursor((a=a)!=null?a:null);var c=[],d=new g();a.onsuccess=function(a){a=a.target.result;if(a!=null&&(b===void 0||c.length<b))c.push(a.value),a["continue"]();else{d.result=c;d.onsuccess==null?void 0:d.onsuccess({target:{readyState:"done",result:c}});return}};a.onerror=function(a){d.onerror==null?void 0:d.onerror(a)};return d}};b=typeof window!=="undefined"?window:self;typeof b.IDBObjectStore!=="undefined"&&b.IDBObjectStore.prototype.getAll===void 0&&(b.IDBObjectStore.prototype.getAll=a());f.IDBRequest=g;f.getAll=a}),66);
__d("LocalStorageWrapper",["CurrentMessengerUser","WAResultOrError","isQuotaExceededError","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("PersistedQueue").__setRef("LocalStorageWrapper");function i(a){var b=null;try{b=window.localStorage;if(b!=null&&typeof b.setItem==="function"&&typeof b.removeItem==="function"){var c="__test__"+Date.now();b.setItem(c,"");b.removeItem(c)}else return null}catch(c){if(d("isQuotaExceededError").isStorageQuotaExceededError(b,c)===!1){a("Failed to get localstorage");return null}}return b}function a(a){try{a=i(a);return a!=null}catch(a){return!1}}function j(a){try{var b=0,c={};for(var d in a){if(!Object.prototype.hasOwnProperty.call(a,d))continue;var e=(a[d].length+d.length)*2;b+=e;e/1024>1e3&&(c[d.substr(0,50)]=(e/1024).toFixed(2))}c.total=(b/1024).toFixed(2);return JSON.stringify(c)}catch(a){return"Can't calculate localStorage"}}function b(a,b,c,e,f){if(a==null)return d("WAResultOrError").makeError("null-storage");try{f!==void 0?k(a,b,c,f):a.setItem(b,c)}catch(f){if(d("CurrentMessengerUser").isEmployee()){var g=j(a);h.onReady(function(a){a=a.isQueueActivateExperiment().toString();e(f+" - Storage quota exceeded while setting "+b+":"+c+", queueActivateExp:"+a+" "+g)})}else e(f+" - Storage quota exceeded while setting "+b+":"+c);return d("WAResultOrError").makeError("quota-exceeded")}return d("WAResultOrError").makeResult()}function k(a,b,c,d){try{a.setItem(b,c)}catch(e){d(e),a.setItem(b,c)}}function e(a,b,c){a==null?c("not storage found"):a.removeItem(b)}function f(a,b,c){if(a==null){c("not storage found");return null}else return a.getItem(b)}g.getStorage=i;g.isLocalStorageAvailable=a;g.setItemGuarded=b;g.removeItemGuarded=e;g.getItemGuarded=f}),98);
__d("MWBroadcastChannelPolyfill",["FBLogger","LocalStorageWrapper","MessengerLogHistory","Random","recoverableViolation","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MessengerLogHistory").getInstance("client_init");function a(a){h.debug("[MWBroadcastChannelPolyfill] "+a)}function i(a){c("FBLogger")("messenger_browser_clients").mustfix(a)}var j={},k=d("LocalStorageWrapper").getStorage(a);function b(a){var b="$BroadcastChannel$"+a+"$",e=!1,f=function(a){if(a.storageArea!==k)return;var c=a.newValue;if(c==null||c==="")return;if(((a=a.key)==null?void 0:a.substring(0,b.length))!==b)return;var d=JSON.parse(c);(a=j[b])==null?void 0:a.forEach(function(a){a({data:d})})};window.addEventListener("storage",f);return{addEventListener:function(a,c){j[b]=j[b]||new Set(),j[b].add(c)},close:function(){if(e)return;e=!0;j={};window.removeEventListener("storage",f)},postMessage:function(a){if(e){c("recoverableViolation")("Broadcast channel is closed","ls_web_init");return}a=JSON.stringify(a);var f=b+String(Date.now())+"$"+String(c("Random").uint32());d("LocalStorageWrapper").setItemGuarded(k,f,a,i);c("setTimeout")(function(){d("LocalStorageWrapper").removeItemGuarded(k,f,i)},500)},removeEventListener:function(a,c){(a=j[b])==null?void 0:a["delete"](c)}}}g["default"]=b}),98);
__d("MWBroadcastChannel",["MWBroadcastChannelPolyfill"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return self.BroadcastChannel!=null?new self.BroadcastChannel(a):c("MWBroadcastChannelPolyfill")(a)}g.MWBroadcastChannel=a}),98);
__d("MWLocalStorageErrorHandler",["cr:3449"],(function(a,b,c,d,e,f,g){"use strict";function a(){b("cr:3449")&&b("cr:3449").clearLocalStorageBigValues()}g.onQuotaExceeded=a}),98);
__d("WebStorageLockManager",["FBLogger","LocalStorageWrapper","LockManager","Promise","Run","clearInterval","err","promiseDone","regeneratorRuntime","setInterval","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){c("FBLogger")("messenger_browser_clients").mustfix(a)}function a(a,e){var f="Failed to execute 'request' on 'LockManager'",g="Lock broken by another request with the 'steal' option.",j=function(a,b,c){var d=a.get(b);if(d!=null)return d;d=c();a.set(b,d);return d};try{var k=d("LocalStorageWrapper").getStorage(i),l=function(a,b){d("LocalStorageWrapper").setItemGuarded(k,a,b,i,e==null?void 0:e.onQuotaExceeded)},m=function(a){d("LocalStorageWrapper").removeItemGuarded(k,a,i)},n=function(a){return d("LocalStorageWrapper").getItemGuarded(k,a,i)},o=function(){function a(a,b){this.lockName=a,this.tabId=b,this.lockA=this.lockName+"-a",this.lockB=this.lockName+"-b"}var d=a.prototype;d.run=function(a){return this.$1(a,0)};d.$1=function(a,d){var e=this,f=function(b){return window.requestAnimationFrame(function(){return e.$1(a,d+1).then(b)})},g=function(a){return n(a)==null};l(this.lockA,this.tabId);return new(h||(h=b("Promise")))(function(b){var h=function(){try{a(),b()}finally{m(e.lockB),m(e.lockA)}};g(e.lockB)||d>10?(d>10&&c("FBLogger")("messenger_comet").warn("web-lock polyfill: Had to steal lock"),l(e.lockB,e.tabId),n(e.lockA)===e.tabId?h():window.requestAnimationFrame(function(){n(e.lockB)===e.tabId?h():f(b)})):f(b)})};return a}(),p=function(){function a(b){this.tabId=b,this.lock=new o(a.tabsKey,b),c("promiseDone")(this.$1()),this.$2(),this.keepOnlyTabs(function(b){return a.isAlive(b)})}a.isAlive=function(b){b=n(a.$3(b));return b==null?!1:Date.now()-parseFloat(b)<1e3};var e=a.prototype;e.keepOnlyTabs=function(c){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(this.lock.run(function(){var b;b=JSON.parse((b=n(a.tabsKey))!=null?b:"[]").filter(c);b.length>0?l(a.tabsKey,JSON.stringify(b)):m(a.tabsKey)}));case 2:case"end":return d.stop()}},null,this)};e.$2=function(){var b=a.$3(this.tabId);l(b,Date.now().toString());var e=c("setInterval")(function(){l(b,Date.now().toString())},500);d("Run").onUnload(function(){c("clearInterval")(e),m(b)})};e.$1=function(){var e=this;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:f.next=2;return b("regeneratorRuntime").awrap(this.lock.run(function(){var b;b=JSON.parse((b=n(a.tabsKey))!=null?b:"[]");l(a.tabsKey,JSON.stringify([].concat(b,[e.tabId])))}));case 2:d("Run").onUnload(function(){return c("promiseDone")(e.keepOnlyTabs(function(a){return a!==e.tabId}))});case 3:case"end":return f.stop()}},null,this)};a.$3=function(a){return"$navigator.heartbeat-"+a};return a}();p.tabsKey="$navigator.heartbeat-tabs";var q=function(){function a(b,e){var f=this;this.requests=new Map();this.name=b;this.tabId=e;this.queueKey=a.storagePrefix+"-"+b+"-q";this.currentOwnerKey=a.storagePrefix+"-"+b+"-o";this.lock=new o(a.storagePrefix+"-"+b,this.tabId);d("Run").onUnload(function(){c("promiseDone")(f.keepOnlyRequests(function(a){return(a==null?void 0:a.t)!==f.tabId}))})}var e=a.prototype;e.enqueue=function(d,e,a){var f=this,g,h,i,j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:g=c("uuidv4")().toString();h={t:this.tabId,u:g};i=function(){d(null),f.markRequestReleased(g)};j=function(){d(g),f.markRequestReleased(g)};this.requests.set(g,[function(){return d(g)},function(){e(),f.markRequestReleased(g)}]);if(!((a==null?void 0:a.signal)!=null)){k.next=9;break}a.signal.onabort=function(){c("promiseDone")(f.keepOnlyRequests(function(a){return(a==null?void 0:a.u)!==g})),j()};if(!a.signal.aborted){k.next=9;break}return k.abrupt("return",j());case 9:k.next=11;return b("regeneratorRuntime").awrap(this.lock.run(function(){var b=f.getOwner();(a==null?void 0:a.steal)===!0&&f.$1(b==null?void 0:b.u);if(b==null||(a==null?void 0:a.steal)===!0||!p.isAlive(b.t))f.$2(f.currentOwnerKey,babelHelpers["extends"]({},h,(a==null?void 0:a.steal)===!0?{s:!0}:{})),f.$3(g);else if((a==null?void 0:a.ifAvailable)!==!0){b=f.getQueue();b.push(h);f.$2(f.queueKey,b)}else i()}));case 11:case"end":return k.stop()}},null,this)};e.dequeue=function(c){var d=this,e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:f=null;g.next=3;return b("regeneratorRuntime").awrap(this.lock.run(function(){var b=d.getOwner();if((b==null?void 0:b.t)!==d.tabId||(b==null?void 0:b.u)!==c)return;b=d.getQueue();b=a.getNextOwner(b);var e=b[0];b=b[1];f=e;d.$2(d.currentOwnerKey,e);d.$2(d.queueKey,b)}));case 3:this.$3((e=f)==null?void 0:e.u);case 4:case"end":return g.stop()}},null,this)};e.storageChangedOnOtherTab=function(a,c){var d=this;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:if(!(a==="o")){e.next=3;break}e.next=3;return b("regeneratorRuntime").awrap(this.lock.run(function(){var a=d.getOwner();if(a==null)return;d.$3(a==null?void 0:a.u);if(a.s===!0){a=c==null?void 0:c.oldValue;if(a!=null){a=JSON.parse(a);a.t===d.tabId&&d.$1(a.u)}}}));case 3:case"end":return e.stop()}},null,this)};e.getQueue=function(){var a;return(a=this.$4(this.queueKey))!=null?a:[]};e.getOwner=function(){return this.$4(this.currentOwnerKey)};a.getQueueNameAndStorageType=function(b){if(!b.startsWith(a.storagePrefix))return null;var d=b.slice(a.storagePrefix.length+1,b.length-2),e=b.charAt(b.length-1);switch(e){case"q":case"o":case"a":case"b":break;default:throw c("err")("Queue was stored with a suffix other than q or o. This is either a bug in the web lock api polyfill code, or it means that something overwrote localStorage with a weird key. Key: "+b)}return[d,e]};a.getNextOwner=function(a){for(var b=0;b<a.length;b+=1)if(p.isAlive(a[b].t))return[a[b],a.slice(b+1)];return[null,[]]};e.$4=function(a){a=n(a);return a!=null?JSON.parse(a):null};e.$2=function(a,b){b=b==null||Array.isArray(b)&&b.length===0?null:JSON.stringify(b);b==null?m(a):l(a,b)};e.keepOnlyRequests=function(c){var d=this;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(this.lock.run(function(){var b=d.getOwner(),e=d.getQueue().filter(c);if(c(b))d.$2(d.queueKey,e);else{b=a.getNextOwner(e);e=b[0];b=b[1];d.$2(d.currentOwnerKey,e);d.$2(d.queueKey,b)}}));case 2:case"end":return e.stop()}},null,this)};e.markRequestReleased=function(a){a!=null&&this.requests["delete"](a)};e.$3=function(a){if(a!=null){a=this.requests.get(a);if(a!=null){a=a[0];a()}}};e.$1=function(a){if(a!=null){a=this.requests.get(a);if(a!=null){a[0];a=a[1];a()}}};return a}();q.storagePrefix="$navigator.locks";var r=function(){function a(a){this.$1=new Map(),this.storage=d("LocalStorageWrapper").getStorage(i),this.tabId=a,new p(this.tabId),c("promiseDone")(this.$2()),this.$3()}var e=a.prototype;e.request=function(){var a=this;for(var e=arguments.length,i=new Array(e),j=0;j<e;j++)i[j]=arguments[j];return new(h||(h=b("Promise")))(function(e,j){c("promiseDone")(function(){var k,l,e,m,n,o,p;return b("regeneratorRuntime").async(function(q){while(1)switch(q.prev=q.next){case 0:l=i[0];e=i.length===3?i[1]:null;m=i.length===2?i[1]:i[2];if(!l.startsWith("-")){q.next=5;break}throw new DOMException("Names cannot start with '-'.",f);case 5:if(!((e==null?void 0:e.ifAvailable)===!0&&(e==null?void 0:e.signal)!=null)){q.next=7;break}throw new DOMException("The 'signal' and 'ifAvailable' options cannot be used together.",f);case 7:n=a.$4(l);q.next=10;return b("regeneratorRuntime").awrap(new(h||(h=b("Promise")))(function(a){c("promiseDone")(n.enqueue(a,function(){j(new DOMException(g,f))},e))}));case 10:o=q.sent;if(!((e==null?void 0:(k=e.signal)==null?void 0:k.aborted)===!0)){q.next=13;break}throw new DOMException("The request was aborted.",f);case 13:q.prev=13;q.next=16;return b("regeneratorRuntime").awrap(m(o!=null?{mode:(p=e==null?void 0:e.mode)!=null?p:d("LockManager").LockMode.Exclusive,name:l}:null));case 16:q.prev=16;if(!(o!=null)){q.next=20;break}q.next=20;return b("regeneratorRuntime").awrap(n.dequeue(o));case 20:n.markRequestReleased(o);return q.finish(16);case 22:case"end":return q.stop()}},null,this,[[13,,16,22]])}(),e,j)})};e.query=function(){var a=[],c=[];for(var e=this.$5(),f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(f){if(g>=e.length)break;i=e[g++]}else{g=e.next();if(g.done)break;i=g.value}i=i;if(i!=null){var j={mode:d("LockManager").LockMode.Exclusive,name:i.name};if(i.getOwner()!=null)a.push(j);else for(var i=i.getQueue(),k=Array.isArray(i),l=0,i=k?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(k){if(l>=i.length)break;m=i[l++]}else{l=i.next();if(l.done)break;m=l.value}m;c.push(j)}}}return(h||(h=b("Promise"))).resolve({held:a,pending:c})};e.$4=function(a){var b=this;return j(this.$1,a,function(){return new q(a,b.tabId)})};e.$3=function(){var a=this;window.addEventListener("storage",function(b){var d=b.key;if(b.storageArea!==a.storage||d==null)return;d=q.getQueueNameAndStorageType(d);if(d==null)return;var e=d[0];d=d[1];c("promiseDone")((e=a.$4(e))==null?void 0:e.storageChangedOnOtherTab(d,b))})};e.$2=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap((h||(h=b("Promise"))).all(this.$5().map(function(a){return a==null?void 0:a.keepOnlyRequests(function(a){return a==null?!1:p.isAlive(a.t)})})));case 2:case"end":return a.stop()}},null,this)};e.$5=function(){var a=this;return k==null?[]:Object.keys(k).map(function(b){b=q.getQueueNameAndStorageType(b);if(b==null)return;b=b[0];return a.$4(b)})};return a}();return new r(a)}catch(a){return null}}g.make=a}),98);
__d("MAWCryptoConsts",[],(function(a,b,c,d,e,f){"use strict";a=60*60;b=24*a;c=32;d=new Uint8Array(0).buffer;e=128;a=256;var g=12,h=1,i=2,j=2,k=4;b=b*30*6;var l=3,m="AES-GCM",n="HKDF",o="SHA-256";f.HKDF_SEED_LENGTH_IN_BYTES=c;f.HKDF_INFO=d;f.AES_GCM_TAG_LENGTH=e;f.AES_GCM_KEY_LENGTH=a;f.AES_GCM_IV_LENGTH_IN_BYTES=g;f.VERSION=h;f.CIPHER_ID=i;f.ADDITIONAL_DATA_LENGTH_IN_BYTES=j;f.EXTRA_ADDITIONAL_DATA_LENGTH_IN_BYTES=k;f.ENC_KEY_TTL=b;f.MAX_KEYCHAIN_SETUP_RETRIES=l;f.AES_GCM=m;f.HKDF=n;f.SHA256=o}),66);
__d("MAWKeychainUtil",[],(function(a,b,c,d,e,f){"use strict";function a(a){return self.crypto.getRandomValues(new Uint8Array(a))}function b(a){var b=a.reduce(function(a,b){return a+b.byteLength},0),c=new Uint8Array(b);a.reduce(function(a,b){c.set(new Uint8Array(b),a);return a+b.byteLength},0);return c.buffer}function g(a,b){return new Uint8Array([a,b]).buffer}function c(a,b,c){var d=g(0,b);a=g(a,b);b=new Uint32Array([c]).buffer;c=new Uint8Array(d.byteLength+a.byteLength+b.byteLength);c.set(new Uint8Array(d),0);c.set(new Uint8Array(a),d.byteLength);c.set(new Uint8Array(b),d.byteLength+a.byteLength);return c.buffer}function d(a){var b=a.length;if(b>0&&b%2===0&&/^[\da-f]+$/gi.test(a)){var c=[];for(var d=0,b=b/2;d<b;++d){var e=parseInt(a.substring(d*2,d*2+2),16);c.push(e)}return new Uint8Array(c)}else return null}f.getBufferWithRandomValuesFromLength=a;f.mergeBuffers=b;f.makeAAD=g;f.makeAADWithRandomisedVersion=c;f.fromHexString=d}),66);
__d("MAWSubtleCrypto",[],(function(a,b,c,d,e,f){a=self.crypto;b=a&&(a.subtle||a.webkitSubtle||a.subtle);f.MAWSubtleCrypto=b}),66);
__d("MAWWebInitDataHelpers",["MessengerWebInitData","err"],(function(a,b,c,d,e,f,g){"use strict";function a(){return 2}function b(a){switch(a){case 2:return[c("MessengerWebInitData").accountKeyV2];case 1:return[c("MessengerWebInitData").accountKey].concat((a=c("MessengerWebInitData").additionalAccountKeysV1)!=null?a:[]);default:throw c("err")("Invalid format version, should never happen.")}}g.getLastAccountKeyFormatVersion=a;g.getAccountKeysString=b}),98);
__d("WABase64",["WACryptoDependencies","WALogger","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Found unexpected character code while decoding B64 at index ",", length ",": ",""]);h=function(){return a};return a}var i=43,j=47,k=61,l=45,m=95,n=3e3,o="data:image/jpeg;base64,",p=function(a){return typeof a==="string"&&/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(a)};function q(a){return r(a,i,j,!0)}function a(a,b){b===void 0&&(b=!1);return r(a,l,m,b)}function r(a,b,c,d){a=Array.isArray(a)||a instanceof ArrayBuffer?new Uint8Array(a):a;if(a.length<=n)return s(a,b,c,d);else{var e=[];for(var f=0;f<a.length;f+=n)e.push(s(a.subarray(f,f+n),b,c,d));return e.join("")}}function s(a,b,c,d){var e=Math.ceil(a.length*4/3),f=4*Math.ceil(a.length/3),g=new Array(f);for(var h=0,i=0;h<f;h+=4,i+=3){var j=a[i]<<16|a[i+1]<<8|a[i+2];g[h]=j>>18;g[h+1]=j>>12&63;g[h+2]=j>>6&63;g[h+3]=j&63}for(j=0;j<e;j++){a=g[j];a<26?g[j]=65+a:a<52?g[j]=71+a:a<62?g[j]=a-4:a===62?g[j]=b:g[j]=c}for(h=e;h<f;h++)g[h]=61;i=String.fromCharCode.apply(String,g);return d?i:i.substring(0,e)}function t(a,b,c,e){var f=a.length,g=new Int32Array(f+f%4);for(var i=0;i<f;i++){var j=a.charCodeAt(i);if(65<=j&&j<=90)g[i]=j-65;else if(97<=j&&j<=122)g[i]=j-71;else if(48<=j&&j<=57)g[i]=j+4;else if(j===b)g[i]=62;else if(j===c)g[i]=63;else if(j===e){f=i;break}else{self.ERROR!=null&&d("WALogger").ERROR(h(),i,f,j);return null}}j=g.length/4;for(b=0,c=0;b<j;b++,c+=4)g[b]=g[c]<<18|g[c+1]<<12|g[c+2]<<6|g[c+3];e=Math.floor(f*3/4);i=new Uint8Array(e);a=0;b=0;for(;b+3<=e;a++,b+=3){j=g[a];i[b]=j>>16;i[b+1]=j>>8&255;i[b+2]=j&255}switch(e-b){case 2:i[b]=g[a]>>16;i[b+1]=g[a]>>8&255;break;case 1:i[b]=g[a]>>16}return i}function b(a){a=t(a,i,j,k);if(a)return a.buffer;else throw c("err")("Base64.decode given invalid string")}function e(a,b){b===void 0&&(b=!1);a=t(a,l,m,b?k:-1);if(a)return a.buffer;else throw c("err")("Base64.decode given invalid string")}function f(a){a=a instanceof ArrayBuffer?new Uint8Array(a):t(a,i,j,k);return a&&Array.from(a)}function u(a){return Math.floor(a.length*3/4)}function v(a){a=new Uint8Array(a);d("WACryptoDependencies").getCrypto().getRandomValues(a);return q(a)}g.BASE64_DATA_URL_SCHEME=o;g.isBase64=p;g.encodeB64=q;g.encodeB64UrlSafe=a;g.decodeB64=b;g.decodeB64UrlSafe=e;g.decodeB64ToJsArray=f;g.sizeWhenB64Decoded=u;g.randomBase64=v}),98);
__d("MAWKeychainCrypto",["FBLogger","MAWCryptoConsts","MAWKeychainUtil","MAWSubtleCrypto","MAWWebInitDataHelpers","Promise","WABase64","asyncToGeneratorRuntime","err","memoizeOneWithArgs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("MAWKeychainUtil").makeAAD(d("MAWCryptoConsts").VERSION,d("MAWCryptoConsts").CIPHER_ID);function a(a,b,e){var f=d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").AES_GCM_IV_LENGTH_IN_BYTES),g=e?e:i;return d("MAWSubtleCrypto").MAWSubtleCrypto.encrypt({additionalData:g,iv:new Uint8Array(f),name:d("MAWCryptoConsts").AES_GCM,tagLength:d("MAWCryptoConsts").AES_GCM_TAG_LENGTH},a,b).then(function(a){a=d("MAWKeychainUtil").mergeBuffers([g,f,a]);return d("WABase64").encodeB64(a)})["catch"](function(b){throw c("FBLogger")("maw_ear").catching(b).mustfixThrow("Failed to encryptDataToStringBuffer",typeof a,a.constructor.name)})}function e(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c;b=new Uint8Array(d("WABase64").decodeB64(b));var e=b.subarray(0,(c=d("MAWCryptoConsts")).ADDITIONAL_DATA_LENGTH_IN_BYTES),f=b.subarray(c.ADDITIONAL_DATA_LENGTH_IN_BYTES,c.AES_GCM_IV_LENGTH_IN_BYTES+c.ADDITIONAL_DATA_LENGTH_IN_BYTES);b=b.subarray(c.AES_GCM_IV_LENGTH_IN_BYTES+c.ADDITIONAL_DATA_LENGTH_IN_BYTES);e=(yield d("MAWSubtleCrypto").MAWSubtleCrypto.decrypt({additionalData:e,iv:f,name:c.AES_GCM,tagLength:c.AES_GCM_TAG_LENGTH},a,b));return e});return j.apply(this,arguments)}function k(a){a=d("MAWWebInitDataHelpers").getAccountKeysString(a);return a.map(function(a){var b=d("MAWKeychainUtil").fromHexString(a);if(b==null)throw c("err")("Invalid value for account key. Is empty="+String(a.length===0)+";");return b.buffer})}function l(a){return(h||(h=b("Promise"))).all(k(a).map(function(a){return d("MAWSubtleCrypto").MAWSubtleCrypto.importKey("raw",a,{name:d("MAWCryptoConsts").AES_GCM},!1,["encrypt","decrypt"])}))}function f(){return d("WABase64").encodeB64(d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").HKDF_SEED_LENGTH_IN_BYTES))}function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=d("WABase64").decodeB64(a);try{a=(yield d("MAWSubtleCrypto").MAWSubtleCrypto.importKey("raw",a,{name:d("MAWCryptoConsts").HKDF},!1,["deriveKey"]));return a}catch(a){c("FBLogger")("maw_ear").catching(a).mustfix("Failed to importBrowserEncryptionKey");throw a}});return n.apply(this,arguments)}function o(){return d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").HKDF_SEED_LENGTH_IN_BYTES)}function p(a,b){var c;return d("MAWSubtleCrypto").MAWSubtleCrypto.deriveKey({hash:{name:(c=d("MAWCryptoConsts")).SHA256},info:c.HKDF_INFO,name:c.HKDF,salt:b},a,{length:c.AES_GCM_KEY_LENGTH,name:c.AES_GCM},!0,["encrypt","decrypt"]).then(function(a){return d("MAWSubtleCrypto").MAWSubtleCrypto.exportKey("raw",a)})}function q(a){var b=a.slice(0,d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES);b=new DataView(b).getUint8(0);if(b===0){var c,e=a.slice((c=d("MAWCryptoConsts")).ADDITIONAL_DATA_LENGTH_IN_BYTES,c.ADDITIONAL_DATA_LENGTH_IN_BYTES*2);return{aadLengthInBytes:c.ADDITIONAL_DATA_LENGTH_IN_BYTES*2+c.EXTRA_ADDITIONAL_DATA_LENGTH_IN_BYTES,keyVersion:new DataView(e).getUint8(0),originRandomisedVersion:new DataView(a).getUint32(c.ADDITIONAL_DATA_LENGTH_IN_BYTES*2,!0)}}return{aadLengthInBytes:d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES,keyVersion:b}}function r(a){return q(a)}var s=c("memoizeOneWithArgs")(function(a){return l(a)});function t(a){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=d("WABase64").decodeB64(a);a=(yield d("MAWSubtleCrypto").MAWSubtleCrypto.digest(d("MAWCryptoConsts").SHA256,a));return d("WABase64").encodeB64(a)});return u.apply(this,arguments)}g.ADDITIONAL_DATA=i;g.encryptDataToStringBuffer=a;g.decryptDataToArrayBuffer=e;g.getAccountKeysBuffers=k;g.genAccountKeys=l;g.genBrowserEncryptionKeyString=f;g.importBrowserEncryptionKey=m;g.genDatabaseEncryptionSeed=o;g.genDatabaseEncryptionKey=p;g.getKeyVersionFromCipherData=q;g.getKeyVersionFromCipherDataString=r;g.getAccountKeys=s;g.generateHashString=t}),98);
__d("MAWEARGenNewKeychainCryptoKey",["FBLogger","MAWCryptoConsts","MAWKeychainCrypto","MAWWebInitDataHelpers","MessengerWebInitData","WATimeUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a,b=d("MAWWebInitDataHelpers").getLastAccountKeyFormatVersion(),e=(yield (a=d("MAWKeychainCrypto")).getAccountKeys(b))[0],f=a.genBrowserEncryptionKeyString(),g=a.genDatabaseEncryptionSeed();e=(yield a.encryptDataToStringBuffer(e,g));g=d("WATimeUtils").castToUnixTime(d("WATimeUtils").unixTime()+d("MAWCryptoConsts").ENC_KEY_TTL);return{accountKeyString:yield a.generateHashString(d("MAWWebInitDataHelpers").getAccountKeysString(b)[0]),appIdOrigin:c("MessengerWebInitData").appId,expiration:g,formatVersion:b,key:f,seed:e,userKeyBaseString:yield a.generateHashString(c("MessengerWebInitData").userKeyBase)}}catch(a){throw c("FBLogger")("messenger_e2ee_web").catching(a).mustfixThrow("Failed to generateNewKey")}});return h.apply(this,arguments)}g["default"]=a}),98);
__d("MAWEARKeychainDecryptionError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.name="MAWEARKeychainDecryptionError";c.message=b;return c}return b}(babelHelpers.wrapNativeSuper(Error));f["default"]=a}),66);
__d("MAWWorkerSetupArgs",[],(function(a,b,c,d,e,f){"use strict";var g=null;function a(a){g=a}function b(){return g}function c(){g=null}f.setWorkerSetupArgs=a;f.getWorkerSetupArgs=b;f.resetWorkerSetupArgs=c}),66);
__d("MAWGenKeychainCryptoKeyWithVersion",["ExecutionEnvironment","FBLogger","MAWCurrentUser","MAWEARKeychainDecryptionError","MAWKeychainCrypto","MAWWebInitDataHelpers","MAWWorkerSetupArgs","MessengerWebInitData","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,c,d,e,f,g){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,j,k,l){g===void 0&&(g=1);try{var m=(yield d("MAWKeychainCrypto").getAccountKeys(g));a=(yield (i||(i=b("Promise"))).all([d("MAWKeychainCrypto").importBrowserEncryptionKey(a),i.all(m.map(function(a){return d("MAWKeychainCrypto").decryptDataToArrayBuffer(a,e)["catch"](function(){return null})}))]));var n=a[0];m=a[1];a=(yield i.all(m.filter(Boolean).map(function(a){return d("MAWKeychainCrypto").genDatabaseEncryptionKey(n,a)["catch"](function(){return null})})));m=a.filter(Boolean);if(m.length===0)throw new(c("MAWEARKeychainDecryptionError"))("Failed to generate keys from seed");return{keys:m,version:f}}catch(b){a=null;m=null;f=d("MAWWorkerSetupArgs").getWorkerSetupArgs();(h||(h=c("ExecutionEnvironment"))).isInWorker&&f!=null&&(a=f.userKeyBase===c("MessengerWebInitData").userKeyBase,m=f.fbId===d("MAWCurrentUser").getID());f=d("MAWWebInitDataHelpers").getAccountKeysString(g);var o=f&&f[0]!=null?yield d("MAWKeychainCrypto").generateHashString(f[0]):null;c("FBLogger")("maw_ear").catching(b).mustfix("Failed to genKeyWithVersion: accountKeyBackfilled = %s; accountKeyExists = %s; acccountKeyMatches = %s; userKeyBaseBackilled = %s; userKeyBaseExists = %s; userKeyBaseMatches = %s; appIdOrigin = %s; appIdInitData = %s; userIdMatches = %s; isInWorker = %s; userKeyBase_match_between_threads = %s; userId_match_between_threads = %s; formatVersion = %s;",j!=null,f!=null,j===o,k!=null,c("MessengerWebInitData").userKeyBase!=null,k===(yield d("MAWKeychainCrypto").generateHashString(c("MessengerWebInitData").userKeyBase)),l,c("MessengerWebInitData").appId,d("MAWCurrentUser").getID()===String(c("MessengerWebInitData").userId),(h||(h=c("ExecutionEnvironment"))).isInWorker,a,m,g);throw b}});return j.apply(this,arguments)}g["default"]=a}),98);
__d("MAWKeychainNaClCrypto",["MAWKeychainCrypto","WABase64","tweetnacl"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a){var c;c=b.call(this,a)||this;c.name="EARError";c.message=a;return c}return a}(babelHelpers.wrapNativeSuper(Error));function i(a,b,c){c=new Uint8Array(c);var e=d("tweetnacl").randomBytes(d("tweetnacl").secretbox.nonceLength);b=d("tweetnacl").secretbox(b,e,new Uint8Array(a));a=new Uint8Array(c.length+e.length+b.length);a.set(c);a.set(e,c.length);a.set(b,c.length+e.length);return a.buffer}function j(a,b,c){return d("WABase64").encodeB64(i(a,b,c!=null?c:d("MAWKeychainCrypto").ADDITIONAL_DATA))}function k(a,b,c,e,f){b.slice(0,f);var g=b.slice(f,f+d("tweetnacl").secretbox.nonceLength);b=b.slice(f+d("tweetnacl").secretbox.nonceLength);f=d("tweetnacl").secretbox.open(new Uint8Array(b),new Uint8Array(g),new Uint8Array(a));if(f==null){throw new h("decryptTweetNaCl was unable to decrypt an entity. Attempting to use key version : "+((b=c)!=null?b:"non-provided")+". Format version "+((g=e)!=null?g:"unknown")+".")}return f}function l(a,b,c,e){return k(a,d("WABase64").decodeB64(b),c,void 0,e)}function a(a,b,c){return j(a,b,c)}function b(a,b,c,d){return l(a,b,c,d)}function c(a,b,c,d,e){return k(a,b,c,d,e)}g.EARDecryptionError=h;g.encryptTweetNaClArrayBuffer=i;g.encryptTweetNaCl=j;g.decryptTweetNaClArrayBuffer=k;g.decryptTweetNaCl=l;g.encrypt=a;g.decrypt=b;g.decryptArrayBuffer=c}),98);
__d("MWEARKeychainV3Errors",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.name="EARKeychainNotFoundError";c.message=b;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.EARKeychainNotFoundError=a}),66);
__d("MWLSDatabaseNames",[],(function(a,b,c,d,e,f){"use strict";a="LightSpeed";b=a+"V3";f.name=a;f.lightspeedPrefix=b}),66);
__d("MWLSIndexedDBName",["MAWCurrentUser","MWLSDatabaseNames"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MAWCurrentUser").getID();return d("MWLSDatabaseNames").lightspeedPrefix+a}g.dbName=a}),98);
__d("ReStoreLocalStorageQuotaExceed",["FBLogger","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h="Failed to execute 'setItem' on 'Storage'",i="ReStoreLocalStorageQuotaExceed";function j(){try{var a=window.localStorage,b=[],d=[];if(a!=null&&a.length!==0)for(var e in a){b.length===0&&d.length===0&&(e.includes("falco_queue_log")&&d.push(e));if(!Object.prototype.hasOwnProperty.call(a,e))continue;var f=((a[e]||"").length+e.length)*2;f/1024>2e3&&b.push(e)}c("FBLogger")("maw_db").mustfix(h+": QuotaExceeded - trying to clean up %s or %s",b.join(","),d.join(","));return b.length!==0?b:d}catch(a){c("FBLogger")("maw_db").mustfix("Error getting local storage big values for cleanup.");return[]}}function a(){try{var a=window.localStorage,b=j();b.forEach(function(b){a.removeItem(b)})}catch(a){c("recoverableViolation")("Couldn't remove vals from localStorage","maw_db",a)}}b=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;b=h+": "+b+"; Keys to delete: "+j().join(",");c=a.call(this,b)||this;c.message=b;c.name=i;return c}return b}(babelHelpers.wrapNativeSuper(Error));g.ERROR_NAME=i;g.getLocalStorageValuesToRemoveOnExceed=j;g.clearLocalStorageBigValues=a;g.ReStoreLocalStorageQuotaExceed=b}),98);
__d("ReStoreTabNotifier",["CurrentMessengerUser","FBLogger","MWBroadcastChannel","MWLSIndexedDBName"],(function(a,b,c,d,e,f,g){"use strict";var h=d("CurrentMessengerUser").getIDorEIMU();function a(a){var b=d("MWBroadcastChannel").MWBroadcastChannel(a==="restore-table-"+h+"-"+d("MWLSIndexedDBName").dbName()?"mwChat-"+h:a);function e(a,d){try{b.postMessage([a,d])}catch(a){c("FBLogger")("messenger_browser_clients").catching(a).warn("Failed to broadcast changes")}}function f(a,c){b.addEventListener("message",function(b){b=b.data;var d=b[0];d===a&&c(b[1])})}return{onEventReceive:f,postMessage:e}}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("PolarisKeywordSearchExploreHooks.react",["PolarisDynamicExploreActions","PolarisDynamicExploreTypes","PolarisReactRedux.react","polarisDynamicExploreSelectors","react-compiler-runtime","usePolarisSelector"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=d("react-compiler-runtime").c(10),f=d("PolarisReactRedux.react").useDispatch(),g;e[0]!==a?(g=function(b){return d("polarisDynamicExploreSelectors").getSupportedSectionalItems(b,d("PolarisDynamicExploreTypes").DYNAMIC_EXPLORE_GRID_TYPES.keyword_grid,a)},e[0]=a,e[1]=g):g=e[1];var h=c("usePolarisSelector")(g),i=b===!0?d("PolarisDynamicExploreActions").requestKeywordExploreGridWithHashtagSerp:d("PolarisDynamicExploreActions").requestKeywordExploreGrid,j;e[2]!==f||e[3]!==a||e[4]!==h.length||e[5]!==i?(j=function(){h.length===0&&f(i({keyword:a,retryHandler:j}))},e[2]=f,e[3]=a,e[4]=h.length,e[5]=i,e[6]=j):j=e[6];g=j;e[7]!==h||e[8]!==g?(b=[h,g],e[7]=h,e[8]=g,e[9]=b):b=e[9];return b}function b(a,b){var e=d("react-compiler-runtime").c(11),f=d("PolarisReactRedux.react").useDispatch(),g;e[0]!==a?(g=function(b){return(b=b.dynamicExplore.keywordExploreGrid[a])==null?void 0:b.pagination},e[0]=a,e[1]=g):g=e[1];var h=c("usePolarisSelector")(g),i=b===!0?d("PolarisDynamicExploreActions").requestKeywordExploreGridWithHashtagSerp:d("PolarisDynamicExploreActions").requestKeywordExploreGrid,j;e[2]!==f||e[3]!==a||e[4]!==(h==null?void 0:h.cursor)||e[5]!==(h==null?void 0:h.rankToken)||e[6]!==i?(j=function(){f(i({cursor:h==null?void 0:h.cursor,keyword:a,rankToken:h==null?void 0:h.rankToken,retryHandler:j}))},e[2]=f,e[3]=a,e[4]=h==null?void 0:h.cursor,e[5]=h==null?void 0:h.rankToken,e[6]=i,e[7]=j):j=e[7];g=j;e[8]!==h||e[9]!==g?(b=[h,g],e[8]=h,e[9]=g,e[10]=b):b=e[10];return b}function e(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=function(b){return d("polarisDynamicExploreSelectors").getGridItems(b,d("PolarisDynamicExploreTypes").DYNAMIC_EXPLORE_GRID_TYPES.keyword_grid,a)},b[0]=a,b[1]=e):e=b[1];return c("usePolarisSelector")(e)}g.useKeywordExploreSectionalItems=a;g.useKeywordExplorePagination=b;g.useKeywordExploreGridItems=e}),98);
__d("PolarisPostActionLoadPostQueryInlineFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"PolarisPostActionLoadPostQueryInlineFragment"};e.exports=a}),null);
__d("PolarisPostActionLoadPostQueryInlineFragmentWithoutRelatedProfiles.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"PolarisPostActionLoadPostQueryInlineFragmentWithoutRelatedProfiles"};e.exports=a}),null);
__d("PolarisPostActionLoadPostQueryInlineMediaFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"PolarisPostActionLoadPostQueryInlineMediaFragment"};e.exports=a}),null);
__d("PolarisPostActionLoadPostQueryInlineSharerFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"PolarisPostActionLoadPostQueryInlineSharerFragment"};e.exports=a}),null);
__d("PolarisPostActionLoadPostQueryLegacyQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8136398069788847"}),null);
__d("PolarisPostActionLoadPostQueryLegacyQuery.graphql",["PolarisPostActionLoadPostQueryLegacyQuery_instagramRelayOperation"],(function(a,aa,b,c,d,e){"use strict";a=function(){var a={defaultValue:3,kind:"LocalArgument",name:"fetch_related_profile_media_count"},b={defaultValue:null,kind:"LocalArgument",name:"fetch_tagged_user_count"},c={defaultValue:null,kind:"LocalArgument",name:"hoisted_comment_id"},d={defaultValue:null,kind:"LocalArgument",name:"hoisted_reply_id"},e={defaultValue:null,kind:"LocalArgument",name:"shortcode"},f=[{kind:"Variable",name:"shortcode",variableName:"shortcode"}],g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"shortcode",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"thumbnail_src",storageKey:null},k={alias:null,args:null,concreteType:"XDTGraphMediaDimensions",kind:"LinkedField",name:"dimensions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"buttons",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"gating_type",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"center_button",storageKey:null},ba={alias:null,args:null,kind:"ScalarField",name:"post_reveal_cta",storageKey:null},ca={alias:null,args:null,kind:"ScalarField",name:"time_gated",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"misinformation_type",storageKey:null},r={alias:null,args:null,concreteType:"XDTGraphMediaGatingInfo",kind:"LinkedField",name:"gating_info",plural:!1,selections:[l,m,n,o,p,ba,ca,q],storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"fact_check_overall_rating",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},v={alias:null,args:null,concreteType:"XDTGraphMediaFactCheck",kind:"LinkedField",name:"fact_check_information",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"rating",storageKey:null},{alias:null,args:null,concreteType:"XDTGraphMediaFactCheckProvider",kind:"LinkedField",name:"provider",plural:!1,selections:[t,u,{alias:null,args:null,kind:"ScalarField",name:"appeal_email",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_directly_rated",storageKey:null}],storageKey:null},w={alias:null,args:null,concreteType:"XDTGraphMediaSensitivityFrictionInfo",kind:"LinkedField",name:"sensitivity_friction_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sensitivity_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_primary_button",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_secondary_button",storageKey:null}],storageKey:null},x={alias:null,args:null,concreteType:"XDTGraphMediaSharingFrictionInfo",kind:"LinkedField",name:"sharing_friction_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_have_sharing_friction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bloks_app_url",storageKey:null}],storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},A={alias:null,args:null,concreteType:"XDTGraphMediaOverlayIconSpec",kind:"LinkedField",name:"icon",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"icon_glyph",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_type",storageKey:null},t,z],storageKey:null},B=[{alias:null,args:null,kind:"ScalarField",name:"button_type",storageKey:null},y,{alias:null,args:null,kind:"ScalarField",name:"secondary_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null},A,{alias:null,args:null,concreteType:"XDTGraphMediaOverlayTextColorSpec",kind:"LinkedField",name:"text_color",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"light",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dark",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_text_centered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_chevron",storageKey:null}];B={alias:null,args:null,concreteType:"XDTGraphMediaOverlayInfo",kind:"LinkedField",name:"media_overlay_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTGraphMediaOverlayButtonSpec",kind:"LinkedField",name:"banner",plural:!1,selections:B,storageKey:null},{alias:null,args:null,concreteType:"XDTGraphMediaOverlayButtonSpec",kind:"LinkedField",name:"buttons",plural:!0,selections:B,storageKey:null},m,A,q,{alias:null,args:null,kind:"ScalarField",name:"overlay_layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"overlay_type",storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"bloks_data",storageKey:null}],storageKey:null};A={alias:null,args:null,kind:"ScalarField",name:"media_preview",storageKey:null};q={alias:null,args:null,kind:"ScalarField",name:"display_url",storageKey:null};z={alias:null,args:null,concreteType:"XDTGraphImageResource",kind:"LinkedField",name:"display_resources",plural:!0,selections:[z,{alias:null,args:null,kind:"ScalarField",name:"config_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"config_height",storageKey:null}],storageKey:null};var C={alias:null,args:null,kind:"ScalarField",name:"is_video",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null},E={alias:null,args:null,concreteType:"XDTGraphUpcomingEventDict",kind:"LinkedField",name:"upcoming_event",plural:!1,selections:[h,o,{alias:null,args:null,kind:"ScalarField",name:"start_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reminder_enabled",storageKey:null}],storageKey:null},da=[{kind:"Variable",name:"first",variableName:"fetch_tagged_user_count"}],F={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},G={alias:null,args:null,kind:"ScalarField",name:"followed_by_viewer",storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},ea={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"user",plural:!1,selections:[F,G,h,H,u,I],storageKey:null},fa={alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},ga={alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},ha={alias:null,args:da,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user_connection",kind:"LinkedField",name:"edge_media_to_tagged_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphTaggedUser",kind:"LinkedField",name:"node",plural:!1,selections:[ea,fa,ga],storageKey:null}],storageKey:null}],storageKey:null},J={alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},L=[K],M={alias:null,args:null,concreteType:"XDTgraphuser_edge_followed_by_connection",kind:"LinkedField",name:"edge_followed_by",plural:!1,selections:L,storageKey:null};G={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"owner",plural:!1,selections:[h,I,{alias:null,args:null,kind:"ScalarField",name:"has_onboarded_to_text_post_app",storageKey:null},H,u,{alias:null,args:null,kind:"ScalarField",name:"blocked_by_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"restricted_by_viewer",storageKey:null},G,F,{alias:null,args:null,kind:"ScalarField",name:"has_blocked_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_embeds_disabled",storageKey:null},J,{alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"requested_by_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pass_tiering_recommendation",storageKey:null},{alias:null,args:null,concreteType:"XDTgraphuser_edge_owner_to_timeline_media_connection",kind:"LinkedField",name:"edge_owner_to_timeline_media",plural:!1,selections:L,storageKey:null},M],storageKey:null};var ia=[{kind:"Literal",name:"first",value:1}],N={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},ja={alias:null,args:null,kind:"ScalarField",name:"can_see_insights_as_brand",storageKey:null},ka={alias:null,args:null,kind:"ScalarField",name:"caption_is_edited",storageKey:null},la={alias:null,args:null,kind:"ScalarField",name:"has_ranked_comments",storageKey:null},ma={alias:null,args:null,kind:"ScalarField",name:"like_and_view_counts_disabled",storageKey:null},O={alias:null,args:null,concreteType:"XDTPageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null}],storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"did_report_as_spam",storageKey:null},Q=[h,H,u,I],R={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"owner",plural:!1,selections:Q,storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"viewer_has_liked",storageKey:null},T={alias:null,args:null,concreteType:"XDTgraphcomment_edge_liked_by_connection",kind:"LinkedField",name:"edge_liked_by",plural:!1,selections:L,storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"is_restricted_pending",storageKey:null},V=[{alias:null,args:null,concreteType:"XDTGraphComment",kind:"LinkedField",name:"node",plural:!1,selections:[h,y,N,P,R,S,T,U],storageKey:null}],W={alias:null,args:[{kind:"Literal",name:"first",value:3}],concreteType:"XDTgraphcomment_edge_threaded_comments_connection",kind:"LinkedField",name:"edge_threaded_comments",plural:!1,selections:[K,O,{alias:null,args:null,concreteType:"XDTgraphcomment_edge_threaded_comments",kind:"LinkedField",name:"edges",plural:!0,selections:V,storageKey:null}],storageKey:"edge_threaded_comments(first:3)"};O={alias:null,args:[{kind:"Literal",name:"first",value:24}],concreteType:"XDTgraphmediainterface_edge_media_to_parent_comment_connection",kind:"LinkedField",name:"edge_media_to_parent_comment",plural:!1,selections:[K,O,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_parent_comment",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphComment",kind:"LinkedField",name:"node",plural:!1,selections:[h,y,N,P,R,S,T,U,W],storageKey:null}],storageKey:null}],storageKey:"edge_media_to_parent_comment(first:24)"};P={alias:null,args:[{kind:"Variable",name:"hoisted_comment_id",variableName:"hoisted_comment_id"}],concreteType:"XDTgraphmediainterface_edge_media_to_hoisted_comment_connection",kind:"LinkedField",name:"edge_media_to_hoisted_comment",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_hoisted_comment",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphComment",kind:"LinkedField",name:"node",plural:!1,selections:[h,y,N,P,R,S,T,U,{alias:null,args:[{kind:"Variable",name:"hoisted_reply_id",variableName:"hoisted_reply_id"}],concreteType:"XDTgraphcomment_edge_comment_to_hoisted_reply_connection",kind:"LinkedField",name:"edge_comment_to_hoisted_reply",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphcomment_edge_comment_to_hoisted_reply",kind:"LinkedField",name:"edges",plural:!0,selections:V,storageKey:null}],storageKey:null},W],storageKey:null}],storageKey:null}],storageKey:null};R={alias:null,args:[{kind:"Literal",name:"first",value:2}],concreteType:"XDTgraphmediainterface_edge_media_preview_comment_connection",kind:"LinkedField",name:"edge_media_preview_comment",plural:!1,selections:[K,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_comment",kind:"LinkedField",name:"edges",plural:!0,selections:V,storageKey:null}],storageKey:"edge_media_preview_comment(first:2)"};T={alias:null,args:null,kind:"ScalarField",name:"comments_disabled",storageKey:null};U={alias:null,args:null,kind:"ScalarField",name:"commenting_disabled_for_viewer",storageKey:null};W={alias:null,args:null,kind:"ScalarField",name:"taken_at_timestamp",storageKey:null};V={alias:null,args:[{kind:"Literal",name:"first",value:10}],concreteType:"XDTgraphmediainterface_edge_media_preview_like_connection",kind:"LinkedField",name:"edge_media_preview_like",plural:!1,selections:[K,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_like",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"node",plural:!1,selections:Q,storageKey:null}],storageKey:null}],storageKey:"edge_media_preview_like(first:10)"};var X=[h,I],na={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"sponsor",plural:!1,selections:X,storageKey:null},oa={alias:null,args:null,kind:"ScalarField",name:"is_affiliate",storageKey:null},pa={alias:null,args:null,kind:"ScalarField",name:"is_paid_partnership",storageKey:null};t={alias:null,args:null,concreteType:"XDTGraphLocation",kind:"LinkedField",name:"location",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"has_public_page",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_json",storageKey:null}],storageKey:null};var qa={alias:null,args:null,concreteType:"XDTGraphNftAssetInfoType",kind:"LinkedField",name:"nft_asset_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"asset_id",storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"shimmer_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_igid",storageKey:null}],storageKey:null},ra={alias:null,args:null,kind:"ScalarField",name:"viewer_has_saved",storageKey:null},sa={alias:null,args:null,kind:"ScalarField",name:"viewer_has_saved_to_collection",storageKey:null},ta={alias:null,args:null,kind:"ScalarField",name:"viewer_in_photo_of_you",storageKey:null},ua={alias:null,args:null,kind:"ScalarField",name:"viewer_can_reshare",storageKey:null},va={alias:null,args:null,kind:"ScalarField",name:"is_ad",storageKey:null},wa={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"coauthor_producers",plural:!0,selections:Q,storageKey:null};Q={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"pinned_for_users",plural:!0,selections:Q,storageKey:null};var Y={alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},Z=[Y],$={kind:"InlineFragment",selections:Z,type:"XDTGraphImage",abstractKey:null};F={alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_related_profiles_connection",kind:"LinkedField",name:"edge_related_profiles",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_related_profiles",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"node",plural:!1,selections:[h,F,J,H,u,I,M,{alias:null,args:[{kind:"Variable",name:"first",variableName:"fetch_related_profile_media_count"}],concreteType:"XDTgraphuser_edge_owner_to_timeline_media_connection",kind:"LinkedField",name:"edge_owner_to_timeline_media",plural:!1,selections:[K,{alias:null,args:null,concreteType:"XDTgraphuser_edge_owner_to_timeline_media",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[g,h,i,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_like_connection",kind:"LinkedField",name:"edge_media_preview_like",plural:!1,selections:L,storageKey:null},{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_comment_connection",kind:"LinkedField",name:"edge_media_preview_comment",plural:!1,selections:L,storageKey:null},j,{alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"owner",plural:!1,selections:X,storageKey:null},{alias:null,args:null,concreteType:"XDTGraphMediaGatingInfo",kind:"LinkedField",name:"gating_info",plural:!1,selections:[l,m,n,o,p,ba,ca],storageKey:null},x,B,C,$,{kind:"InlineFragment",selections:Z,type:"XDTGraphSidecar",abstractKey:null},{kind:"InlineFragment",selections:Z,type:"XDTGraphVideo",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null};J={alias:null,args:null,concreteType:"XDTGraphDashInfo",kind:"LinkedField",name:"dash_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_dash_eligible",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_dash_manifest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number_of_qualities",storageKey:null}],storageKey:null};H={alias:null,args:null,kind:"ScalarField",name:"has_audio",storageKey:null};u={alias:null,args:null,kind:"ScalarField",name:"video_url",storageKey:null};I={alias:null,args:null,kind:"ScalarField",name:"video_view_count",storageKey:null};M={alias:null,args:null,kind:"ScalarField",name:"video_play_count",storageKey:null};K={kind:"InlineFragment",selections:[Y,J,H,u,I,M,{alias:null,args:null,kind:"ScalarField",name:"encoding_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_published",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"video_duration",storageKey:null},{alias:null,args:null,concreteType:"XDTGraphClipsMusicAttributionInfo",kind:"LinkedField",name:"clips_music_attribution_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"artist_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"song_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uses_original_audio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_mute_audio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_mute_audio_reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_id",storageKey:null}],storageKey:null}],type:"XDTGraphVideo",abstractKey:null};L={kind:"InlineFragment",selections:[Y,J,H,u,I,M],type:"XDTGraphVideo",abstractKey:null};X={alias:null,args:da,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user_connection",kind:"LinkedField",name:"edge_media_to_tagged_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphTaggedUser",kind:"LinkedField",name:"node",plural:!1,selections:[ea,fa,ga,h],storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,b,c,d,e],kind:"Fragment",metadata:null,name:"PolarisPostActionLoadPostQueryLegacyQuery",selections:[{alias:null,args:f,concreteType:null,kind:"LinkedField",name:"xdt_shortcode_media",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"PolarisPostActionLoadPostQueryInlineFragment",selections:[g,h,i,j,k,r,s,v,w,x,B,A,q,z,C,D,E,ha,G,{alias:null,args:ia,concreteType:"XDTgraphmediainterface_edge_media_to_caption_connection",kind:"LinkedField",name:"edge_media_to_caption",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_caption",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphMediaCaption",kind:"LinkedField",name:"node",plural:!1,selections:[N,y],storageKey:null}],storageKey:null}],storageKey:"edge_media_to_caption(first:1)"},ja,ka,la,ma,O,P,R,T,U,W,V,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user_connection",kind:"LinkedField",name:"edge_media_to_sponsor_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphSponsorTag",kind:"LinkedField",name:"node",plural:!1,selections:[na],storageKey:null}],storageKey:null}],storageKey:null},oa,pa,t,qa,S,ra,sa,ta,ua,va,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media_connection",kind:"LinkedField",name:"edge_web_media_to_related_media",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,j],storageKey:null}],storageKey:null}],storageKey:null},wa,Q,F,K,$,{kind:"InlineFragment",selections:[Y,{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children_connection",kind:"LinkedField",name:"edge_sidecar_to_children",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[g,h,i,k,r,s,v,w,x,B,A,q,z,L,$,C,D,E,ha],storageKey:null}],storageKey:null}],storageKey:null}],type:"XDTGraphSidecar",abstractKey:null}],args:null,argumentDefinitions:[{kind:"RootArgument",name:"fetch_related_profile_media_count"},{kind:"RootArgument",name:"fetch_tagged_user_count"},{kind:"RootArgument",name:"hoisted_comment_id"},{kind:"RootArgument",name:"hoisted_reply_id"}]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,a,b,c,d],kind:"Operation",name:"PolarisPostActionLoadPostQueryLegacyQuery",selections:[{alias:null,args:f,concreteType:null,kind:"LinkedField",name:"xdt_shortcode_media",plural:!1,selections:[g,{kind:"TypeDiscriminator",abstractKey:"__isXDTGraphMediaInterface"},h,i,j,k,r,s,v,w,x,B,A,q,z,C,D,E,X,G,{alias:null,args:ia,concreteType:"XDTgraphmediainterface_edge_media_to_caption_connection",kind:"LinkedField",name:"edge_media_to_caption",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_caption",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphMediaCaption",kind:"LinkedField",name:"node",plural:!1,selections:[N,y,h],storageKey:null}],storageKey:null}],storageKey:"edge_media_to_caption(first:1)"},ja,ka,la,ma,O,P,R,T,U,W,V,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user_connection",kind:"LinkedField",name:"edge_media_to_sponsor_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphSponsorTag",kind:"LinkedField",name:"node",plural:!1,selections:[na,h],storageKey:null}],storageKey:null}],storageKey:null},oa,pa,t,qa,S,ra,sa,ta,ua,va,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media_connection",kind:"LinkedField",name:"edge_web_media_to_related_media",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[g,i,j,h],storageKey:null}],storageKey:null}],storageKey:null},wa,Q,F,K,$,{kind:"InlineFragment",selections:[Y,{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children_connection",kind:"LinkedField",name:"edge_sidecar_to_children",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[g,h,i,k,r,s,v,w,x,B,A,q,z,L,$,C,D,E,X],storageKey:null}],storageKey:null}],storageKey:null}],type:"XDTGraphSidecar",abstractKey:null}],storageKey:null}]},params:{id:aa("PolarisPostActionLoadPostQueryLegacyQuery_instagramRelayOperation"),metadata:{is_distillery:!0},name:"PolarisPostActionLoadPostQueryLegacyQuery",operationKind:"query",text:null}}}();d.exports=a}),null);
__d("PolarisPostActionLoadPostQueryMediaIdQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8560989810597985"}),null);
__d("PolarisPostActionLoadPostQueryMediaIdQuery.graphql",["PolarisPostActionLoadPostQueryMediaIdQuery_instagramRelayOperation"],(function(a,aa,b,c,d,e){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"mediaId"}],b=[{kind:"Variable",name:"media_id",variableName:"mediaId"}],c={alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"taken_at",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"inventory_source",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},l={alias:null,args:null,concreteType:"XDTVideoVersion",kind:"LinkedField",name:"video_versions",plural:!0,selections:[i,j,k,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"is_dash_eligible",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"number_of_qualities",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"video_dash_manifest",storageKey:null};k={alias:null,args:null,concreteType:"XDTImageVersion2",kind:"LinkedField",name:"image_versions2",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTImageCandidate",kind:"LinkedField",name:"candidates",plural:!0,selections:[k,j,i],storageKey:null}],storageKey:null};j={alias:null,args:null,kind:"ScalarField",name:"is_paid_partnership",storageKey:null};i={alias:null,args:null,kind:"ScalarField",name:"is_pending",storageKey:null};var r={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"original_height",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"original_width",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"organic_tracking_token",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"is_embeds_disabled",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"following",storageKey:null},A={alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followed_by",storageKey:null},z,{alias:null,args:null,kind:"ScalarField",name:"incoming_request",storageKey:null},w,{alias:null,args:null,kind:"ScalarField",name:"is_restricted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_viewer_unconnected",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"outgoing_request",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subscribed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_feed_favorite",storageKey:null}],storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"latest_reel_media",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"comments_disabled",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"like_and_view_counts_disabled",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"can_viewer_reshare",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},G={alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},H={alias:null,args:null,concreteType:"XDTUserTagInfosDict",kind:"LinkedField",name:"usertags",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTUserTagInfoDict",kind:"LinkedField",name:"in",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[d,r,n,m,y],storageKey:null}],storageKey:null}],storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},J={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},K={alias:null,args:null,concreteType:"XDTMediaOverlayPayloadSchema",kind:"LinkedField",name:"media_overlay_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTButtonSpec",kind:"LinkedField",name:"banner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"button_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_chevron",storageKey:null},{alias:null,args:null,concreteType:"XDTIconSpec",kind:"LinkedField",name:"icon",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"icon_glyph",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_type",storageKey:null},I,{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_text_centered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"secondary_text",storageKey:null},J,{alias:null,args:null,concreteType:"XDTTextColorSpec",kind:"LinkedField",name:"text_color",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"dark",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"light",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"carousel_parent_id",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"bloks_app_url",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"should_have_sharing_friction",storageKey:null},P={alias:null,args:null,concreteType:"XDTSharingFrictionInfo",kind:"LinkedField",name:"sharing_friction_info",plural:!1,selections:[N,O],storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"preview",storageKey:null};I={alias:null,args:null,concreteType:"XDTLocationDict",kind:"LinkedField",name:"location",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"lat",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lng",storageKey:null},I,m],storageKey:null};var R={alias:null,args:null,kind:"ScalarField",name:"has_audio",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"audio_type",storageKey:null},T={alias:null,args:null,concreteType:"XDTClipsAchievementsInfo",kind:"LinkedField",name:"achievements_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"show_achievements",storageKey:null}],storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"should_mute_audio",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"should_mute_audio_reason",storageKey:null},W={alias:null,args:null,concreteType:"XDTMusicInfo",kind:"LinkedField",name:"music_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTMusicConsumptionInfoDict",kind:"LinkedField",name:"music_consumption_info",plural:!1,selections:[U,V],storageKey:null},{alias:null,args:null,concreteType:"XDTTrackData",kind:"LinkedField",name:"music_asset_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"display_artist",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_cluster_id",storageKey:null}],storageKey:null}],storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"original_audio_title",storageKey:null},Y={alias:null,args:null,kind:"ScalarField",name:"audio_asset_id",storageKey:null};V={alias:null,args:null,concreteType:"XDTOriginalSoundConsumptionInfo",kind:"LinkedField",name:"consumption_info",plural:!1,selections:[V,{alias:null,args:null,kind:"ScalarField",name:"should_mute_audio_reason_type",storageKey:null}],storageKey:null};var Z={alias:null,args:null,concreteType:"XDTClipsAppAttribution",kind:"LinkedField",name:"clips_attribution_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attribution_app_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attribution_app_name",storageKey:null},{alias:null,args:null,concreteType:"XDTClipsPivotPageHeader",kind:"LinkedField",name:"pivot_page_header",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"developer_app_logo_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"content_url",storageKey:null}],storageKey:null}],storageKey:null};J={alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"caption",plural:!1,selections:[J],storageKey:null};z={alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[z],storageKey:null};var $={alias:null,args:null,kind:"ScalarField",name:"main_feed_carousel_starting_media_id",storageKey:null},ba={alias:null,args:null,kind:"ScalarField",name:"has_liked",storageKey:null},ca={alias:null,args:null,kind:"ScalarField",name:"commenting_disabled_for_viewer",storageKey:null},da={alias:null,args:null,kind:"ScalarField",name:"comment_count",storageKey:null},ea={alias:null,args:null,kind:"ScalarField",name:"media_level_comment_controls",storageKey:null},fa={alias:null,args:null,kind:"ScalarField",name:"ig_media_sharing_disabled",storageKey:null},ga={alias:null,args:null,kind:"ScalarField",name:"audience",storageKey:null},ha={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},ia={alias:null,args:null,kind:"ScalarField",name:"photo_of_you",storageKey:null},ja={alias:null,args:null,kind:"ScalarField",name:"carousel_media_count",storageKey:null},ka={alias:null,args:null,kind:"ScalarField",name:"view_count",storageKey:null},la={alias:null,args:null,kind:"ScalarField",name:"like_count",storageKey:null},ma={alias:null,args:null,kind:"ScalarField",name:"logging_info_token",storageKey:null};O={alias:null,args:null,concreteType:"XDTSharingFrictionInfo",kind:"LinkedField",name:"sharing_friction_info",plural:!1,selections:[O,N],storageKey:null};N={alias:null,args:null,concreteType:"XDTUserTagInfosDict",kind:"LinkedField",name:"usertags",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTUserTagInfoDict",kind:"LinkedField",name:"in",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[d,r,n,m,y,e],storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PolarisPostActionLoadPostQueryMediaIdQuery",selections:[{alias:null,args:b,concreteType:"XDTMediaInfoListResponse",kind:"LinkedField",name:"xdt_api__v1__media__media_id_web_info",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"PolarisPostActionLoadPostQueryInlineMediaFragment",selections:[{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"items",plural:!0,selections:[c,d,e,f,g,h,l,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"facepile_top_likers",plural:!0,selections:[m,d,n],storageKey:null},o,p,q,k,j,{alias:null,args:null,concreteType:"XDTSponsorTag",kind:"LinkedField",name:"sponsor_tags",plural:!0,selections:[i,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"sponsor",plural:!1,selections:[d,n,m,r,s],storageKey:null}],storageKey:null},t,u,v,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[d,n,m,w,x,s,y,A,B],storageKey:null},C,D,E,F,G,H,K,{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"carousel_media",plural:!0,selections:[e,d,L,o,q,t,u,k,M,P,Q,v,l,K,H],storageKey:null},I,R,{alias:null,args:null,concreteType:"XDTClipsMetadataDict",kind:"LinkedField",name:"clips_metadata",plural:!1,selections:[S,T,W,{alias:null,args:null,concreteType:"XDTOriginalSoundData",kind:"LinkedField",name:"original_sound_info",plural:!1,selections:[X,U,Y,V,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"ig_artist",plural:!1,selections:[n],storageKey:null}],storageKey:null}],storageKey:null},Z,J,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"owner",plural:!1,selections:[d,n,r,m,w,s,z],storageKey:null},$,ba,ca,da,ea,fa,ga,ha,ia,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"invited_coauthor_producers",plural:!0,selections:[d],storageKey:null},ja,ka,la,ma,O],storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PolarisPostActionLoadPostQueryMediaIdQuery",selections:[{alias:null,args:b,concreteType:"XDTMediaInfoListResponse",kind:"LinkedField",name:"xdt_api__v1__media__media_id_web_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"items",plural:!0,selections:[c,d,e,f,g,h,l,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"facepile_top_likers",plural:!0,selections:[m,d,n,e],storageKey:null},o,p,q,k,j,{alias:null,args:null,concreteType:"XDTSponsorTag",kind:"LinkedField",name:"sponsor_tags",plural:!0,selections:[i,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"sponsor",plural:!1,selections:[d,n,m,r,s,e],storageKey:null}],storageKey:null},t,u,v,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[d,n,m,w,x,s,y,A,B,e],storageKey:null},C,D,E,F,G,N,K,{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"carousel_media",plural:!0,selections:[e,d,L,o,q,t,u,k,M,P,Q,v,l,K,N],storageKey:null},I,R,{alias:null,args:null,concreteType:"XDTClipsMetadataDict",kind:"LinkedField",name:"clips_metadata",plural:!1,selections:[S,T,W,{alias:null,args:null,concreteType:"XDTOriginalSoundData",kind:"LinkedField",name:"original_sound_info",plural:!1,selections:[X,U,Y,V,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"ig_artist",plural:!1,selections:[n,e],storageKey:null}],storageKey:null}],storageKey:null},Z,J,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"owner",plural:!1,selections:[d,n,r,m,w,s,z,e],storageKey:null},$,ba,ca,da,ea,fa,ga,ha,ia,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"invited_coauthor_producers",plural:!0,selections:[d,e],storageKey:null},ja,ka,la,ma,O],storageKey:null}],storageKey:null}]},params:{id:aa("PolarisPostActionLoadPostQueryMediaIdQuery_instagramRelayOperation"),metadata:{is_distillery:!0},name:"PolarisPostActionLoadPostQueryMediaIdQuery",operationKind:"query",text:null}}}();d.exports=a}),null);
__d("PolarisPostActionLoadPostQueryQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8845758582119845"}),null);
__d("PolarisPostActionLoadPostQueryQuery.graphql",["PolarisPostActionLoadPostQueryQuery_instagramRelayOperation"],(function(a,aa,b,c,d,e){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"fetch_tagged_user_count"},b={defaultValue:null,kind:"LocalArgument",name:"hoisted_comment_id"},c={defaultValue:null,kind:"LocalArgument",name:"hoisted_reply_id"},d={defaultValue:null,kind:"LocalArgument",name:"shortcode"},e=[{kind:"Variable",name:"shortcode",variableName:"shortcode"}],f={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"shortcode",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"thumbnail_src",storageKey:null},j={alias:null,args:null,concreteType:"XDTGraphMediaDimensions",kind:"LinkedField",name:"dimensions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"misinformation_type",storageKey:null},n={alias:null,args:null,concreteType:"XDTGraphMediaGatingInfo",kind:"LinkedField",name:"gating_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"buttons",storageKey:null},k,{alias:null,args:null,kind:"ScalarField",name:"gating_type",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"center_button",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_reveal_cta",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"time_gated",storageKey:null},m],storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"fact_check_overall_rating",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},r={alias:null,args:null,concreteType:"XDTGraphMediaFactCheck",kind:"LinkedField",name:"fact_check_information",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"rating",storageKey:null},{alias:null,args:null,concreteType:"XDTGraphMediaFactCheckProvider",kind:"LinkedField",name:"provider",plural:!1,selections:[p,q,{alias:null,args:null,kind:"ScalarField",name:"appeal_email",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_directly_rated",storageKey:null}],storageKey:null},s={alias:null,args:null,concreteType:"XDTGraphMediaSensitivityFrictionInfo",kind:"LinkedField",name:"sensitivity_friction_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sensitivity_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_primary_button",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_secondary_button",storageKey:null}],storageKey:null},t={alias:null,args:null,concreteType:"XDTGraphMediaSharingFrictionInfo",kind:"LinkedField",name:"sharing_friction_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_have_sharing_friction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bloks_app_url",storageKey:null}],storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},w={alias:null,args:null,concreteType:"XDTGraphMediaOverlayIconSpec",kind:"LinkedField",name:"icon",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"icon_glyph",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_type",storageKey:null},p,v],storageKey:null},x=[{alias:null,args:null,kind:"ScalarField",name:"button_type",storageKey:null},u,{alias:null,args:null,kind:"ScalarField",name:"secondary_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null},w,{alias:null,args:null,concreteType:"XDTGraphMediaOverlayTextColorSpec",kind:"LinkedField",name:"text_color",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"light",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dark",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_text_centered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_chevron",storageKey:null}];x={alias:null,args:null,concreteType:"XDTGraphMediaOverlayInfo",kind:"LinkedField",name:"media_overlay_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTGraphMediaOverlayButtonSpec",kind:"LinkedField",name:"banner",plural:!1,selections:x,storageKey:null},{alias:null,args:null,concreteType:"XDTGraphMediaOverlayButtonSpec",kind:"LinkedField",name:"buttons",plural:!0,selections:x,storageKey:null},k,w,m,{alias:null,args:null,kind:"ScalarField",name:"overlay_layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"overlay_type",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"bloks_data",storageKey:null}],storageKey:null};k={alias:null,args:null,kind:"ScalarField",name:"media_preview",storageKey:null};w={alias:null,args:null,kind:"ScalarField",name:"display_url",storageKey:null};m={alias:null,args:null,concreteType:"XDTGraphImageResource",kind:"LinkedField",name:"display_resources",plural:!0,selections:[v,{alias:null,args:null,kind:"ScalarField",name:"config_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"config_height",storageKey:null}],storageKey:null};v={alias:null,args:null,kind:"ScalarField",name:"is_video",storageKey:null};var y={alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null},z={alias:null,args:null,concreteType:"XDTGraphUpcomingEventDict",kind:"LinkedField",name:"upcoming_event",plural:!1,selections:[g,l,{alias:null,args:null,kind:"ScalarField",name:"start_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reminder_enabled",storageKey:null}],storageKey:null},A=[{kind:"Variable",name:"first",variableName:"fetch_tagged_user_count"}],B={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"followed_by_viewer",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},F={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"user",plural:!1,selections:[B,C,g,D,q,E],storageKey:null},G={alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},I={alias:null,args:A,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user_connection",kind:"LinkedField",name:"edge_media_to_tagged_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphTaggedUser",kind:"LinkedField",name:"node",plural:!1,selections:[F,G,H],storageKey:null}],storageKey:null}],storageKey:null},J={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},K=[J];C={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"owner",plural:!1,selections:[g,E,D,q,{alias:null,args:null,kind:"ScalarField",name:"blocked_by_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"restricted_by_viewer",storageKey:null},C,B,{alias:null,args:null,kind:"ScalarField",name:"has_blocked_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_embeds_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"requested_by_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pass_tiering_recommendation",storageKey:null},{alias:null,args:null,concreteType:"XDTgraphuser_edge_owner_to_timeline_media_connection",kind:"LinkedField",name:"edge_owner_to_timeline_media",plural:!1,selections:K,storageKey:null},{alias:null,args:null,concreteType:"XDTgraphuser_edge_followed_by_connection",kind:"LinkedField",name:"edge_followed_by",plural:!1,selections:K,storageKey:null}],storageKey:null};B=[{kind:"Literal",name:"first",value:1}];var L={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"can_see_insights_as_brand",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"caption_is_edited",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"has_ranked_comments",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"like_and_view_counts_disabled",storageKey:null},Q={alias:null,args:null,concreteType:"XDTPageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null}],storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"did_report_as_spam",storageKey:null};D=[g,D,q,E];q={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"owner",plural:!1,selections:D,storageKey:null};var S={alias:null,args:null,kind:"ScalarField",name:"viewer_has_liked",storageKey:null};K={alias:null,args:null,concreteType:"XDTgraphcomment_edge_liked_by_connection",kind:"LinkedField",name:"edge_liked_by",plural:!1,selections:K,storageKey:null};var T={alias:null,args:null,kind:"ScalarField",name:"is_restricted_pending",storageKey:null},U=[{alias:null,args:null,concreteType:"XDTGraphComment",kind:"LinkedField",name:"node",plural:!1,selections:[g,u,L,R,q,S,K,T],storageKey:null}],V={alias:null,args:[{kind:"Literal",name:"first",value:3}],concreteType:"XDTgraphcomment_edge_threaded_comments_connection",kind:"LinkedField",name:"edge_threaded_comments",plural:!1,selections:[J,Q,{alias:null,args:null,concreteType:"XDTgraphcomment_edge_threaded_comments",kind:"LinkedField",name:"edges",plural:!0,selections:U,storageKey:null}],storageKey:"edge_threaded_comments(first:3)"};Q={alias:null,args:[{kind:"Literal",name:"first",value:24}],concreteType:"XDTgraphmediainterface_edge_media_to_parent_comment_connection",kind:"LinkedField",name:"edge_media_to_parent_comment",plural:!1,selections:[J,Q,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_parent_comment",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphComment",kind:"LinkedField",name:"node",plural:!1,selections:[g,u,L,R,q,S,K,T,V],storageKey:null}],storageKey:null}],storageKey:"edge_media_to_parent_comment(first:24)"};R={alias:null,args:[{kind:"Variable",name:"hoisted_comment_id",variableName:"hoisted_comment_id"}],concreteType:"XDTgraphmediainterface_edge_media_to_hoisted_comment_connection",kind:"LinkedField",name:"edge_media_to_hoisted_comment",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_hoisted_comment",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphComment",kind:"LinkedField",name:"node",plural:!1,selections:[g,u,L,R,q,S,K,T,{alias:null,args:[{kind:"Variable",name:"hoisted_reply_id",variableName:"hoisted_reply_id"}],concreteType:"XDTgraphcomment_edge_comment_to_hoisted_reply_connection",kind:"LinkedField",name:"edge_comment_to_hoisted_reply",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphcomment_edge_comment_to_hoisted_reply",kind:"LinkedField",name:"edges",plural:!0,selections:U,storageKey:null}],storageKey:null},V],storageKey:null}],storageKey:null}],storageKey:null};q={alias:null,args:[{kind:"Literal",name:"first",value:2}],concreteType:"XDTgraphmediainterface_edge_media_preview_comment_connection",kind:"LinkedField",name:"edge_media_preview_comment",plural:!1,selections:[J,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_comment",kind:"LinkedField",name:"edges",plural:!0,selections:U,storageKey:null}],storageKey:"edge_media_preview_comment(first:2)"};K={alias:null,args:null,kind:"ScalarField",name:"comments_disabled",storageKey:null};T={alias:null,args:null,kind:"ScalarField",name:"commenting_disabled_for_viewer",storageKey:null};V={alias:null,args:null,kind:"ScalarField",name:"taken_at_timestamp",storageKey:null};U={alias:null,args:[{kind:"Literal",name:"first",value:10}],concreteType:"XDTgraphmediainterface_edge_media_preview_like_connection",kind:"LinkedField",name:"edge_media_preview_like",plural:!1,selections:[J,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_like",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"node",plural:!1,selections:D,storageKey:null}],storageKey:null}],storageKey:"edge_media_preview_like(first:10)"};J={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"sponsor",plural:!1,selections:[g,E],storageKey:null};E={alias:null,args:null,kind:"ScalarField",name:"is_affiliate",storageKey:null};var W={alias:null,args:null,kind:"ScalarField",name:"is_paid_partnership",storageKey:null};p={alias:null,args:null,concreteType:"XDTGraphLocation",kind:"LinkedField",name:"location",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"has_public_page",storageKey:null},p,{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_json",storageKey:null}],storageKey:null};var ba={alias:null,args:null,concreteType:"XDTGraphNftAssetInfoType",kind:"LinkedField",name:"nft_asset_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"asset_id",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"shimmer_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_igid",storageKey:null}],storageKey:null},ca={alias:null,args:null,kind:"ScalarField",name:"viewer_has_saved",storageKey:null},da={alias:null,args:null,kind:"ScalarField",name:"viewer_has_saved_to_collection",storageKey:null},ea={alias:null,args:null,kind:"ScalarField",name:"viewer_in_photo_of_you",storageKey:null},fa={alias:null,args:null,kind:"ScalarField",name:"viewer_can_reshare",storageKey:null},ga={alias:null,args:null,kind:"ScalarField",name:"is_ad",storageKey:null},ha={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"coauthor_producers",plural:!0,selections:D,storageKey:null};D={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"pinned_for_users",plural:!0,selections:D,storageKey:null};var X={alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},Y={alias:null,args:null,concreteType:"XDTGraphDashInfo",kind:"LinkedField",name:"dash_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_dash_eligible",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_dash_manifest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number_of_qualities",storageKey:null}],storageKey:null},Z={alias:null,args:null,kind:"ScalarField",name:"has_audio",storageKey:null},ia={alias:null,args:null,kind:"ScalarField",name:"video_url",storageKey:null},ja={alias:null,args:null,kind:"ScalarField",name:"video_view_count",storageKey:null},ka={alias:null,args:null,kind:"ScalarField",name:"video_play_count",storageKey:null};l={kind:"InlineFragment",selections:[X,Y,Z,ia,ja,ka,{alias:null,args:null,kind:"ScalarField",name:"encoding_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_published",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"video_duration",storageKey:null},{alias:null,args:null,concreteType:"XDTGraphClipsMusicAttributionInfo",kind:"LinkedField",name:"clips_music_attribution_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"artist_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"song_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uses_original_audio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_mute_audio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_mute_audio_reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_id",storageKey:null}],storageKey:null}],type:"XDTGraphVideo",abstractKey:null};var $={kind:"InlineFragment",selections:[X],type:"XDTGraphImage",abstractKey:null};Y={kind:"InlineFragment",selections:[X,Y,Z,ia,ja,ka],type:"XDTGraphVideo",abstractKey:null};Z={alias:null,args:A,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user_connection",kind:"LinkedField",name:"edge_media_to_tagged_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphTaggedUser",kind:"LinkedField",name:"node",plural:!1,selections:[F,G,H,g],storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,b,c,d],kind:"Fragment",metadata:null,name:"PolarisPostActionLoadPostQueryQuery",selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"xdt_shortcode_media",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"PolarisPostActionLoadPostQueryInlineFragmentWithoutRelatedProfiles",selections:[f,g,h,i,j,n,o,r,s,t,x,k,w,m,v,y,z,I,C,{alias:null,args:B,concreteType:"XDTgraphmediainterface_edge_media_to_caption_connection",kind:"LinkedField",name:"edge_media_to_caption",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_caption",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphMediaCaption",kind:"LinkedField",name:"node",plural:!1,selections:[L,u],storageKey:null}],storageKey:null}],storageKey:"edge_media_to_caption(first:1)"},M,N,O,P,Q,R,q,K,T,V,U,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user_connection",kind:"LinkedField",name:"edge_media_to_sponsor_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphSponsorTag",kind:"LinkedField",name:"node",plural:!1,selections:[J],storageKey:null}],storageKey:null}],storageKey:null},E,W,p,ba,S,ca,da,ea,fa,ga,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media_connection",kind:"LinkedField",name:"edge_web_media_to_related_media",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[h,i],storageKey:null}],storageKey:null}],storageKey:null},ha,D,l,$,{kind:"InlineFragment",selections:[X,{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children_connection",kind:"LinkedField",name:"edge_sidecar_to_children",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[f,g,h,j,n,o,r,s,t,x,k,w,m,Y,$,v,y,z,I],storageKey:null}],storageKey:null}],storageKey:null}],type:"XDTGraphSidecar",abstractKey:null}],args:null,argumentDefinitions:[{kind:"RootArgument",name:"fetch_tagged_user_count"},{kind:"RootArgument",name:"hoisted_comment_id"},{kind:"RootArgument",name:"hoisted_reply_id"}]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[d,a,b,c],kind:"Operation",name:"PolarisPostActionLoadPostQueryQuery",selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"xdt_shortcode_media",plural:!1,selections:[f,{kind:"TypeDiscriminator",abstractKey:"__isXDTGraphMediaInterface"},g,h,i,j,n,o,r,s,t,x,k,w,m,v,y,z,Z,C,{alias:null,args:B,concreteType:"XDTgraphmediainterface_edge_media_to_caption_connection",kind:"LinkedField",name:"edge_media_to_caption",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_caption",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphMediaCaption",kind:"LinkedField",name:"node",plural:!1,selections:[L,u,g],storageKey:null}],storageKey:null}],storageKey:"edge_media_to_caption(first:1)"},M,N,O,P,Q,R,q,K,T,V,U,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user_connection",kind:"LinkedField",name:"edge_media_to_sponsor_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphSponsorTag",kind:"LinkedField",name:"node",plural:!1,selections:[J,g],storageKey:null}],storageKey:null}],storageKey:null},E,W,p,ba,S,ca,da,ea,fa,ga,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media_connection",kind:"LinkedField",name:"edge_web_media_to_related_media",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[f,h,i,g],storageKey:null}],storageKey:null}],storageKey:null},ha,D,l,$,{kind:"InlineFragment",selections:[X,{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children_connection",kind:"LinkedField",name:"edge_sidecar_to_children",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[f,g,h,j,n,o,r,s,t,x,k,w,m,Y,$,v,y,z,Z],storageKey:null}],storageKey:null}],storageKey:null}],type:"XDTGraphSidecar",abstractKey:null}],storageKey:null}]},params:{id:aa("PolarisPostActionLoadPostQueryQuery_instagramRelayOperation"),metadata:{is_distillery:!0},name:"PolarisPostActionLoadPostQueryQuery",operationKind:"query",text:null}}}();d.exports=a}),null);
__d("PolarisPostActionLoadPostQuerySharerQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8094245574010134"}),null);
__d("PolarisPostActionLoadPostQuerySharerQuery.graphql",["PolarisPostActionLoadPostQuerySharerQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"mediaId"},c={defaultValue:null,kind:"LocalArgument",name:"shid"},d=[{kind:"Variable",name:"media_id",variableName:"mediaId"},{kind:"Variable",name:"shid",variableName:"shid"}],e={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url_hd",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null};return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"PolarisPostActionLoadPostQuerySharerQuery",selections:[{alias:null,args:d,concreteType:"XDTShidUserResponse",kind:"LinkedField",name:"xdt_get_relationship_for_shid_logged_out",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"PolarisPostActionLoadPostQueryInlineSharerFragment",selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"sender",plural:!1,selections:[e,f,g,h],storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"PolarisPostActionLoadPostQuerySharerQuery",selections:[{alias:null,args:d,concreteType:"XDTShidUserResponse",kind:"LinkedField",name:"xdt_get_relationship_for_shid_logged_out",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"sender",plural:!1,selections:[e,f,g,h,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("PolarisPostActionLoadPostQuerySharerQuery_instagramRelayOperation"),metadata:{is_distillery:!0},name:"PolarisPostActionLoadPostQuerySharerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PolarisPostActionLoadPostQuery",["PolarisPostActionLoadPostQueryInlineFragment.graphql","PolarisPostActionLoadPostQueryInlineFragmentWithoutRelatedProfiles.graphql","PolarisPostActionLoadPostQueryInlineMediaFragment.graphql","PolarisPostActionLoadPostQueryInlineSharerFragment.graphql","PolarisPostActionLoadPostQueryLegacyQuery.graphql","PolarisPostActionLoadPostQueryMediaIdQuery.graphql","PolarisPostActionLoadPostQueryQuery.graphql","PolarisPostActionLoadPostQuerySharerQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o;a=h!==void 0?h:h=b("PolarisPostActionLoadPostQueryInlineMediaFragment.graphql");c=i!==void 0?i:i=b("PolarisPostActionLoadPostQueryInlineFragment.graphql");d=j!==void 0?j:j=b("PolarisPostActionLoadPostQueryInlineFragmentWithoutRelatedProfiles.graphql");e=k!==void 0?k:k=b("PolarisPostActionLoadPostQueryInlineSharerFragment.graphql");f=l!==void 0?l:l=b("PolarisPostActionLoadPostQueryQuery.graphql");var p=m!==void 0?m:m=b("PolarisPostActionLoadPostQueryLegacyQuery.graphql"),q=n!==void 0?n:n=b("PolarisPostActionLoadPostQueryMediaIdQuery.graphql");b=o!==void 0?o:o=b("PolarisPostActionLoadPostQuerySharerQuery.graphql");g.MEDIA_INLINE_FRAGMENT=a;g.INLINE_FRAGMENT=c;g.INLINE_FRAGMENT_WITHOUT_RELATED_PROFILES=d;g.SHARER_INLINE_FRAGMENT=e;g.POST_QUERY=f;g.POST_QUERY_LEGACY=p;g.POST_QUERY_MEDIA_ID=q;g.POST_SHARER_INFORMATION=b}),98);
__d("PolarisPostActionPostPageLoaded",["nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return{postData:c("nullthrows")(a.shortcode_media),type:"POST_PAGE_LOADED"}}g.postPageLoaded=a}),98);
__d("PolarisPostActionLoadPost",["CometRelay","FBLogger","PolarisAdsActions","PolarisInstapi","PolarisIsLoggedIn","PolarisPostActionLoadPostQuery","PolarisPostActionPostLoadedV2","PolarisPostActionPostPageLoaded","PolarisRelayEnvironment","PolarisSenderNameOnReelsQEHelpers","PolarisThreadedCommentActions","asyncToGeneratorRuntime","err","getPolarisPostIdFromNativeId","isTruthy","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=(yield d("CometRelay").fetchQuery(c("PolarisRelayEnvironment"),d("PolarisPostActionLoadPostQuery").POST_SHARER_INFORMATION,{mediaId:b,shid:a}).toPromise());if(b==null||b.xdt_get_relationship_for_shid_logged_out==null)return null;a=d("CometRelay").readInlineData(d("PolarisPostActionLoadPostQuery").SHARER_INLINE_FRAGMENT,b.xdt_get_relationship_for_shid_logged_out);return a});return i.apply(this,arguments)}function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("CometRelay").fetchQuery(c("PolarisRelayEnvironment"),d("PolarisPostActionLoadPostQuery").POST_QUERY_MEDIA_ID,{mediaId:a}).toPromise());if(a==null)throw c("err")("Post modal response is unexpectedly null");a=d("CometRelay").readInlineData(d("PolarisPostActionLoadPostQuery").MEDIA_INLINE_FRAGMENT,a==null?void 0:a.xdt_api__v1__media__media_id_web_info);return a.items!=null?[].concat(a.items):null});return k.apply(this,arguments)}function l(a){return a.split("_").length>1}function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("PolarisInstapi").apiGet("/api/v1/media/{media_id}/info/",{path:{media_id:a},query:{}}));a=a.data;return a.items!=null?[].concat(a.items):null});return n.apply(this,arguments)}function a(a,e,f,g,i){f===void 0&&(f=!1);return function(){var k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,k){b({shortcode:a,type:"POST_PAGE_LOADING"});if(e!=null&&d("PolarisIsLoggedIn").isLoggedIn())try{b(d("PolarisThreadedCommentActions").requestInitialComments(c("getPolarisPostIdFromNativeId")(e)));var n=l(e)?yield j(e):yield m(e);if(n!=null){var o=n[0];k=new Set(k().ads.feed.keys());o!=null&&o.ad_id!=null?b(d("PolarisAdsActions").adMediaInfoLoaded(n[0],a)):b(d("PolarisPostActionPostLoadedV2").postLoadedV2(n,a,k))}}catch(a){c("FBLogger")("ig_web").catching(a)}else{o=f?d("PolarisPostActionLoadPostQuery").POST_QUERY:d("PolarisPostActionLoadPostQuery").POST_QUERY_LEGACY;try{if(i!=null&&d("PolarisSenderNameOnReelsQEHelpers").shouldShowSenderNameOnReels()){n=(yield h(i,e));n!=null&&b({fullName:n.sender.full_name,profilePicUrl:n.sender.profile_pic_url,profilePicUrlHd:n.sender.profile_pic_url_hd,sharedPostId:e,type:"UPDATE_SHARER_INFORMATION",username:n.sender.username})}k=(yield d("CometRelay").fetchQuery(c("PolarisRelayEnvironment"),o,{shortcode:a}).toPromise());f?n=d("CometRelay").readInlineData(d("PolarisPostActionLoadPostQuery").INLINE_FRAGMENT_WITHOUT_RELATED_PROFILES,k==null?void 0:k.xdt_shortcode_media):n=d("CometRelay").readInlineData(d("PolarisPostActionLoadPostQuery").INLINE_FRAGMENT,k==null?void 0:k.xdt_shortcode_media);o=n.accessibility_caption==null&&c("isTruthy")(g);o&&(n=babelHelpers["extends"]({},n,{accessibility_caption:g}));b(d("PolarisPostActionPostPageLoaded").postPageLoaded({shortcode_media:c("nullthrows")(n)}))}catch(a){c("FBLogger")("ig_web").catching(a).mustfix("unexpected")}}});return function(a,b){return k.apply(this,arguments)}}()}g.loadPost=a}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("javascript-blowfish-1.0.5",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a=function(b,c){this.key=b,(c==="ecb"||c==="cbc")&&(this.mode=c),this.sBox0=a.sBox0.slice(),this.sBox1=a.sBox1.slice(),this.sBox2=a.sBox2.slice(),this.sBox3=a.sBox3.slice(),this.pArray=a.pArray.slice(),this.generateSubkeys(b)};a.prototype={sBox0:null,sBox1:null,sBox2:null,sBox3:null,pArray:null,key:null,mode:"ecb",iv:"abc12345",keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encrypt:function(a,b){if(this.mode==="ecb")return this.encryptECB(a);if(this.mode==="cbc")return this.encryptCBC(a,b);throw new Error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f.")},decrypt:function(a,b){if(this.mode==="ecb")return this.decryptECB(a);if(this.mode==="cbc")return this.decryptCBC(a,b);throw new Error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f.")},encryptECB:function(a){a=this.utf8Decode(a);var b=Math.ceil(a.length/8),c="";for(var d=0;d<b;d++){var e=a.substr(d*8,8);if(e.length<8){var f=8-e.length;while(0<f--)e+="\0"}var g;f=this.split64by32(e);e=f[0];g=f[1];f=this.encipher(e,g);e=f[0];g=f[1];c+=this.num2block32(e)+this.num2block32(g)}return c},encryptCBC:function(a,b){a=this.utf8Decode(a);var c=Math.ceil(a.length/8),d;b=this.split64by32(b);d=b[0];b=b[1];var e="";for(var f=0;f<c;f++){var g=a.substr(f*8,8);if(g.length<8){var h=8-g.length;while(0<h--)g+="\0"}var i;h=this.split64by32(g);g=h[0];i=h[1];g=this.xor(g,d);i=this.xor(i,b);h=this.encipher(g,i);g=h[0];i=h[1];d=g;b=i;e+=this.num2block32(g)+this.num2block32(i)}return e},decryptECB:function(a){var b=Math.ceil(a.length/8),c="";for(var d=0;d<b;d++){var e=a.substr(d*8,8);if(e.length<8)throw new Error("\u0417\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0430: \u0434\u043b\u0438\u043d\u043d\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043a\u0440\u0430\u0442\u043d\u0430 8 \u0431\u0430\u044b\u0439\u0442\u0430\u043c.");var f,g;e=this.split64by32(e);f=e[0];g=e[1];e=this.decipher(f,g);f=e[0];g=e[1];c+=this.num2block32(f)+this.num2block32(g)}c=this.utf8Encode(c);return c},decryptCBC:function(a,b){var c=Math.ceil(a.length/8),d,e,f;b=this.split64by32(b);d=b[0];b=b[1];var g="";for(var h=0;h<c;h++){var i=a.substr(h*8,8);if(i.length<8)throw new Error("\u0417\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0430: \u0434\u043b\u0438\u043d\u043d\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043a\u0440\u0430\u0442\u043d\u0430 8 \u0431\u0430\u0439\u0442\u0430\u043c.");var j,k;i=this.split64by32(i);j=i[0];k=i[1];e=j;f=k;i=this.decipher(j,k);j=i[0];k=i[1];j=this.xor(j,d);k=this.xor(k,b);d=e;b=f;g+=this.num2block32(j)+this.num2block32(k)}g=this.utf8Encode(g);return g},F:function(a){var b=a>>>24,c=a<<8>>>24,d=a<<16>>>24;a=a<<24>>>24;b=this.addMod32(this.sBox0[b],this.sBox1[c]);b=this.xor(b,this.sBox2[d]);b=this.addMod32(b,this.sBox3[a]);return b},encipher:function(a,b){var c;for(var d=0;d<16;d++)a=this.xor(a,this.pArray[d]),b=this.xor(this.F(a),b),c=a,a=b,b=c;c=a;a=b;b=c;b=this.xor(b,this.pArray[16]);a=this.xor(a,this.pArray[17]);return[a,b]},decipher:function(a,b){var c;a=this.xor(a,this.pArray[17]);b=this.xor(b,this.pArray[16]);c=a;a=b;b=c;for(var d=15;d>=0;d--)c=a,a=b,b=c,b=this.xor(this.F(a),b),a=this.xor(a,this.pArray[d]);return[a,b]},generateSubkeys:function(a){var b=0,c=0,d,e;for(d=0;d<18;d++){for(e=4;e>0;e--)b=this.fixNegative(b<<8|a.charCodeAt(c)),c=(c+1)%a.length;this.pArray[d]=this.xor(this.pArray[d],b);b=0}e=[0,0];for(d=0;d<18;d+=2)e=this.encipher(e[0],e[1]),this.pArray[d]=e[0],this.pArray[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox0[d]=e[0],this.sBox0[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox1[d]=e[0],this.sBox1[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox2[d]=e[0],this.sBox2[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox3[d]=e[0],this.sBox3[d+1]=e[1]},block32toNum:function(a){return this.fixNegative(a.charCodeAt(0)<<24|a.charCodeAt(1)<<16|a.charCodeAt(2)<<8|a.charCodeAt(3))},num2block32:function(a){return String.fromCharCode(a>>>24)+String.fromCharCode(a<<8>>>24)+String.fromCharCode(a<<16>>>24)+String.fromCharCode(a<<24>>>24)},xor:function(a,b){return this.fixNegative(a^b)},addMod32:function(a,b){return this.fixNegative(a+b|0)},fixNegative:function(a){return a>>>0},split64by32:function(a){var b=a.substring(0,4);a=a.substring(4,8);return[this.block32toNum(b),this.block32toNum(a)]},utf8Decode:function(a){var b="";for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b+=String.fromCharCode(d):d>127&&d<2048?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(d&63|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(d&63|128))}return b},utf8Encode:function(a){var b="",c=0,d=0,e=0,f;while(c<a.length)d=a.charCodeAt(c),d<128?(b+=String.fromCharCode(d),c++):d>191&&d<224?(e=a.charCodeAt(c+1),b+=String.fromCharCode((d&31)<<6|e&63),c+=2):(e=a.charCodeAt(c+1),f=a.charCodeAt(c+2),b+=String.fromCharCode((d&15)<<12|(e&63)<<6|f&63),c+=3);return b},base64Encode:function(a){var b="",c,d,e,f,g,h,i=0;while(i<a.length)c=a.charCodeAt(i++),d=a.charCodeAt(i++),e=a.charCodeAt(i++),f=c>>2,c=(c&3)<<4|d>>4,g=(d&15)<<2|e>>6,h=e&63,isNaN(d)?g=h=64:isNaN(e)&&(h=64),b=b+this.keyStr.charAt(f)+this.keyStr.charAt(c)+this.keyStr.charAt(g)+this.keyStr.charAt(h);return b},base64Decode:function(a){var b="",c,d,e,f,g,h=0;a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(h<a.length)d=this.keyStr.indexOf(a.charAt(h++)),e=this.keyStr.indexOf(a.charAt(h++)),f=this.keyStr.indexOf(a.charAt(h++)),g=this.keyStr.indexOf(a.charAt(h++)),d=d<<2|e>>4,e=(e&15)<<4|f>>2,c=(f&3)<<6|g,b=b+String.fromCharCode(d),f!=64&&(b=b+String.fromCharCode(e)),g!=64&&(b=b+String.fromCharCode(c));return b},trimZeros:function(a){return a.replace(/\0+$/g,"")}};a.pArray=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731];a.sBox0=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946];a.sBox1=[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055];a.sBox2=[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504];a.sBox3=[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462];g.exports=a}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("javascript-blowfish",["javascript-blowfish-1.0.5"],(function(a,b,c,d,e,f){e.exports=b("javascript-blowfish-1.0.5")()}),null);
__d("react-spring-web",["react-spring-web-9.5.2"],(function(a,b,c,d,e,f){e.exports=b("react-spring-web-9.5.2")()}),null);/*FB_PKG_DELIM*/
__d("ExploreHomeClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1802");b=d("FalcoLoggerInternal").create("explore_home_click",a);e=b;g["default"]=e}),98);
__d("ExploreHomeImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1801");b=d("FalcoLoggerInternal").create("explore_home_impression",a);e=b;g["default"]=e}),98);
__d("IGDSArrowCwPanoOutline24.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{className:"xbh8q5q xi5qq39 x1owpc8m x1f6yumg x8pzrqk x1iq1zl9",d:"M21.318 8.364a10.003 10.003 0 1 0-2.022 10.475"}),i.jsx("path",{className:"xbh8q5q xi5qq39 x1owpc8m x1f6yumg x8pzrqk x1iq1zl9",d:"M17 8.364 22 8.364 22 3.364"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("IGDSCircleStarFilled24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M12 0a12 12 0 1 0 12 12A12.013 12.013 0 0 0 12 0Zm7.213 10.322-3.51 2.809 1.19 4.396a.75.75 0 0 1-1.142.819L12 15.826l-3.75 2.52a.75.75 0 0 1-1.142-.819l1.19-4.396-3.51-2.809a.75.75 0 0 1 .42-1.334l4.506-.29L11.3 4.623a.782.782 0 0 1 1.398 0l1.588 4.075 4.505.29a.75.75 0 0 1 .42 1.334Z"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSPinPanoFilled24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"m22.707 7.583-6.29-6.29a1 1 0 0 0-1.414 0 5.183 5.183 0 0 0-1.543 3.593L8.172 8.79a5.161 5.161 0 0 0-4.768 1.42 1 1 0 0 0 0 1.414l3.779 3.778-5.89 5.89a1 1 0 1 0 1.414 1.414l5.89-5.89 3.778 3.779a1 1 0 0 0 1.414 0 5.174 5.174 0 0 0 1.42-4.769l3.905-5.287a5.183 5.183 0 0 0 3.593-1.543 1 1 0 0 0 0-1.414Z"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("InstagramThumbnailClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3105");b=d("FalcoLoggerInternal").create("instagram_thumbnail_click",a);e=b;g["default"]=e}),98);
__d("InstagramThumbnailImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5527");b=d("FalcoLoggerInternal").create("instagram_thumbnail_impression",a);e=b;g["default"]=e}),98);
__d("PolarisClipIndicator.react",["fbt","IGDSBox.react","react","react-compiler-runtime","usePolarisNavigationIconHandler"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(4);a=a.size;a=a===void 0?24:a;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"__JHASH__0IkHef9bF4M__JHASH__"),b[0]=e):e=b[0];e=e;var f=d("usePolarisNavigationIconHandler").usePolarisNavigationIconHandler("Reels",!0);b[1]!==f||b[2]!==a?(e=j.jsx(c("IGDSBox.react"),{margin:2,position:"relative",children:j.jsx(f,{alt:e,color:"web-always-white",size:a})}),b[1]=f,b[2]=a,b[3]=e):e=b[3];return e}g["default"]=a}),226);
__d("PolarisMediaGridIconConstants",[],(function(a,b,c,d,e,f){"use strict";a=20;f.MEDIA_GRID_ICON_SIZE=a}),66);
__d("PolarisCloseFriendsProfileIndicator.react",["fbt","IGDSBox.react","IGDSCircleStarFilled24Icon.react","PolarisMediaGridIconConstants","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=d("react-compiler-runtime").c(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._(/*BTDS*/"__JHASH__CMWtNMyEzh9__JHASH__"),a[0]=b):b=a[0];b=b;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("IGDSBox.react"),{margin:2,position:"relative",children:j.jsx(c("IGDSCircleStarFilled24Icon.react"),{alt:b,color:"web-always-white",size:d("PolarisMediaGridIconConstants").MEDIA_GRID_ICON_SIZE})}),a[1]=b):b=a[1];return b}g["default"]=a}),226);
__d("PolarisErrorRetrySection.react",["IGDSArrowCwPanoOutline24.svg.react","PolarisGenericStrings","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.errorText;a=a.onRetry;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f="x6s0dn4 x78zum5 x1iyjqo2 xl56j7k x2b8uid",b[0]=f):f=b[0];var g;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(g="x6s0dn4 xjbqb8w x1ejq31n xd10rxx x1sy0etr x17r0tee x1ypdohk x78zum5 xdt5ytf xl56j7k x16q51m2",b[1]=g):g=b[1];var h,j;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(h=i.jsx(c("IGDSArrowCwPanoOutline24.svg.react"),{className:"x1gnnpzl x1yztbdb x1849jeq"}),j="x5n08af x1f6kntn xdj266r x1h5jrl4 xat24cr xmn8rco",b[2]=h,b[3]=j):(h=b[2],j=b[3]);e=(e=e)!=null?e:d("PolarisGenericStrings").FAILED_TO_LOAD_TEXT;b[4]!==e?(j=i.jsx("div",{className:j,children:e}),b[4]=e,b[5]=j):j=b[5];b[6]!==a||b[7]!==j?(e=i.jsx("div",{className:f,children:i.jsxs("button",{"aria-label":d("PolarisGenericStrings").RETRY_TEXT,className:g,onClick:a,tabIndex:"0",children:[h,j]})}),b[6]=a,b[7]=j,b[8]=e):e=b[8];return e}g["default"]=a}),98);
__d("PolarisExploreLogger",["ExploreHomeClickFalcoEvent","ExploreHomeImpressionFalcoEvent","FBLogger","InstagramThumbnailClickFalcoEvent","PolarisContainerModuleUtils","PolarisDynamicExploreMediaHelpers","PolarisDynamicExploreTypes","PolarisNavChain","PolarisPigeonLogger"],(function(a,b,c,d,e,f,g){"use strict";var h="explore_all:0",i="For You",j="explore_all";function k(a,b){return"["+b+","+a+"]"}function l(a,b){return"["+a+","+b+"]"}function m(a){switch(a){case d("PolarisDynamicExploreMediaHelpers").GRID_ITEM_SIZE.ONE_BY_ONE:return l(1,1);case d("PolarisDynamicExploreMediaHelpers").GRID_ITEM_SIZE.ONE_BY_TWO:return l(1,2);case d("PolarisDynamicExploreMediaHelpers").GRID_ITEM_SIZE.TWO_BY_TWO:return l(2,2);default:c("FBLogger")("ig_web").mustfix("unexpected explore grid item size");return d("PolarisDynamicExploreMediaHelpers").GRID_ITEM_SIZE.ONE_BY_ONE}}function a(a){switch(a){case"AUTOPLAY":case"CHANNEL":return d("PolarisDynamicExploreTypes").DISCOVERY_ITEM_TYPE.CHANNEL;case"BASIC":return d("PolarisDynamicExploreTypes").DISCOVERY_ITEM_TYPE.MEDIA;default:c("FBLogger")("ig_web").mustfix("unexpected explore grid item type");return d("PolarisDynamicExploreTypes").DISCOVERY_ITEM_TYPE.MEDIA}}function b(a){switch(a.item_type){case d("PolarisDynamicExploreTypes").ITEM_TYPE.CHANNEL:return d("PolarisDynamicExploreTypes").DISCOVERY_ITEM_TYPE.CHANNEL;case d("PolarisDynamicExploreTypes").ITEM_TYPE.IGTV:return d("PolarisDynamicExploreTypes").DISCOVERY_ITEM_TYPE.IGTV_MEDIA;case d("PolarisDynamicExploreTypes").ITEM_TYPE.MEDIA:return d("PolarisDynamicExploreTypes").DISCOVERY_ITEM_TYPE.MEDIA;case d("PolarisDynamicExploreTypes").ITEM_TYPE.SHOPPING:return d("PolarisDynamicExploreTypes").DISCOVERY_ITEM_TYPE.SHOPPING;case d("PolarisDynamicExploreTypes").ITEM_TYPE.CLIPS:return d("PolarisDynamicExploreTypes").DISCOVERY_ITEM_TYPE.CLIPS;default:c("FBLogger")("ig_web").mustfix("unexpected dyanmic explore grid item type");return d("PolarisDynamicExploreTypes").DISCOVERY_ITEM_TYPE.MEDIA}}function e(a){var b=a.column,d=a.gridItemSize,e=a.mediaType,f=a.postId,g=a.row,l=a.type;c("ExploreHomeClickFalcoEvent").log(function(){var a;return{canonical_nav_chain:(a=(a=c("PolarisNavChain").getInstance())==null?void 0:a.getNavChainForSend())!=null?a:"",endpoint_type:void 0,m_pk:f,media_type:e,pigeon_reserved_keyword_module:"explore",position:k(b,g),session_id:"",size:m(d),topic_cluster_id:h,topic_cluster_title:i,topic_cluster_type:j,type:l}})}function f(a){var b=a.column,d=a.containerModule,e=a.gridItemSize,f=a.mediaType,g=a.postId,l=a.row,n=a.type;c("ExploreHomeImpressionFalcoEvent").log(function(){var a;return{endpoint_type:void 0,m_pk:g,media_type:f,nav_chain:(a=c("PolarisNavChain").getInstance())==null?void 0:a.getNavChainForSend(),pigeon_reserved_keyword_module:d,position:k(b,l),session_id:"",size:m(e),topic_cluster_id:h,topic_cluster_title:i,topic_cluster_type:j,type:n}})}function n(a){var b=a.analyticsContext,e=a.column,f=a.entityId,g=a.entityName,h=a.entityPageId,i=a.entityPageName,j=a.entityPageType,l=a.entityType,n=a.gridItemSize,o=a.mediaType,p=a.mPk,q=a.rankToken,r=a.row,s=a.searchSessionId;c("InstagramThumbnailClickFalcoEvent").log(function(){var a,t=r!=null&&e!=null?k(e,r):null,u=n!=null?m(n):null;return{canonical_nav_chain:(a=(a=c("PolarisNavChain").getInstance())==null?void 0:a.getNavChainForSend())!=null?a:"",entity_id:f,entity_name:g,entity_page_id:h,entity_page_name:i,entity_page_type:j,entity_type:l,id:p,m_pk:p,media_type:o,module_name:d("PolarisContainerModuleUtils").getContainerModule(b),position:t,rank_token:q,search_session_id:s,session_id:d("PolarisPigeonLogger").getState().session.sessionID,size:u}})}function o(a){var b=a.analyticsContext,e=a.column,f=a.entityId,g=a.entityName,h=a.entityPageName,i=a.gridItemSize,j=a.mediaType,l=a.mPk,n=a.rankToken,o=a.row,p=a.searchSessionId;c("InstagramThumbnailClickFalcoEvent").log(function(){var a,q=o!=null&&e!=null?k(e,o):null,r=i!=null?m(i):null;return{canonical_nav_chain:(a=(a=c("PolarisNavChain").getInstance())==null?void 0:a.getNavChainForSend())!=null?a:"",entity_id:f,entity_name:g,entity_page_name:h,id:l,m_pk:l,media_type:j,module_name:d("PolarisContainerModuleUtils").getContainerModule(b),position:q,rank_token:n,search_session_id:p,session_id:d("PolarisPigeonLogger").getState().session.sessionID,size:r}})}g.getSizeStringFromGridItemSize=m;g.getDiscoverGridItemType=a;g.getDynamicExploreGridItemType=b;g.logExploreHomeClick=e;g.logExploreHomeImpression=f;g.logKeywordExploreThumbnailClick=n;g.logExploreSERPTopResultsThumbnailClick=o}),98);
__d("PolarisNavigationDispatchers.react",["PolarisLoggedOutLimits","PolarisNavigationActions","PolarisReactRedux.react","polarisNavigationSelectors","react","react-compiler-runtime","usePolarisLoggedOutContentWallEntryPointDialog","usePolarisViewer","useThrottled"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useRef,k=b.useState;function a(a,b){var c=d("react-compiler-runtime").c(6),e=l(),f=d("PolarisReactRedux.react").useSelector(d("polarisNavigationSelectors").getPageViewCount),g=j(!1),h,k;c[0]!==b||c[1]!==a||c[2]!==e||c[3]!==f?(h=function(){if(g.current===!0)return;g.current=!0;b!=null&&e(a,b,f)},k=[b,a,e,f],c[0]=b,c[1]=a,c[2]=e,c[3]=f,c[4]=h,c[5]=k):(h=c[4],k=c[5]);i(h,k)}function l(){var a=d("react-compiler-runtime").c(8),b=d("PolarisReactRedux.react").useDispatch(),e=c("usePolarisViewer")(),f=k(!1),g=f[0],h=f[1];f=c("usePolarisLoggedOutContentWallEntryPointDialog")();var i=f[0];a[0]!==i?(f=function(a){i&&i(a)},a[0]=i,a[1]=f):f=a[1];var j=c("useThrottled")(f,500),l=d("PolarisLoggedOutLimits").usePolarisLoggedOutPageImpressionLimit();a[2]!==b||a[3]!==l||a[4]!==g||a[5]!==j||a[6]!==e?(f=function(a,c,f){b(d("PolarisNavigationActions").incrementNewPageViewCount(e,a,c,f,l,function(a){if(g)return;j(a);h(!0)}))},a[2]=b,a[3]=l,a[4]=g,a[5]=j,a[6]=e,a[7]=f):f=a[7];return f}g.useIncrementNewPageViewCount=a;g.useIncrementNewPageViewCountOnPageView=l}),98);
__d("PolarisOrganicThumbnailImpression",["InstagramThumbnailImpressionFalcoEvent","PolarisConfig","PolarisContainerModuleUtils","PolarisExploreLogger","PolarisNavChain","PolarisPigeonLogger","PolarisViewpointActionUtils","memoizeWithArgs"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return["peek_explore_popular","feed_contextual_chain","explore_popular"].includes(a)}function i(a){return a==="feed_keyword"}function j(a){return a==="serp_top"}function k(a){if(h(a))return"EXPLORE";else if(i(a))return"KEYWORD_EXPLORE";else if(j(a))return"SERP_TOP";return"PROFILE"}function l(a){var b=a.analyticsContext,e=a.column,f=a.entityPageId,g=a.entityPageName,h=a.feedType,k=a.hashtagFeedType,l=a.hashtagName,m=a.postId,n=a.row;if(m==null)return null;g={entity_page_id:f,entity_page_name:g,feed_type:h,hashtag_feed_type:k,hashtag_name:l,inventory_source:null,m_pk:m,mezql_token:null,nav_chain:(f=c("PolarisNavChain").getInstance())==null?void 0:f.getNavChainForSend(),pigeon_reserved_keyword_module:b,pk:d("PolarisConfig").getViewerIdOrZero(),position:n!=null&&e!=null?"["+n+","+e+"]":null,size:null,tracking_token:null};k=i((h=b)!=null?h:"");m=j((l=b)!=null?l:"");if(k||m){f=a.gridItemSize!=null?d("PolarisExploreLogger").getSizeStringFromGridItemSize(a.gridItemSize):null;g=babelHelpers["extends"]({},g,{a_pk:a.entityId,entity_id:a.entityId,entity_name:a.entityName,entity_page_id:a.entityPageId,entity_page_name:a.entityPageName,entity_page_type:a.entityPageType,entity_type:a.entityType,id:a.mPk,m_pk:a.mPk,media_type:a.mediaType,nav_chain:(n=c("PolarisNavChain").getInstance())==null?void 0:n.getNavChainForSend(),rank_token:a.rankToken,search_session_id:a.searchSessionId,session_id:d("PolarisPigeonLogger").getState().session.sessionID,size:f})}return g}var m=c("memoizeWithArgs")(function(a,b){return new Map()},function(a,b){return d("PolarisViewpointActionUtils").IMPRESSION_KIND.THUMBNAIL+"/"+a+"/"+b});function a(a){return function(b){var e=a.analyticsContext,f=a.column,g=a.gridItemSize,i=a.itemType,j=a.mediaType,n=a.postId,o=a.row,p=d("PolarisContainerModuleUtils").getContainerModule(e);if(p==="unknown")return;var q=h(p);e=e||"";var r=k(p);if(m(r,e).get(n)===!0)return;if(b.state==="entered"){if(q)f!=null&&o!=null&&j!=null&&g!=null&&i!=null&&d("PolarisExploreLogger").logExploreHomeImpression({column:f,containerModule:p,gridItemSize:g,mediaType:j,postId:n,row:o,type:i});else{var s=l(babelHelpers["extends"]({},a,{analyticsContext:p}));if(!s)return;c("InstagramThumbnailImpressionFalcoEvent").log(function(){return s})}m(r,e).set(n,!0)}}}g.makeThumbnailImpressionAction=a}),98);
__d("PolarisPostCaptionInHeadlineTag",["IGDSTextVariants.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.caption;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c="x1s85apg",b[0]=c):c=b[0];b[1]!==a?(c=i.jsx("div",{className:c,children:i.jsx(d("IGDSTextVariants.react").IGDSTextFootnote,{elementType:"h2",maxLines:1,zeroMargin:!0,children:a})}),b[1]=a,b[2]=c):c=b[2];return c}g["default"]=a}),98);
__d("PolarisPinnedPostIcon.react",["IGDSBox.react","IGDSPinPanoFilled24Icon.react","PolarisGenericStrings","PolarisMediaGridIconConstants","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(c("IGDSBox.react"),{margin:2,position:"relative",children:i.jsx(c("IGDSPinPanoFilled24Icon.react"),{alt:d("PolarisGenericStrings").PINNED_POST_ICON_ALT,color:"web-always-white",size:d("PolarisMediaGridIconConstants").MEDIA_GRID_ICON_SIZE})}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("PolarisSidecarIcon.react",["IGDSBox.react","IGDSMediaCarouselFilledIcon.react","PolarisGenericStrings","PolarisMediaGridIconConstants","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2);a=a.size;a=a===void 0?d("PolarisMediaGridIconConstants").MEDIA_GRID_ICON_SIZE:a;var e;b[0]!==a?(e=i.jsx(c("IGDSBox.react"),{margin:2,position:"relative",children:i.jsx(c("IGDSMediaCarouselFilledIcon.react"),{alt:d("PolarisGenericStrings").MEDIA_CAROUSEL_ALT,color:"web-always-white",size:a})}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("PolarisUpcomingEventIcon.react",["IGDSBox.react","IGDSCalendarPanoFilledIcon.react","PolarisGenericStrings","PolarisMediaGridIconConstants","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(c("IGDSBox.react"),{margin:2,position:"relative",children:i.jsx(c("IGDSCalendarPanoFilledIcon.react"),{alt:d("PolarisGenericStrings").UPCOMING_EVENT_ICON_ALT,color:"web-always-white",size:d("PolarisMediaGridIconConstants").MEDIA_GRID_ICON_SIZE})}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("PolarisVideoIndicator.react",["IGDSBox.react","IGDSPlayPanoFilledIcon.react","PolarisGenericStrings","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2);a=a.size;a=a===void 0?18:a;var e;b[0]!==a?(e=i.jsx(c("IGDSBox.react"),{margin:2,position:"relative",children:i.jsx(c("IGDSPlayPanoFilledIcon.react"),{alt:d("PolarisGenericStrings").PLAY_BUTTON_ALT,color:"web-always-white",size:a})}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("PolarisPostsGridItemMediaIndicator.react",["IGDSBox.react","PolarisClipIndicator.react","PolarisCloseFriendsProfileIndicator.react","PolarisMediaGridIconConstants","PolarisPinnedPostIcon.react","PolarisSidecarIcon.react","PolarisUpcomingEventIcon.react","PolarisVideoIndicator.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(12),e=a.hasUpcomingEvent,f=a.isClipsVideo,g=a.isPinnedForThisUser,h=a.isSharedToCloseFriends,j=a.isSidecar;a=a.isVideo;var k;if(e){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("PolarisUpcomingEventIcon.react"),{}),b[0]=e):e=b[0];k=e}else if(g===!0){b[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("PolarisPinnedPostIcon.react"),{}),b[1]=e):e=b[1];k=e}else if(j){b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=i.jsx(c("PolarisSidecarIcon.react"),{}),b[2]=g):g=b[2];k=g}else if(a)if(f){b[3]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("PolarisClipIndicator.react"),{size:d("PolarisMediaGridIconConstants").MEDIA_GRID_ICON_SIZE}),b[3]=e):e=b[3];k=e}else{b[4]===Symbol["for"]("react.memo_cache_sentinel")?(j=i.jsx(c("PolarisVideoIndicator.react"),{size:d("PolarisMediaGridIconConstants").MEDIA_GRID_ICON_SIZE}),b[4]=j):j=b[4];k=j}b[5]!==k?(g=k!=null&&i.jsx("div",{className:"xuk3077 x972fbf xcfux6l x1qhh985 xm0m39n x1ey2m1c x9f619 x78zum5 xdt5ytf x2lah0s xln7xf2 xk390pu xds687c x17qophe x1nhvcw1 xdj266r x11i5rnm xat24cr x1mh8g0r xexx8yu x4uap5 x18d9i69 xkhd6sd x47corl x10l6tqk x13vifvy x11njtxf",children:k}),b[5]=k,b[6]=g):g=b[6];a=g;b[7]!==h?(f=h&&i.jsx("div",{className:"x1cy8zhl x972fbf xcfux6l x1qhh985 xm0m39n x1ey2m1c x9f619 x78zum5 xdt5ytf x2lah0s xln7xf2 xk390pu xds687c x17qophe x1nhvcw1 xdj266r x11i5rnm xat24cr x1mh8g0r xexx8yu x4uap5 x18d9i69 xkhd6sd x47corl x10l6tqk x13vifvy x11njtxf",children:i.jsx(c("PolarisCloseFriendsProfileIndicator.react"),{})}),b[7]=h,b[8]=f):f=b[8];e=f;b[9]!==e||b[10]!==a?(j=i.jsxs(c("IGDSBox.react"),{children:[a,e]}),b[9]=e,b[10]=a,b[11]=j):j=b[11];return j}g["default"]=a}),98);
__d("PolarisPostsGridItemOverlay.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j="rgba(0, 0, 0, 0.3)";function a(a){var b=d("react-compiler-runtime").c(6),c=a.backgroundColor;a=a.children;c=c===void 0?j:c;var e;b[0]!==c?(e={background:c},b[0]=c,b[1]=e):e=b[1];c=e;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e="x1ey2m1c x78zum5 xdt5ytf xds687c x17qophe xl56j7k x10l6tqk x13vifvy",b[2]=e):e=b[2];b[3]!==a||b[4]!==c?(e=i.jsx("div",{className:e,style:c,children:a}),b[3]=a,b[4]=c,b[5]=e):e=b[5];return e}g["default"]=a}),98);
__d("PolarisPostsGridItemStatsOverlay.react",["IGDSBox.react","IGDSTextVariants.react","PolarisBigNumber.react","PolarisPostsGridItemOverlay.react","deferredLoadComponent","polarisGetPostFromGraphMediaInterface","react","react-compiler-runtime","requireDeferred","usePolarisPageID"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("deferredLoadComponent")(c("requireDeferred")("PolarisPostBoostButton.react").__setRef("PolarisPostsGridItemStatsOverlay.react"));function k(a){var b=d("react-compiler-runtime").c(6),e=a.icon;a=a.value;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f="x972fbf xcfux6l x1qhh985 xm0m39n x3nfvp2 x15zctf7 xln7xf2 xk390pu xdj266r x1mh8g0r x1j4z8aw x2pgyrj xl1lypt x5th0yj xexx8yu x4uap5 x18d9i69 xkhd6sd x11njtxf",b[0]=f):f=b[0];var g;b[1]!==a?(g=i.jsx(d("IGDSTextVariants.react").IGDSTextLabelEmphasized,{color:"webAlwaysWhite",zeroMargin:!0,children:i.jsx(c("PolarisBigNumber.react"),{shortenNumber:!0,value:a})}),b[1]=a,b[2]=g):g=b[2];b[3]!==e||b[4]!==g?(a=i.jsxs("li",{className:f,children:[g,e]}),b[3]=e,b[4]=g,b[5]=a):a=b[5];return a}function l(a){var b=d("react-compiler-runtime").c(3);a=a.videoViews;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=i.jsx("span",{className:"x972fbf xcfux6l x1qhh985 xm0m39n xln7xf2 xk390pu xat24cr x1mh8g0r x1hwekxz xr9ek0c xexx8yu x4uap5 x18d9i69 xkhd6sd x11njtxf xk334sl xo3uz88 x17gbu0p xlzrhk4 xiy17q3 x9p3b3b xhvdbge xn6xy2s"}),b[0]=c):c=b[0];b[1]!==a?(c=i.jsx(k,{icon:c,value:a}),b[1]=a,b[2]=c):c=b[2];return c}function m(a){var b=d("react-compiler-runtime").c(3);a=a.numPreviewLikes;if(a===0)return null;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=i.jsx("span",{className:"x972fbf xcfux6l x1qhh985 xm0m39n xln7xf2 xk390pu xat24cr x1mh8g0r x1hwekxz xr9ek0c xexx8yu x4uap5 x18d9i69 xkhd6sd x11njtxf xk334sl xo3uz88 x1ndrmp0 xlsotpv xiy17q3 x9p3b3b xhvdbge xn6xy2s"}),b[0]=c):c=b[0];b[1]!==a?(c=i.jsx(k,{icon:c,value:a}),b[1]=a,b[2]=c):c=b[2];return c}function n(a){var b=d("react-compiler-runtime").c(3),c=a.commentsDisabled;a=a.numComments;if(c)return null;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=i.jsx("span",{className:"x972fbf xcfux6l x1qhh985 xm0m39n xln7xf2 xk390pu xat24cr x1mh8g0r x1hwekxz xr9ek0c xexx8yu x4uap5 x18d9i69 xkhd6sd x11njtxf xk334sl xo3uz88 xlnn04z x100pdo0 xiy17q3 x9p3b3b xhvdbge xn6xy2s"}),b[0]=c):c=b[0];b[1]!==a?(c=i.jsx(k,{icon:c,value:a}),b[1]=a,b[2]=c):c=b[2];return c}function a(a){var b=d("react-compiler-runtime").c(25),e=a.boostedStatus,f=a.boostUnavailableIdentifier,g=a.boostUnavailableReason,h=a.commentsDisabled,k=a.hideLikes,o=a.isVideo,p=a.mediaId,q=a.numComments,r=a.numPreviewLikes,s=a.productType,t=a.showBoostButton;a=a.videoViews;o=o!=null&&o&&a!=null&&a>0&&!d("polarisGetPostFromGraphMediaInterface").isClipsProductType(s);if(b[0]!==k||b[1]!==r){var u;u=k===!0?null:i.jsx(m,{numPreviewLikes:(u=r)!=null?u:0});b[0]=k;b[1]=r;b[2]=u}else u=b[2];k=u;r=c("usePolarisPageID")();b[3]===Symbol["for"]("react.memo_cache_sentinel")?(u="x6s0dn4 x972fbf xcfux6l x1qhh985 xm0m39n x78zum5 xa5j0wu xln7xf2 xk390pu x5yr21d xl56j7k xdj266r x11i5rnm xat24cr x1mh8g0r xexx8yu x4uap5 x18d9i69 xkhd6sd x11njtxf xh8yej3",b[3]=u):u=b[3];if(b[4]!==k||b[5]!==o||b[6]!==a){var v;v=o?i.jsx(l,{videoViews:(v=a)!=null?v:0}):k;b[4]=k;b[5]=o;b[6]=a;b[7]=v}else v=b[7];o=((k=h)!=null?k:!1)||q==null;h=(a=q)!=null?a:0;b[8]!==o||b[9]!==h?(k=i.jsx(n,{commentsDisabled:o,numComments:h}),b[8]=o,b[9]=h,b[10]=k):k=b[10];b[11]!==v||b[12]!==k?(q=i.jsxs("ul",{className:u,children:[v,k]}),b[11]=v,b[12]=k,b[13]=q):q=b[13];b[14]!==r||b[15]!==f||b[16]!==g||b[17]!==e||b[18]!==p||b[19]!==s||b[20]!==t?(a=t&&e!=null&&p!=null&&s!=null&&i.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"center",width:"100%",children:i.jsx(j,{analyticsContext:r,boostedStatus:e,boostUnavailableIdentifier:f,boostUnavailableReason:g,isOverlay:!0,mediaId:p,productType:s})}),b[14]=r,b[15]=f,b[16]=g,b[17]=e,b[18]=p,b[19]=s,b[20]=t,b[21]=a):a=b[21];b[22]!==q||b[23]!==a?(o=i.jsxs(c("PolarisPostsGridItemOverlay.react"),{children:[q,a]}),b[22]=q,b[23]=a,b[24]=o):o=b[24];return o}g["default"]=a}),98);
__d("polarisWithPPRLogging",["PolarisPPRUtil","PolarisPerformanceLogger","polarisGetDisplayName","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b,e;return e=b=function(b){babelHelpers.inheritsLoose(c,b);function c(){var a,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=c=b.call.apply(b,[this].concat(f))||this,c.handleMediaRendered=function(a,b){d("PolarisPPRUtil").setMediaRendered({mediaId:a,pageId:c.props.analyticsContext,timeTaken:b})},a)||babelHelpers.assertThisInitialized(c)}var e=c.prototype;e.componentDidMount=function(){this.logVisibilityChange({newVisible:!!this.props.isVisible,prevVisible:!1})};e.componentDidUpdate=function(a){var b=!!a.isVisible,c=!!this.props.isVisible;a.id&&a.id!==this.props.id?(this.logVisibilityChange({newVisible:!1,prevVisible:b,props:a}),this.logVisibilityChange({newVisible:c,prevVisible:!1,props:this.props})):b!==c&&this.logVisibilityChange({newVisible:c,prevVisible:b})};e.componentWillUnmount=function(){this.logVisibilityChange({newVisible:!1,prevVisible:!!this.props.isVisible})};e.onEnterViewport=function(a){var b=a.analyticsContext,c=a.id;a=a.isGridView;d("PolarisPPRUtil").setMediaEntersViewport({isGridView:a||!1,mediaId:c,pageId:b})};e.onLeaveViewport=function(a){var b=a.analyticsContext;a=a.id;a=d("PolarisPPRUtil").setMediaLeavesViewport({mediaId:a,pageId:b});a&&d("PolarisPerformanceLogger").logPercentagePhotoRendered(a)};e.logVisibilityChange=function(a){var b=a.newVisible,c=a.prevVisible;a=a.props;if(c===b)return;c=a||this.props;if(!c.analyticsContext||c.skipPPR)return;b?this.onEnterViewport(c):b||this.onLeaveViewport(c)};e.render=function(){var b=this.props;b.isGridView;b.skipPPR;b=babelHelpers.objectWithoutPropertiesLoose(b,["isGridView","skipPPR"]);return i.jsx(a,babelHelpers["extends"]({},b,{onMediaRendered:this.handleMediaRendered}))};return c}(i.PureComponent),b.displayName="withPPRLogging("+c("polarisGetDisplayName")(a)+")",e}g["default"]=a}),98);
__d("PolarisPostsGridQEHelpers",["PolarisUA"],(function(a,b,c,d,e,f,g){"use strict";function a(){return!d("PolarisUA").isDesktop()?28:4}g.getMarginForPostsGridItems=a}),98);
__d("PolarisVirtualPostsGridConstants",[],(function(a,b,c,d,e,f){"use strict";a=300;b=1;f.POSTS_ROW_ESTIMATED_HEIGHT=a;f.NEXT_PAGE_THRESHOLD=b}),66);
__d("useThrottledComet",["CometThrottle","react","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useLayoutEffect,k=b.useRef;function a(a,b){b===void 0&&(b=100);var d=k(a);j(function(){d.current=a},[a]);var e=c("useStable")(function(){return c("CometThrottle")(function(){var a=arguments;return d.current==null?void 0:d.current.apply(d,a)},b)});i(function(){return function(){e.cancel()}},[]);return e}g["default"]=a}),98);
__d("useThrottledImpl",["cr:1708227"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1708227")}),98);/*FB_PKG_DELIM*/
__d("DateStrings",["fbt"],(function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q;function a(a){n||(n=[h._(/*BTDS*/"__JHASH__kRDmnexoZ4c__JHASH__"),h._(/*BTDS*/"__JHASH__Bn6mK_CYpOQ__JHASH__"),h._(/*BTDS*/"__JHASH__0CKO3e6zlkG__JHASH__"),h._(/*BTDS*/"__JHASH__knM-pwAZFhd__JHASH__"),h._(/*BTDS*/"__JHASH__9awSVez1lYX__JHASH__"),h._(/*BTDS*/"__JHASH__e-RtDb71wOv__JHASH__"),h._(/*BTDS*/"__JHASH__hC9TTGKI1In__JHASH__")]);return n[a]}function b(a){p||(p=[h._(/*BTDS*/"__JHASH__YUdS_z7d_6d__JHASH__"),h._(/*BTDS*/"__JHASH__Ovx6Ymroe_A__JHASH__"),h._(/*BTDS*/"__JHASH__eFqKUz2_kl3__JHASH__"),h._(/*BTDS*/"__JHASH__E_RiUxD0fWh__JHASH__"),h._(/*BTDS*/"__JHASH__C3_a7H_J7rx__JHASH__"),h._(/*BTDS*/"__JHASH__5CNevM2J02m__JHASH__"),h._(/*BTDS*/"__JHASH__4EW2wfH5WZD__JHASH__")]);return p[a]}function c(a){o||(o=[h._(/*BTDS*/"__JHASH__2PszcrK7vzP__JHASH__"),h._(/*BTDS*/"__JHASH__TlMpxfMswL-__JHASH__"),h._(/*BTDS*/"__JHASH__HgsLhEx6Rq0__JHASH__"),h._(/*BTDS*/"__JHASH__av9KuRGnSoy__JHASH__"),h._(/*BTDS*/"__JHASH__Y5eYWyns-vW__JHASH__"),h._(/*BTDS*/"__JHASH__Pcyy4Au35vm__JHASH__"),h._(/*BTDS*/"__JHASH__RuPRqeVJ1f___JHASH__")]);return o[a]}function d(a){q||(q=[h._(/*BTDS*/"__JHASH__I8rDd8HrSIY__JHASH__"),h._(/*BTDS*/"__JHASH__mJbm9skBmiP__JHASH__"),h._(/*BTDS*/"__JHASH__ZG1m85BJ2mG__JHASH__"),h._(/*BTDS*/"__JHASH__3alVL8FSzF2__JHASH__"),h._(/*BTDS*/"__JHASH__grH3eggt_PS__JHASH__"),h._(/*BTDS*/"__JHASH__o7IIktT8uZl__JHASH__"),h._(/*BTDS*/"__JHASH__OO7gVuw6-67__JHASH__")]);return q[a]}function r(){i=[h._(/*BTDS*/"__JHASH__U3IUNjyAWys__JHASH__"),h._(/*BTDS*/"__JHASH__8KKnx7Y4OWL__JHASH__"),h._(/*BTDS*/"__JHASH__Au0OETL-blc__JHASH__"),h._(/*BTDS*/"__JHASH__Z7N5jsVLWYq__JHASH__"),h._(/*BTDS*/"__JHASH__YbgiKmRzTZL__JHASH__"),h._(/*BTDS*/"__JHASH__WkH27C2YOr9__JHASH__"),h._(/*BTDS*/"__JHASH__c4u4vrQldeW__JHASH__"),h._(/*BTDS*/"__JHASH__tT8qwNVc_bY__JHASH__"),h._(/*BTDS*/"__JHASH__38VZPXukBcq__JHASH__"),h._(/*BTDS*/"__JHASH__oxEkc0tozky__JHASH__"),h._(/*BTDS*/"__JHASH__TydaAthEBOx__JHASH__"),h._(/*BTDS*/"__JHASH__r3FuzNa_oUv__JHASH__")]}function e(a){i||r();return i[a-1]}function f(){i||r();return i.slice()}function s(a){l||(l=[h._(/*BTDS*/"__JHASH__j3lAMkdtm8D__JHASH__"),h._(/*BTDS*/"__JHASH__W3ogesAukPo__JHASH__"),h._(/*BTDS*/"__JHASH__VbTrxXWL9LO__JHASH__"),h._(/*BTDS*/"__JHASH__tXlQvgnA6QB__JHASH__"),h._(/*BTDS*/"__JHASH__Qe2L3rtt4jY__JHASH__"),h._(/*BTDS*/"__JHASH__tzOs87oUqbm__JHASH__"),h._(/*BTDS*/"__JHASH__n0EAUTpeC58__JHASH__"),h._(/*BTDS*/"__JHASH___4QPpdl9jy3__JHASH__"),h._(/*BTDS*/"__JHASH__kTuP_o9kcON__JHASH__"),h._(/*BTDS*/"__JHASH__PfWuUW912mj__JHASH__"),h._(/*BTDS*/"__JHASH__z4eG5BJcKe2__JHASH__"),h._(/*BTDS*/"__JHASH__5oFCWzoMCPo__JHASH__")]);return l[a-1]}function t(a){j||(j=[h._(/*BTDS*/"__JHASH__DsKYj1oLo19__JHASH__"),h._(/*BTDS*/"__JHASH__TCuDpRnz2mT__JHASH__"),h._(/*BTDS*/"__JHASH__khl_0IT7mYX__JHASH__"),h._(/*BTDS*/"__JHASH__3Y3hi7sR1cI__JHASH__"),h._(/*BTDS*/"__JHASH__IHrjywEAvHt__JHASH__"),h._(/*BTDS*/"__JHASH__8kF4Ak1BW3a__JHASH__"),h._(/*BTDS*/"__JHASH__KKfFBFLyAgh__JHASH__"),h._(/*BTDS*/"__JHASH__XOJ0ufAxR5d__JHASH__"),h._(/*BTDS*/"__JHASH__ZnuGT3uobCp__JHASH__"),h._(/*BTDS*/"__JHASH__9OpDbaaGtTr__JHASH__"),h._(/*BTDS*/"__JHASH__-J5NrwJB53G__JHASH__"),h._(/*BTDS*/"__JHASH__HtgyaBTmaos__JHASH__")]);return j[a-1]}function u(a){k||(k=[h._(/*BTDS*/"__JHASH__VoVPp7VE97p__JHASH__"),h._(/*BTDS*/"__JHASH__TiP-2xvGcWh__JHASH__"),h._(/*BTDS*/"__JHASH__ju79mFQ_J1L__JHASH__"),h._(/*BTDS*/"__JHASH__leLBmZcPlvt__JHASH__"),h._(/*BTDS*/"__JHASH__sAWIM7lXq_F__JHASH__"),h._(/*BTDS*/"__JHASH__cbeCOd2W11J__JHASH__"),h._(/*BTDS*/"__JHASH__3U-gTYEZ8gT__JHASH__"),h._(/*BTDS*/"__JHASH___9B2djcyQhj__JHASH__"),h._(/*BTDS*/"__JHASH__fcwpPGGy3C5__JHASH__"),h._(/*BTDS*/"__JHASH__TsO3woeUmUo__JHASH__"),h._(/*BTDS*/"__JHASH__TS8b5DqPYc0__JHASH__"),h._(/*BTDS*/"__JHASH__FyOcyxpoDK6__JHASH__")]);return k[a-1]}function v(a){m||(m=["",h._(/*BTDS*/"__JHASH__kgS-kTTebvA__JHASH__"),h._(/*BTDS*/"__JHASH__PoFxBBtz8zw__JHASH__"),h._(/*BTDS*/"__JHASH__YBu_d81rLYN__JHASH__"),h._(/*BTDS*/"__JHASH___dd9pSVEWhQ__JHASH__"),h._(/*BTDS*/"__JHASH__utwmpovoP9t__JHASH__"),h._(/*BTDS*/"__JHASH__Qg6aLKsTxP6__JHASH__"),h._(/*BTDS*/"__JHASH__3NvZ16eqNhs__JHASH__"),h._(/*BTDS*/"__JHASH__OCFkSiFBu4g__JHASH__"),h._(/*BTDS*/"__JHASH__ntqZQ2awzy6__JHASH__"),h._(/*BTDS*/"__JHASH__lZeKEl9HM0Y__JHASH__"),h._(/*BTDS*/"__JHASH__JXCL249ubYt__JHASH__"),h._(/*BTDS*/"__JHASH__s8NeUaTiQSK__JHASH__"),h._(/*BTDS*/"__JHASH__M9rR63ZDVJg__JHASH__"),h._(/*BTDS*/"__JHASH__Mack7POOKmJ__JHASH__"),h._(/*BTDS*/"__JHASH__lVy7FkMjYVB__JHASH__"),h._(/*BTDS*/"__JHASH__ghJcI27I4P1__JHASH__"),h._(/*BTDS*/"__JHASH__6szdczmyHdq__JHASH__"),h._(/*BTDS*/"__JHASH__LDAc2xxYdM4__JHASH__"),h._(/*BTDS*/"__JHASH__wsIr3m2BjUW__JHASH__"),h._(/*BTDS*/"__JHASH___9rIVmXL7rL__JHASH__"),h._(/*BTDS*/"__JHASH__MnQZ282iK_0__JHASH__"),h._(/*BTDS*/"__JHASH__L33d1oEPeCr__JHASH__"),h._(/*BTDS*/"__JHASH__hjxQNJl9gEN__JHASH__"),h._(/*BTDS*/"__JHASH__BcmYmPTnObY__JHASH__"),h._(/*BTDS*/"__JHASH__ODyQeBDQBIs__JHASH__"),h._(/*BTDS*/"__JHASH__RskCzcAM8LN__JHASH__"),h._(/*BTDS*/"__JHASH__5WsyHDqOUBa__JHASH__"),h._(/*BTDS*/"__JHASH__VCG-VjG5RBC__JHASH__"),h._(/*BTDS*/"__JHASH__DsafOmqGRqB__JHASH__"),h._(/*BTDS*/"__JHASH__rh5lCQfsKaN__JHASH__"),h._(/*BTDS*/"__JHASH__Yxv-oP9L52u__JHASH__")]);return m[a]}function w(a){switch(a){case 1:return h._(/*BTDS*/"__JHASH__vgDiYSO4D18__JHASH__");case 2:return h._(/*BTDS*/"__JHASH__yIho--MGzhd__JHASH__");case 3:return h._(/*BTDS*/"__JHASH__Mr-vl7ybhSv__JHASH__");case 4:return h._(/*BTDS*/"__JHASH__BZIPNdku1Iy__JHASH__");case 5:return h._(/*BTDS*/"__JHASH__m-6hvKNWaTG__JHASH__");case 6:return h._(/*BTDS*/"__JHASH__wWqjYlrkNBH__JHASH__");case 7:return h._(/*BTDS*/"__JHASH__guZWXE222BT__JHASH__");case 8:return h._(/*BTDS*/"__JHASH__kWv6eHETdUi__JHASH__");case 9:return h._(/*BTDS*/"__JHASH__z7G_mkSQ-Vp__JHASH__");case 10:return h._(/*BTDS*/"__JHASH__7rXPmxBp1HA__JHASH__");case 11:return h._(/*BTDS*/"__JHASH__8g5Bsbx1ntS__JHASH__");case 12:return h._(/*BTDS*/"__JHASH__nFdyXihWX4G__JHASH__");case 13:return h._(/*BTDS*/"__JHASH__O9-p7jWhZMi__JHASH__");case 14:return h._(/*BTDS*/"__JHASH__juGaZXguzbw__JHASH__");case 15:return h._(/*BTDS*/"__JHASH__t-6cIQHx7zC__JHASH__");case 16:return h._(/*BTDS*/"__JHASH__wqchbLBpuzR__JHASH__");case 17:return h._(/*BTDS*/"__JHASH__Z-bLignwyiH__JHASH__");case 18:return h._(/*BTDS*/"__JHASH__ZPrynDoTudj__JHASH__");case 19:return h._(/*BTDS*/"__JHASH__9nPymx7YDyb__JHASH__");case 20:return h._(/*BTDS*/"__JHASH___ZrW3bFPgTr__JHASH__");case 21:return h._(/*BTDS*/"__JHASH__XPYxgF4SXkG__JHASH__");case 22:return h._(/*BTDS*/"__JHASH__siaQD07Sf09__JHASH__");case 23:return h._(/*BTDS*/"__JHASH__uymTAdRpc45__JHASH__");case 24:return h._(/*BTDS*/"__JHASH__5uz8UT0C04G__JHASH__");case 25:return h._(/*BTDS*/"__JHASH__g4Zn_nnZ0uM__JHASH__");case 26:return h._(/*BTDS*/"__JHASH__JfIlYLuuxft__JHASH__");case 27:return h._(/*BTDS*/"__JHASH__6c7RsCoaOQ6__JHASH__");case 28:return h._(/*BTDS*/"__JHASH__lPaPgjA3eSI__JHASH__");case 29:return h._(/*BTDS*/"__JHASH__1wsyMnSESSk__JHASH__");case 30:return h._(/*BTDS*/"__JHASH__Y53KSGgC1Fh__JHASH__");case 31:return h._(/*BTDS*/"__JHASH__w0e0M9zDCki__JHASH__");default:throw new Error("Invalid day of month.")}}function x(){return h._(/*BTDS*/"__JHASH__P452d9KfMZB__JHASH__")}function y(){return h._(/*BTDS*/"__JHASH__14B8uRJNqzB__JHASH__")}function z(){return h._(/*BTDS*/"__JHASH__ZbRG7ZxcL_s__JHASH__")}function A(){return h._(/*BTDS*/"__JHASH__Yvba8YT7D76__JHASH__")}function B(){return h._(/*BTDS*/"__JHASH__mY3ExKoiSbu__JHASH__")}function C(){return h._(/*BTDS*/"__JHASH__6X7o_ijb67M__JHASH__")}function D(){return h._(/*BTDS*/"__JHASH__bhyhew9ts33__JHASH__")}function E(){return h._(/*BTDS*/"__JHASH__fTaCK1AHc1___JHASH__")}function F(){return h._(/*BTDS*/"__JHASH__DRLxNWH7L4s__JHASH__")}function G(){return h._(/*BTDS*/"__JHASH__orXzp-0tokx__JHASH__")}function H(a){return a<12?h._(/*BTDS*/"__JHASH__ufsASNxZ34K__JHASH__"):h._(/*BTDS*/"__JHASH__Tnd5tvqN3Qj__JHASH__")}function I(a){return a<12?h._(/*BTDS*/"__JHASH__wca5cRZ0pth__JHASH__"):h._(/*BTDS*/"__JHASH__-AlZvLqfvQd__JHASH__")}g.getWeekdayName=a;g.getUppercaseWeekdayName=b;g.getWeekdayNameShort=c;g.getUppercaseWeekdayNameShort=d;g._initializeMonthNames=r;g.getMonthName=e;g.getMonthNames=f;g.getUppercaseMonthName=s;g.getMonthNameShort=t;g.getUppercaseMonthNameShort=u;g.getOrdinalSuffix=v;g.getDayOfMonth=w;g.getDayLabel=x;g.getMonthLabel=y;g.getYearLabel=z;g.getHourLabel=A;g.getMinuteLabel=B;g.getDayPlaceholder=C;g.getMonthPlaceholder=D;g.getYearPlaceholder=E;g.getHourPlaceholder=F;g.getMinutePlaceholder=G;g.get12HourClockSuffix=H;g.getUppercase12HourClockSuffix=I}),226);
__d("IntlDateFormatsCLDRWidthEnum",[],(function(a,b,c,d,e,f){a=Object.freeze({FULL:"full",LONG:"long",MEDIUM:"medium",SHORT:"short"});f["default"]=a}),66);
__d("RegionDatetimePatterns",[],(function(a,b,c,d,e,f){a=Object.freeze({DATE_SHORT:"date_short",DATETIME_SHORT_SHORT:"dateTime_short_short",TIME_SHORT:"time_short",TIME_MEDIUM:"time_medium",J:"j"});f["default"]=a}),66);
__d("getCLDRLocalizedFormat",["CLDRDateFormatConfig","FBLogger","IntlDateFormatsCLDRWidthEnum","RegionDatetimePatterns","flipObject","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("CLDRDateFormatConfig").CLDRConfigeratorFormats,h=b("CLDRDateFormatConfig").CLDRRegionalConfigeratorFormats,i=b("flipObject")(b("RegionDatetimePatterns"));function a(a){if(a==null)throw b("unrecoverableViolation")('Format: "'+a+'", not supported by configurator.',"internationalization");var c,d,e=a.split("_"),f=e[0];e=e.slice(1);var l=f+"Formats";a in i?d=h:d=g;switch(l){case"dateFormats":case"timeFormats":var m=j(e[0]);if(m==null)throw b("unrecoverableViolation")('Format: "'+a+'", category: "'+l+'", with unsupported width: "undefined"',"internationalization");c=d[l][m];if(c==null)throw b("unrecoverableViolation")('Format: "'+a+'", category: "'+l+'", '+('width: "'+m+'", with unsupported localization'),"internationalization");break;case"dateTimeFormats":m=j(e[0]);e=j(e[1]);if(m==null||e==null)throw b("unrecoverableViolation")('Format: "'+a+'", category: "'+l+'", with unsupported width: dateFormatKey="undefined" timeFormatKey="undefined"',"internationalization");c=d[l][m];var n=d.dateFormats[m],o=d.timeFormats[e];if(c==null)throw b("unrecoverableViolation")('Format: "'+a+'", category: "'+l+'", '+('date width: "'+m+'", and time width: ')+('"'+e+'", with unsupported localization'),"internationalization");c=c.replace("{0}",o).replace("{1}",n);break;default:l="availableFormats";m=f;m.includes("j")&&(m=k(m,d.timeFormats));c=d[l][m];if(c==null)throw b("unrecoverableViolation")('Format: "'+a+'", with key: "'+m+'", not supported by CLDR',"internationalization")}return c}function j(a){if(a==null)throw b("unrecoverableViolation")("Expected CLDR width key to not be null","internationalization");return b("IntlDateFormatsCLDRWidthEnum")[a.toUpperCase()]}function k(a,c){var d;c=c["short"];c==null?(b("FBLogger")("formatDate").blameToPreviousFile().warn('CLDR `timeFormat`, width `short` required for 24 hour localization not found for availableKey: "%s"',a),d="h"):d=c.includes("H")?"H":"h";return a.replace("j",d)}e.exports=a}),null);
__d("intlGetDateNumerics",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b=b.utc===!0;b?b={dateDay:a.getUTCDate(),dateDayOfWeek:a.getUTCDay(),dateMonth:a.getUTCMonth(),dateYear:a.getUTCFullYear(),dateHours:a.getUTCHours(),dateMinutes:a.getUTCMinutes(),dateSeconds:a.getUTCSeconds(),dateMilliseconds:a.getUTCMilliseconds()}:b={dateDay:a.getDate(),dateDayOfWeek:a.getDay(),dateMonth:a.getMonth(),dateYear:a.getFullYear(),dateHours:a.getHours(),dateMinutes:a.getMinutes(),dateSeconds:a.getSeconds(),dateMilliseconds:a.getMilliseconds()};return b}f["default"]=a}),66);
__d("intlRenderJSDateSymbol",["DateStrings","padNumber","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g){g===void 0&&(g=0);e=e.skipSuffixLocalization===!0;g=g;var h="";switch(b){case"\\":g++;if(f==null)throw c("unrecoverableViolation")("Only deprecated calls to `intlRenderJSDateSymbol()` use `localizedJSFormat`.","internationalization");h=f.charAt(g);break;case"d":h=c("padNumber")(a.dateDay,2);break;case"j":h=a.dateDay;break;case"S":h=d("DateStrings").getOrdinalSuffix(a.dateDay);break;case"D":h=d("DateStrings").getWeekdayNameShort(a.dateDayOfWeek);break;case"l":h=d("DateStrings").getWeekdayName(a.dateDayOfWeek);break;case"F":case"f":h=d("DateStrings").getMonthName(a.dateMonth+1);break;case"M":h=d("DateStrings").getMonthNameShort(a.dateMonth+1);break;case"m":h=c("padNumber")(a.dateMonth+1,2);break;case"n":h=a.dateMonth+1;break;case"Y":h=a.dateYear;break;case"y":h=(""+a.dateYear).slice(2);break;case"a":e?h=a.dateHours<12?"am":"pm":h=d("DateStrings").get12HourClockSuffix(a.dateHours);break;case"A":e?h=a.dateHours<12?"AM":"PM":h=d("DateStrings").getUppercase12HourClockSuffix(a.dateHours);break;case"g":a.dateHours===0||a.dateHours===12?h="12":h=a.dateHours%12;break;case"G":h=a.dateHours;break;case"h":a.dateHours===0||a.dateHours===12?h="12":h=c("padNumber")(a.dateHours%12,2);break;case"H":h=c("padNumber")(a.dateHours,2);break;case"i":h=c("padNumber")(a.dateMinutes,2);break;case"s":h=c("padNumber")(a.dateSeconds,2);break;case"X":h=c("padNumber")(a.dateMilliseconds,3);break;default:h=b}return{idx:g,rendered:String(h)}}g["default"]=a}),98);
__d("intlRenderCLDRDate",["CLDRDateFormatConfig","intlRenderJSDateSymbol","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=/\w+/;function a(a,c,d){var e=b("CLDRDateFormatConfig").intlDateSpecialChars,f="",g="",i=!1,j=[],k;a=a.split(e.cldrDelimiter+e.singleQuote).join(e.singleQuoteHolder);for(var l=0,m=a.length;l<m;l++){var n=a.charAt(l);!i?n===e.cldrDelimiter?i=!0:f.length===0||f[0]===n?f+=n:n===e.singleQuoteHolder?f+=e.singleQuote:(k=h(f,d,c),j.push(k.rendered),f=n):(f.length!==0&&(k=h(f,d,c),j.push(k.rendered),f=""),n===e.cldrDelimiter?(i=!1,j.push(g),g=""):n===e.singleQuoteHolder?g+=e.singleQuote:g+=n)}if(g.length!==0)throw b("unrecoverableViolation")('Format: "'+a+'" must contain closing str literal delimiter',"internationalization");f.length!==0&&(k=h(f,d,c),j.push(k.rendered));return j.join("")}function h(a,c,d){a=i(a);return b("intlRenderJSDateSymbol")(c,a,d)}function i(a){if(a in b("CLDRDateFormatConfig").CLDRToPHPSymbolConversion)return b("CLDRDateFormatConfig").CLDRToPHPSymbolConversion[a];if(g.test(a))throw b("unrecoverableViolation")('Unsupported CLDR symbol: "'+a+'". If string literal, wrap in delimiters',"internationalization");return a}e.exports=a}),null);
__d("formatDate",["CLDRDateFormatConfig","DateFormatConfig","FBLogger","IsInternSite","getCLDRLocalizedFormat","intlGetDateNumerics","intlRenderCLDRDate","intlRenderJSDateSymbol","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=Object.freeze({today:null,yesterday:null,thisWeek:null,thisMonth:null,thisYear:null,withinDay:null,withinWeek:null,withinMonth:null,withinYear:null,older:null,future:null,allOtherTimes:null});function h(a,b,d){a=a;d=d||{skipSuffixLocalization:!1,skipPatternLocalization:!1,utc:!1,formatInternal:!1,throwCLDRError:!1};if(b==null||b===""||a==null||!(a||a===0))return"";typeof a==="string"&&(isNaN(Number(a))&&c("FBLogger")("i18n-formatDate").event("date_string_must_be_timestamp").blameToPreviousFile().mustfix("The date passed to formatDate is a string, but not a timestamp. formatDate expects strings to be a string representation of a Unix "+('timestamp but was passed "'+a+'"')),a=parseInt(a,10));typeof a==="number"&&(a=new Date(a*1e3));if(!(a instanceof Date))throw c("unrecoverableViolation")("The date passed to formatDate must be either a unix timestamp or JavaScript date object.","internationalization");if(isNaN(a.getTime()))throw c("unrecoverableViolation")("Invalid date passed to formatDate","internationalization");a.getTime()>=1e15&&c("FBLogger")("i18n-formatDate").event("date_too_far_in_future").blameToPreviousFile().info("The date passed to formatDate is too far in the future. Did you mix up milliseconds/seconds?");b=k(a,b);a=c("intlGetDateNumerics")(a,d);return i(b,a,d)}h.DEFAULT_FORMAT="M j, Y g:i A";h.periodNames=Object.freeze(Object.keys(a));function i(a,b,d){var e=a,f=!!d.skipPatternLocalization,g=d.formatInternal===!0;if(!f&&(g||!c("IsInternSite").is_intern_site))if(a in c("CLDRDateFormatConfig").supportedPHPFormatsKeys)try{f=c("CLDRDateFormatConfig").supportedPHPFormatsKeys[a];g=c("getCLDRLocalizedFormat")(f);return c("intlRenderCLDRDate")(g,d,b)}catch(a){c("FBLogger")("i18n-formatDate").event("CLDR_date_format_render_error").blameToPreviousFile().catching(a).mustfix("CLDR date format render error");if(d.throwCLDRError===!0)throw a}else if(c("DateFormatConfig").formats[a])e=c("DateFormatConfig").formats[a];else if(!c("IsInternSite").is_intern_site)if(a.length!==1)throw c("unrecoverableViolation")("Trying to localize an unsupported date format: `"+a+"`","internationalization");return j(e,d,b)}function j(a,b,d){var e=[];for(var f=0;f<a.length;f++){var g=a.charAt(f);g=c("intlRenderJSDateSymbol")(d,g,b,a,f);e.push(g.rendered);f=g.idx}return e.join("")}function k(a,b){var d=h.DEFAULT_FORMAT;if(typeof b==="string")return b;else if(typeof b==="object"){var e=a.getTime();for(var f=l(),g=Array.isArray(f),i=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(g){if(i>=f.length)break;j=f[i++]}else{i=f.next();if(i.done)break;j=i.value}j=j;var k=b[j.name];if(k!=null&&j.start<=e&&e<j.end)return k}c("FBLogger")("i18n-formatDate").event("matching_period_format_not_found").blameToPreviousFile().warn('Matching period not found for date "%s", using default format "%s". Current timestamp: "%s"',e,d,Date.now());return d}else{c("FBLogger")("i18n-formatDate").event("invalid_format_argument").blameToPreviousFile().warn('Called with invalid format "%s" (type: %s) for date "%s", using default: %s',b,typeof b,a.getTime(),d);return d}}function l(){var a=new Date(),b=a.getTime(),d=a.getFullYear(),e=a.getMonth(),f=new Date(d,a.getMonth()+1,0).getDate(),g=new Date(d,1,29).getMonth()===1?366:365,h=1e3*60*60*24,i=new Date(a.setHours(0,0,0,0)),j=new Date(d,e,i.getDate()+1);a=a.getDate()-(a.getDay()-c("DateFormatConfig").weekStart+6)%7;var k=new Date(b).setDate(a);a=new Date(b).setDate(a+7);var l=new Date(d,e,1);e=new Date(d,e,f+1);var m=new Date(d,0,1);d=new Date(d+1,0,1);return[{name:"today",start:i.getTime(),end:j.getTime()},{name:"withinDay",start:b-h,end:b+h},{name:"yesterday",start:i.getTime()-h,end:i.getTime()-1},{name:"thisWeek",start:k,end:a},{name:"withinWeek",start:b-h*7,end:b+h*7},{name:"thisMonth",start:l.getTime(),end:e.getTime()},{name:"withinMonth",start:b-h*f,end:b+h*f},{name:"thisYear",start:m.getTime(),end:d.getTime()},{name:"withinYear",start:b-h*g,end:b+h*g},{name:"older",start:-Infinity,end:b},{name:"future",start:b,end:+Infinity},{name:"allOtherTimes",start:-Infinity,end:+Infinity}]}b=h;g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("ARIA_LABEL_PLACEHOLDER_FIXME",[],(function(a,b,c,d,e,f){"use strict";a=null;f["default"]=a}),66);
__d("BaseAspectRatioContainer.react",["react","react-strict-dom","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.aspectRatio,e=a.children,f=a.contentStyle,g=a.testid;g=a.xstyle;if(b<=0)throw c("unrecoverableViolation")("Aspect ratio must be a non-zero, positive number: "+b,"comet_ui");return i.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,style:[j.container,g,j.dynamicTop(b)],children:e!=null&&i.jsx(d("react-strict-dom").html.div,{style:[j.content,f],children:e})})}a.displayName=a.name+" [from "+f.id+"]";var j={container:{height:"xqtp20y",position:"x1n2onr6",width:"xh8yej3",$$css:!0},content:{alignItems:"x1qjc9v5",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"x1qhh985",borderEndStyle:"xu3j5b3",borderEndWidth:"xcfux6l",borderStartStyle:"x26u7qi",borderStartWidth:"xm0m39n",borderTopStyle:"x13fuv20",borderTopWidth:"x972fbf",bottom:"x1ey2m1c",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",end:"xds687c",start:"x17qophe",left:null,right:null,justifyContent:"x1qughib",marginBottom:"xat24cr",marginEnd:"x11i5rnm",marginStart:"x1mh8g0r",marginTop:"xdj266r",minHeight:"x2lwn1j",minWidth:"xeuugli",paddingBottom:"x18d9i69",paddingEnd:"x4uap5",paddingStart:"xkhd6sd",paddingTop:"xexx8yu",position:"x10l6tqk",top:"x13vifvy",zIndex:"x1ja2u2z",$$css:!0},dynamicTop:function(a){return[{paddingTop:100/a+"%"==null?null:"xmyip4h",$$css:!0},{"--paddingTop":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(100/a+"%")}]}};g["default"]=a}),98);
__d("BaseSvgImage.react",["react","useFeedImageErrorEventLoggerCbs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useRef;function a(a){var b=a.onError,d=a.src,e=a.testid;e=babelHelpers.objectWithoutPropertiesLoose(a,["onError","src","testid"]);a=c("useFeedImageErrorEventLoggerCbs")({onError:b,src:d});b=a._onError;a=a._onLoad;var f=k(null),g=k(d);j(function(){if(f.current&&f.current.getAttribute("xlink:href")!==g.current){var a;(a=f.current)==null?void 0:a.setAttribute("xlink:href",g.current)}},[f,g]);return i.jsx("image",babelHelpers["extends"]({},e,{"data-testid":void 0,height:"100%",onError:b,onLoad:a,preserveAspectRatio:"xMidYMid slice",ref:f,width:"100%",xlinkHref:d}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDOverLSMqttChannel",["CurrentUser","Env","MqttChannel","MqttEnv","MqttEnvInitializer","MqttWebConfig","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i;c("MqttEnvInitializer").initialize();function j(a){d("MqttEnv").setIsUserLoggedInNow(c("CurrentUser").isLoggedIn);var b=c("CurrentUser").getAppID()==null?936619743392459:Number(c("CurrentUser").getAppID()),e=268435456;e=c("MqttWebConfig").capabilities|(b===936619743392459?e:0);return new(c("MqttChannel"))({appId:b,capabilities:e,chatVisibility:!0,clientCapabilities:c("MqttWebConfig").clientCapabilities,clientType:"cookie_auth",deviceId:a,endpoint:(i||(i=c("Env"))).ig_mqtt_wss_endpoint||"wss://edge-chat.instagram.com/chat",initialSubscribedTopics:c("MqttWebConfig").subscribedTopics,phpOverride:c("MqttWebConfig").hostNameOverride,pollingEndpoint:(i||(i=c("Env"))).ig_mqtt_polling_endpoint||"https://edge-chat.instagram.com/mqtt/pull",userFbid:c("CurrentUser").getPossiblyNonFacebookUserID()})}var k=null,l;function m(a){k==null&&(k=j(a));a=k;l==null?void 0:l(a);return a}function a(){return new(h||(h=b("Promise")))(function(a){k?a(m()):l=function(b){a(b)}})}function e(){k!=null&&(k.shutdown(),k=null)}g.getInstance=m;g.waitAndGetInstance=a;g.shutdownAndClear=e}),98);
__d("IGWebCallWindowControllerLoader",["FBLogger","JSResourceForInteraction","Promise","asyncToGeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("RTWebCallWindowOpener").__setRef("IGWebCallWindowControllerLoader"),j=c("requireDeferred")("ZenonCallWindowController").__setRef("IGWebCallWindowControllerLoader"),k=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(babelHelpers.wrapNativeSuper(Error));a=function(){function a(a,b){this.$1=null,this.$2=a,this.$3=b}var d=a.prototype;d.init=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield (h||(h=b("Promise"))).all([j.load(),i.load()])),d=a[0];a=a[1];this.$1=new d(this.$2,{callWindowInitializerResource:this.$3,callWindowOpener:new a(),uriBuilderResource:c("JSResourceForInteraction")("IGCallUriBuilder").__setRef("IGWebCallWindowControllerLoader")})}catch(a){c("FBLogger")("rtc_www").catching(a).warn("Failed to initialize call window controller")}});function d(){return a.apply(this,arguments)}return d}();d.initCall=function(a){if(this.$1)return this.$1.initCall(a);else throw new k()};return a}();a.ResourceNotReadyError=k;g["default"]=a}),98);
__d("IGWebPreCallContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("react")).createContext;b=a(null);g["default"]=b}),98);
__d("ZenonCallInviteModelLoader",["BaseEventEmitter","Promise","asyncToGeneratorRuntime","emptyFunction","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("ZenonCallInviteModel").__setRef("ZenonCallInviteModelLoader"),j=c("requireDeferred")("delegateZenonCallInviteModel").__setRef("ZenonCallInviteModelLoader");a=function(a){babelHelpers.inheritsLoose(d,a);function d(b){var d;d=a.call(this)||this;d.$ZenonCallInviteModelLoader$p_1=null;d.getCurrentInvite=function(){return null};d.startListening=function(a){this.$ZenonCallInviteModelLoader$p_1=a};d.stopListening=function(){this.$ZenonCallInviteModelLoader$p_1=null};d.dismiss=c("emptyFunction");d.accept=c("emptyFunction");d.decline=c("emptyFunction");d.$ZenonCallInviteModelLoader$p_2=b;return d}var e=d.prototype;e.init=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield (h||(h=b("Promise"))).all([i.load(),j.load()])),c=a[0];a=a[1];c=new c(this.$ZenonCallInviteModelLoader$p_2);a(this,c);this.$ZenonCallInviteModelLoader$p_1!==null&&c.startListening(this.$ZenonCallInviteModelLoader$p_1)});function c(){return a.apply(this,arguments)}return c}();return d}(c("BaseEventEmitter"));g["default"]=a}),98);
__d("ZenonIncomingRingSDK",["BaseEventEmitter","RTWebIncomingRingConfiguration","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("ZenonParentCallsManager").__setRef("ZenonIncomingRingSDK"),i=[1,2,15,16];a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$ZenonIncomingRingSDK$p_1=[],c.$ZenonIncomingRingSDK$p_2=[],b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.init=function(a){var b=this;this.$ZenonIncomingRingSDK$p_3=a;h.onReady(function(c){b.callsManager==null&&(b.callsManager=new c(a));c=b.callsManager;c.addListener("unsupportedRing",function(a){return b.emit("unsupportedRing",a)});c.addListener("incomingRing",function(a){var c;if(a.actorID!=null&&!((c=b.$ZenonIncomingRingSDK$p_3)==null?void 0:c.enableIncomingActorCalls))return;b.emit("incomingRing",a)});c.addListener("ringCancel",function(a){return b.emit("ringCancel",a)});c.initListeners(b.$ZenonIncomingRingSDK$p_1);while(b.$ZenonIncomingRingSDK$p_2.length>0){var d=b.$ZenonIncomingRingSDK$p_2.shift();c.startOutgoingCallIntent(d.nonce,d.callParams)}})};c.initListeners=function(a){var b=this.callsManager;if(b!=null)b.initListeners(a);else{(b=this.$ZenonIncomingRingSDK$p_1).push.apply(b,a)}};c.removeListeners=function(a){var b=this;if(this.callsManager!=null)this.callsManager.removeListeners(a);else{var c=function(){if(e){if(f>=d.length)return"break";g=d[f++]}else{f=d.next();if(f.done)return"break";g=f.value}var a=g;b.$ZenonIncomingRingSDK$p_1=b.$ZenonIncomingRingSDK$p_1.filter(function(b){return b!==a})};for(var d=a,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;a=c();if(a==="break")break}}};c.isCallSupported=function(a){switch(a.type){case"thread":if(this.$ZenonIncomingRingSDK$p_3&&i.includes(a.threadType)){return(a=d("RTWebIncomingRingConfiguration").isSupportedClient())!=null?a:!1}break;default:return!1}return!1};c.startCallIntent=function(a,b){this.callsManager?this.callsManager.startOutgoingCallIntent(a,b):this.$ZenonIncomingRingSDK$p_2.push({callParams:b,nonce:a})};return b}(c("BaseEventEmitter"));g["default"]=a}),98);
__d("IGWebPreCallContextSingleton",["FBLogger","IGWebCallWindowControllerLoader","JSResource","ZenonCallInviteModelLoader","ZenonIncomingRingSDK","gkx","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("IgSignalingListener").__setRef("IGWebPreCallContextSingleton"),i=!1,j;function a(a){if(!c("gkx")("25307"))return null;if(j!=null)return j;try{var b=new(c("ZenonIncomingRingSDK"))();j={callInviteModel:new(c("ZenonCallInviteModelLoader"))(b),callWindowController:new(c("IGWebCallWindowControllerLoader"))(a,c("JSResource")("IGWebCallWindowInitializer").__setRef("IGWebPreCallContextSingleton")),incomingRingSDK:b};return j}catch(a){c("FBLogger")("rtc_www").catching(a).mustfix("Pre-call context initialization failed! This breaks all calling!");return null}}function b(a){if(!c("gkx")("25307"))return null;if(i)return j;i=!0;c("promiseDone")(j.callInviteModel.init());c("promiseDone")(j.callWindowController.init());j.incomingRingSDK.init({enableIncomingActorCalls:!1,relayEnvironment:a});c("promiseDone")(h.load(),function(a){j.incomingRingSDK.initListeners([new a()])});return j}g.create=a;g.init=b}),98);
__d("IGWebPreCallProvider.react",["CometRelay","IGWebPreCallContext","IGWebPreCallContextSingleton","react","react-compiler-runtime","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(9);a=a.children;var e=d("CometRelay").useRelayEnvironment(),f;b[0]!==e?(f=function(){return d("IGWebPreCallContextSingleton").create({relayEnvironment:e})},b[0]=e,b[1]=f):f=b[1];var g=c("useStable")(f),h;b[2]!==g||b[3]!==e?(f=function(){g&&(d("IGWebPreCallContextSingleton").init(e),g.callInviteModel.startListening({callsBlocked:!1}))},h=[g,e],b[2]=g,b[3]=e,b[4]=f,b[5]=h):(f=b[4],h=b[5]);j(f,h);b[6]!==a||b[7]!==g?(f=i.jsx(c("IGWebPreCallContext").Provider,{value:g,children:a}),b[6]=a,b[7]=g,b[8]=f):f=b[8];return f}g["default"]=a}),98);
__d("ZenonAppProvider",["IGDWebUtils","ZenonActorHooks"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("IGDWebUtils").isInstagramWebSupportedApp(j())}function b(){return k(j())}function c(){return j()===351299233827255}function e(){return j()===2057013231240274}function f(){return j()===518491789147974}function h(){var a=d("ZenonActorHooks").ZenonActor.getAppID();return a==null?!1:Number(a)===2763362503905702||Number(a)===1013624499181349||Number(a)===218968626708284}function i(){var a=d("ZenonActorHooks").ZenonActor.getAppID();return a==null?!1:Number(a)===772021112871879}function j(){var a=d("ZenonActorHooks").ZenonActor.getAppID();return a==null?null:Number(a)}function k(a){return a!=null?a===2763362503905702||a===1013624499181349||a===218968626708284:!1}g.isInstagramApp=a;g.isOculusApp=b;g.isHorizonApp=c;g.isHorizonWorldsApp=e;g.isCastingCenterApp=f;g.isOculusCastingSite=h;g.isMessengerWebApp=i}),98);
__d("ZenonActorHooks",["CurrentUser","FBLogger","ZenonAppProvider","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=null,j=null,k=!1,l=!1,m=new Set();function n(a,b){b===void 0&&(b="Fallback to CurrentUser"),m.has(a)||(c("FBLogger")("rtc_www").blameToPreviousFrame().info("ZenonActor."+a+" - "+b),m.add(a))}function a(){return[o.getID(),function(a){n("useZenonActor:setter","This setter should not be used as Zenon should currently doesn't allow switching Actor"),h=a}]}function b(a,b,c){b===void 0&&(b=!1);c===void 0&&(c=!1);if(h!==null){if(l)return;n("initZenonActor","ZenonActor is being reinitalized. This may indicate unneccessary ZenonActorProvider's to RelayEnvironmentProvider's in the component tree.")}l=l||b;k=k||c;typeof a==="string"||typeof a==="number"?(h=a.toString(),i=null,j=null):(a==null?void 0:a.actorID)!=null&&(h=a.actorID.toString(),i=a.name,j=a.shortName)}var o={getAccountID:function(){if(o.isInstagramUser())return c("CurrentUser").getEIMU();return o.isOculusCastingUser()?c("CurrentUser").getEOCPU():c("CurrentUser").getAccountID()},getAppID:function(){return c("CurrentUser").getAppID()},getID:function(){if(o.isInstagramUser())return c("CurrentUser").getEIMU();if(o.isOculusCastingUser())return c("CurrentUser").getEOCPU();if(o.isHorizonWebUser()&&!c("gkx")("5683"))return c("CurrentUser").getEPOU();if(h===null){n("getID");return c("CurrentUser").getID()}else return h},getName:function(){var a;return(a=i)!=null?a:c("CurrentUser").getName()},getShortName:function(){var a;return(a=j)!=null?a:c("CurrentUser").getShortName()},isEmployee:function(){return c("CurrentUser").isEmployee()},isHorizonWebUser:function(){return c("CurrentUser").getEPOU()!==0&&d("ZenonAppProvider").isHorizonApp()},isInstagramUser:function(){return c("CurrentUser").getEIMU()!==0&&d("ZenonAppProvider").isInstagramApp()},isLoggedIn:function(){return c("CurrentUser").isLoggedIn()},isLoggedInNow:function(){return c("CurrentUser").isLoggedInNow()},isMessengerCallGuestUser:function(){return c("CurrentUser").isMessengerCallGuestUser()},isOculusCastingUser:function(){return c("CurrentUser").getEOCPU()!==0&&d("ZenonAppProvider").isOculusApp()},isOculusUser:function(){return c("CurrentUser").getEPOU()!==0&&d("ZenonAppProvider").isOculusApp()},isPage:function(){return k},isTestUser:function(){return c("CurrentUser").isTestUser()},isWorkishUser:function(){return c("CurrentUser").isWorkroomsUser()||c("CurrentUser").isWorkUser()},isWorkroomsUser:function(){return c("CurrentUser").isWorkroomsUser()},isWorkUser:function(){return c("CurrentUser").isWorkUser()}};g.useZenonActor=a;g.initZenonActor=b;g.ZenonActor=o}),98);
__d("ZenonCallWindowErrors",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonOpeningAnotherCallError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonConferenceNameMutationFailedError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));c=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonIncompleteControllerParamsError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));d=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonUnsupportedThreadTypeError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonCannotAcceptInviteError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));var g=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.name="ZenonInviteNotFoundError",a)||babelHelpers.assertThisInitialized(c)}return a}(babelHelpers.wrapNativeSuper(Error)),h=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.name="ZenonUninitializedError",a)||babelHelpers.assertThisInitialized(c)}return a}(babelHelpers.wrapNativeSuper(Error));f.OpeningAnotherCallError=a;f.ConferenceNameMutationFailedError=b;f.IncompleteControllerParamsError=c;f.UnsupportedThreadTypeError=d;f.CannotAcceptInviteError=e;f.InviteNotFoundError=g;f.UninitializedError=h}),66);
__d("ZenonPeerID",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";var i="MW_PEER_ID";function a(a){a.length>0||h(0,33504);if(a==="MW_PEER_ID")return i;isNaN(a)===!1||h(0,33551,a);return a}function b(a){return isNaN(a)||a===i?null:a}g.ZenonMWPeerID=i;g.convertStringToPeerID=a;g.convertPeerIDForLogging=b}),98);
__d("ZenonSignalingProtocol",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({MW:"mw",MWPP:"mw++"});c=a;f["default"]=c}),66);
__d("useSetAttributeRef",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a,b){return i(function(c){c!=null&&c.setAttribute(a,b)},[a,b])}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("E2eeStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({NONE:0,NEGOTIATED:1,STATIC:2});d=a({NONE:0,MEDIA_CHANNEL_KEY_PROTOCOL:1});f=a({SENDER_KEY:0,SESSION_KEY:1});b=a({NOT_SET:0,CONTROL:1,TEST:2});a=a({ENABLED:0,DISABLED:1,FALLBACK:2});e.exports={E2eeKeyNegotiationProtocolEnum:f,E2eeStateCapabilitiesEnum:d,InfraMandatedExpStatus:b,KeyNegotiationModeEnum:c,SignalingKeyMessageProtocolEnum:a}}),null);
__d("PolarisSwitchAccountsModalLazy.react",["CometPlaceholder.react","IGCoreModal.react","IGDSBox.react","IGDSSpinner.react","JSResourceForInteraction","lazyLoadComponent","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisSwitchAccountsModal.react").__setRef("PolarisSwitchAccountsModalLazy.react"));function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("IGCoreModal.react"),{children:i.jsx(c("IGDSBox.react"),{alignItems:"center",height:112,justifyContent:"center",position:"relative",width:"100%",children:i.jsx(c("IGDSSpinner.react"),{size:"medium"})})}),children:i.jsx(j,{})}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("RpWebInfraActionsLoggerEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744334");b=d("FalcoLoggerInternal").create("rp_web_infra_actions_logger_event",a);e=b;g["default"]=e}),98);
__d("RtcWebUserActionsDebugFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744337");b=d("FalcoLoggerInternal").create("rtc_web_user_actions_debug",a);e=b;g["default"]=e}),98);
__d("RtcWebUserActionsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744338");b=d("FalcoLoggerInternal").create("rtc_web_user_actions",a);e=b;g["default"]=e}),98);
__d("StateSyncSerializers",["ThriftTypes"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return{version:0}}function b(){return{stateStore:{}}}function i(a,b){b.writeStructBegin("State");b.writeFieldBegin({fname:"version",ftype:(h||(h=c("ThriftTypes"))).I32,fid:1});if(a.version!=null)b.writeI32(a.version);else{var d=0;b.writeI32(d)}b.writeFieldEnd();a.data!=null&&(b.writeFieldBegin({fname:"data",ftype:(h||(h=c("ThriftTypes"))).STRING,fid:2}),b.writeBinary(a.data),b.writeFieldEnd());b.writeFieldStop();b.writeStructEnd()}function d(a,b){b.writeStructBegin("Snapshot");b.writeFieldBegin({fname:"stateStore",ftype:(h||(h=c("ThriftTypes"))).MAP,fid:1});if(a.stateStore!=null){b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).STRING,vtype:h.STRUCT,size:Object.keys(a.stateStore).length});a=Object.entries(a.stateStore);for(var d=0;d<a.length;d++){var e=a[d],f=e[0];e=e[1];b.writeString(f);i(e,b)}b.writeMapEnd()}else{f={};b.writeMapBegin({ktype:(h||(h=c("ThriftTypes"))).STRING,vtype:h.STRUCT,size:Object.keys(f).length});e=Object.entries(f);for(a=0;a<e.length;a++){d=e[a];f=d[0];d=d[1];b.writeString(f);i(d,b)}b.writeMapEnd()}b.writeFieldEnd();b.writeFieldStop();b.writeStructEnd()}function j(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:e===(h||(h=c("ThriftTypes"))).I32?b.version=a.readI32():a.skip(e);break;case 2:e===(h||(h=c("ThriftTypes"))).STRING?b.data=a.readBinary():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.version===void 0&&(b.version=0);return b}function e(a){var b={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===(h||(h=c("ThriftTypes"))).STOP)break;switch(d){case 1:if(e===(h||(h=c("ThriftTypes"))).MAP){b.stateStore={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var g=a.readString(),i=j(a);b.stateStore[g]=i}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();b.stateStore===void 0&&(b.stateStore={});return b}g.State$DefaultConstructor=a;g.Snapshot$DefaultConstructor=b;g.serializeState=i;g.serializeSnapshot=d;g.deserializeState=j;g.deserializeSnapshot=e}),98);
__d("ZenonAuditedCheckpointLogId",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["RP_ROOMS_INFRA_WWW__E2EE","RP_ROOMS_INFRA_WWW__WASM","RP_ROOMS_INFRA_WWW__LOGGER_INFRA","RP_ROOMS_INFRA_WWW__STATE_MACHINE","RP_ROOMS_INFRA_WWW__ERROR","RP_ROOMS_INFRA_WWW__E2EE_DEVICE_VERIFIER","RP_ROOMS_INFRA_WWW__PLATFORM"]);c=a;f["default"]=c}),66);
__d("isEmployeeTestUserZenonLogging",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("25162")||c("gkx")("25152")||c("gkx")("25209")}g["default"]=a}),98);
__d("ZenonInfraActionsLogger",["Log","RpWebInfraActionsLoggerEventFalcoEvent","ZenonAuditedCheckpointLogId","formatDate","isEmployeeTestUserZenonLogging","justknobx"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1={callTrigger:void 0,conferenceName:void 0,deviceID:void 0,mediaPath:"sfu",peerID:void 0,serverInfoData:void 0,signalingID:void 0},this.$2=new Set(),this.$3=new Map(),this.$4=new Map()}var b=a.prototype;b.updateCachedValues=function(a){Object.assign(this.$1,a)};b.setE2eeIsMandatedForCall=function(a){this.$3.set(a,!0)};b.logCheckpointEmployeesTestUsersOnly=function(a){if(!c("isEmployeeTestUserZenonLogging")())return;this.logCheckpoint(a)};b.logCheckpoint=function(a){this.logEvent(babelHelpers["extends"]({},a))};b.logCheckpointOnceForDomain=function(a){var b=a.checkpoint;this.$2.has(b)||(this.$2.add(b),this.logCheckpoint(a))};b.logError=function(a){this.logEvent(babelHelpers["extends"]({},a))};b.startTimer=function(a){var b=Date.now();this.$4.set(a,b);this.logEvent({checkpoint:a+"_timerStart"})};b.stopTimer=function(a){var b=this.$4.get(a);this.$4["delete"](a);b=b!=null?Date.now()-b:null;this.logEvent({checkpoint:a+"_timerEnd",eventTimeElapsed:b});return parseInt(b,10)};b.logEvent=function(a){var b;if(c("justknobx")._("854"))return;b=(b=this.$3.get((b=this.$1.signalingID)!=null?b:""))!=null?b:!1;if(b&&!c("justknobx")._("1021"))return;if(b&&a.auditId==null){b="Encountered an unaudited log line, dropping it.";a.error!=null?this.logEvent({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__LOGGER_INFRA,error:b}):this.logEvent({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__LOGGER_INFRA,checkpoint:b});return}if(((b=a.checkpoint)==null?void 0:b.length)!=null&&a.checkpoint.length>3e5)return;var d={call_id:(b=a.signalingID)!=null?b:this.$1.signalingID==null?void 0:String(this.$1.signalingID),call_trigger:this.$1.callTrigger,call_type:(b=a.callType)!=null?b:null,checkpoint:a.checkpoint,client_session_id:this.$1.signalingID,client_time:Date.now().toString(),conference_name:(b=a.conferenceName)!=null?b:this.$1.conferenceName,connection:(b=a.connectionState)!=null?b:this.$1.connectionState,device_id:this.$1.deviceID,error:a.error,error_domain:a.errorDomain,event_time_elapsed:(b=a.eventTimeElapsed)==null?void 0:b.toString(),is_caller:(b=a.isCaller)!=null?b:null,media_path:(b=a.mediaPath)!=null?b:this.$1.mediaPath,message_id:a.messageID,peer_connection:(b=a.peerConnectionState)!=null?b:this.$1.peerConnectionState,peer_id:this.$1.peerID,sdp_format:(b=a.sdpFormat)!=null?b:null,server_info_data:(b=a.serverInfoData)!=null?b:this.$1.serverInfoData,signaling:(b=a.signalingState)!=null?b:this.$1.signalingState,state_machine_id:a.stateMachineID};c("RpWebInfraActionsLoggerEventFalcoEvent").log(function(){return d})};return a}();b=new a();g["default"]=b}),98);
__d("ZenonLoggingUtils",["ZenonAppProvider"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("ZenonAppProvider").isHorizonApp()||d("ZenonAppProvider").isHorizonWorldsApp()?!1:!0}g.shouldAllowLogging=a}),98);
__d("ZenonMachineToQPLEvent",["qpl"],(function(a,b,c,d,e,f,g){"use strict";b={ConnectionStateMachine:(a=c("qpl"))._(64243854,"2452"),ParentSignalingClient:a._(64234815,"1094"),PeerConnectionStateMachine:a._(64239068,"6172"),SignalingStateMachine:a._(64245348,"8823")};g["default"]=b}),98);
__d("ZenonODSLogger",["ODS"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(){}var b=a.prototype;b.logCounter=function(a){(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_multiway",a),h.flush()};b.logE2eeCounter=function(a){(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_e2ee",a),h.flush()};return a}();b=new a();g["default"]=b}),98);
__d("ZenonDebugLogger",["ChannelClientID","CurrentUser","FBLogger","IGDWebUtils","Log","LogHistory","ODS","QuickLogActionType","QuickPerformanceLogger","RpWebStateMachineLoggingBlocklist","UserAgentData","ZenonAuditedCheckpointLogId","ZenonInfraActionsLogger","ZenonLoggingUtils","ZenonMachineToQPLEvent","ZenonODSLogger","formatDate","isEmployeeTestUserZenonLogging"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=null;a=function(){a.getInstance=function(){j||(j=new a());return j};a.getFBLogger=function(a){var b;a===void 0&&(a={});return c("FBLogger")("rpweb").addMetadata("RT_WEB","CALL_ID",""+((b=a.signalingID)!=null?b:"null")).addMetadata("RT_WEB","PEER_ID",""+((b=a.peerID)!=null?b:"null"))};function a(){var a;this.$1=d("LogHistory").getInstance("webrtc");this.$2=d("ChannelClientID").getID();this.$3=JSON.stringify({browser:(a=c("UserAgentData")).browserName,browser_version:a.browserFullVersion,device:a.deviceName,msg_source:"web",os:a.platformName,os_version:a.platformFullVersion,version:2});a=c("CurrentUser").getAppID();a!=null&&d("IGDWebUtils").isInstagramWebSupportedApp(Number(a))?this.$4=parseInt(a,10):this.$4=219994525426954;this.$5=new Set(c("RpWebStateMachineLoggingBlocklist").EVENT_TYPES);this.$6=new Set(c("RpWebStateMachineLoggingBlocklist").STATES)}var b=a.prototype;b.$7=function(a,b,d){b===void 0&&(b=!0);var e=c("formatDate")(new Date(),"[H:i:s:X]",{skipPatternLocalization:!0});this.$1.log("Console",e+" "+a);b&&c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"[ZP] "+a,messageID:d})};b.$8=function(a,b,d){var e=c("formatDate")(new Date(),"[H:i:s:X]",{skipPatternLocalization:!0});this.$1.log("Console",e+" "+a+". StateMachineID:  "+((e=b)!=null?e:""));e={auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__STATE_MACHINE,checkpoint:"[ZP] "+a+".",stateMachineID:b};d!=null&&(e.messageID=d);c("ZenonInfraActionsLogger").logCheckpoint(e)};b.$9=function(a,b,e,f){f===void 0&&(f=0);a=c("ZenonMachineToQPLEvent")==null?void 0:c("ZenonMachineToQPLEvent")[a];if(!(a&&(i||(i=c("QuickPerformanceLogger")))&&c("QuickLogActionType")&&d("ZenonLoggingUtils").shouldAllowLogging()))return;e==="terminated"?(i||(i=c("QuickPerformanceLogger"))).markerEnd(a,2,f):(i||(i=c("QuickPerformanceLogger"))).markerPoint(a,b,{data:{string:{data:e}},instanceKey:f})};b.$10=function(a){return isNaN(+a)?0:+a};b.getLogHistory=function(){return this.$1};b.logStateMachine=function(a,b,d,e,f){if(!c("isEmployeeTestUserZenonLogging")())return;if(this.$5.has(d))return;var g="["+a+"] [Current State: "+b+"] Processing event: "+d;g={auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__STATE_MACHINE,checkpoint:""+g,stateMachineID:e};f!=null&&(g.messageID=f);c("ZenonInfraActionsLogger").logCheckpoint(g);this.$9(a,d,b,this.$10(e))};b.logStateMachineTransition=function(a,b,d,e,f,g,h,i){if(this.$6.has(d)||this.$5.has(f))return;if(!c("isEmployeeTestUserZenonLogging")())return;var j="";g!=null&&g.length===1&&g[0].type==="defer"?j="["+a+"] [[DEFERRED] "+f+" did not trigger transition. Current state remains "+d:d!==e?j="["+a+"] [[PROCESSED] "+f+" caused transition from "+(e||"")+" to "+d+".":b?j="["+a+"] [[PROCESSED] "+f+" did not trigger transition. Current state remains "+d:(j="["+a+"] [[DROPPED] "+f+" did not trigger transition. Current state remains "+d,this.$11(a));this.$8(j,h,i)};b.startQPL=function(a,b){b===void 0&&(b=0),(i||(i=c("QuickPerformanceLogger")))&&d("ZenonLoggingUtils").shouldAllowLogging()&&(i||(i=c("QuickPerformanceLogger"))).markerStart(a,this.$10(b))};b.endQPL=function(a,b){b===void 0&&(b=0),(i||(i=c("QuickPerformanceLogger")))&&c("QuickLogActionType")&&d("ZenonLoggingUtils").shouldAllowLogging()&&(i||(i=c("QuickPerformanceLogger"))).markerEnd(a,2,this.$10(b))};b.logConsole=function(a){this.$7(a,!1)};b.logMQTTStateChange=function(a){var b="mqtt_client_state_"+a;c("ZenonODSLogger").logCounter(b);c("isEmployeeTestUserZenonLogging")()&&c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"[ZP] onMQTTStateChanged: "+a+", document.visibility: "+document.visibilityState+", document.hasFocus: "+String(document.hasFocus())+", navigator.onLine: "+String(navigator.onLine)})};b.logMQTTConnectStats=function(a,b){c("ZenonInfraActionsLogger").logCheckpoint({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"[ZP] MQTT Connection time: "+String(a)+"ms, Retry Count: "+String(b)})};b.$11=function(a){(h||(h=d("ODS"))).bumpEntityKey(4083,"zenon_state_machine",a+"_event_dropped"),h.flush()};return a}();g["default"]=a}),98);
__d("ZenonIGMediaUtil",["ZenonAppProvider","gkx"],(function(a,b,c,d,e,f,g){"use strict";a={shouldUseSFUOnly:function(){return d("ZenonAppProvider").isInstagramApp()&&!c("gkx")("2274")}};b=a;g["default"]=b}),98);
__d("ZenonSDESKeyDetector",[],(function(a,b,c,d,e,f){"use strict";var g=/inline:\s*[0-9a-zA-z+/]{40}(\b|\s|$)/;function a(a){return g.test(JSON.stringify(a))}f["default"]=a}),66);
__d("ZenonSignalingMessage",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.getHeader=function(){return this.$1};b.getEvents=function(){return this.$2};b.setSignalingID=function(a){this.$1.signalingID=a};b.setRetryCount=function(a){this.$1.retryCount=a};return a}();f["default"]=a}),66);
__d("ZenonSignalingTypes",[],(function(a,b,c,d,e,f){"use strict";a={OK:0,REJECTED_FROM_VERSION_DOES_NOT_MATCH:1,METHOD_NOT_ALLOWED:2};b={CLIENT_TERMINATED:0};f.ZenonSignalingStatusCode=a;f.ZenonSignalingStatusSubCode=b}),66);
__d("ZenonUserActionLogger",["RtcWebUserActionsDebugFalcoEvent","RtcWebUserActionsFalcoEvent","ZenonDebugLogger","ZenonSDESKeyDetector","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=window.location.hostname.search("facebook")!==-1?"facebook":window.location.hostname.search("messenger")!==-1?"messenger_dot_com":null,j={logCheckpoint:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"checkpoint"}))},logClick:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"tap"}))},logError:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"error"}))},logEvent:function(a){var b;if(c("ZenonSDESKeyDetector")(a))throw c("unrecoverableViolation")("ZenonUserActionLogger event contains SDES crypto key! This log entry must be removed!","rtc_www");b=babelHelpers["extends"]({},a,{page:(b=a.page)!=null?b:i});var d=babelHelpers["extends"]({},b,{client_time:Date.now().toString()});c("RtcWebUserActionsDebugFalcoEvent").log(function(){return d});c("RtcWebUserActionsFalcoEvent").log(function(){return d});c("ZenonDebugLogger").getInstance().getLogHistory().log((a=a.event)!=null?a:"null",JSON.stringify(b))},logImpression:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"impression"}))},logPreCallClick:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"tap"}))},logPreCallImpression:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"impression"}))},startTimer:function(a){var b=Date.now();h=h.set(a,b);j.logCheckpoint({checkpoint:a+"_timerStart"})},stopTimer:function(a){var b=a.checkpointName===void 0?a.timerName:a.checkpointName,c=a.event||{},d=function(a){var b=h.get(a);if(b!=null){h["delete"](a);return parseInt(Date.now()-b,10)}return null};d=d(a.timerName);j.logCheckpoint(babelHelpers["extends"]({},c,{checkpoint:b+"_timerEnd",event_time_elapsed:d==null?void 0:d.toString()}));return parseInt(d,10)}};f.exports=j}),34);
__d("shouldUseSFUMediaPath",["ZenonAppProvider","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("gkx")("25249");if(b)return!0;return d("ZenonAppProvider").isMessengerWebApp()&&a&&((b=c("gkx")("3298"))!=null?b:!1)?!0:!1}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSDatabase",[],(function(a,b,c,d,e,f){}),null);
__d("LSSyncGroupsUtils",["CurrentLocale","LSIntEnum","LSMailboxInitialSyncCursor"],(function(a,b,c,d,e,f,g){"use strict";var h;a={locale:c("CurrentLocale").get()};b={canIgnoreTimestamp:!1,currentCursor:void 0,dataTraceId:void 0,groupId:(h||(h=d("LSIntEnum"))).ofNumber(0),initTraceTimestampMs:void 0,lastSyncCompletedTimestampMs:void 0,lastSyncRequestTimestampMs:h.ofNumber(0),minTimeToSyncTimestampMs:h.ofNumber(-1),priority:h.ofNumber(0),regionHint:void 0,sendSyncParams:!0,syncChannel:d("LSMailboxInitialSyncCursor").syncChannel,syncParams:JSON.stringify(a),syncStatus:h.ofNumber(0)};e={epochId:void 0,failureCount:h.ofNumber(0),lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:h.ofNumber(0),lastSyncRequestTimestampMs:h.ofNumber(0),networkTaskIdentifier:void 0,syncDatabaseId:h.ofNumber(0),taskQueueName:""};f=h.ofNumber(9999999999999);g.defaultSyncParams=a;g.defaultSyncGroup=b;g.defaultNetworkRequest=e;g.neverSyncTimestamp=f}),98);
__d("MNetRankType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNDEFINED_RANKING_TYPE:-1,INBOX_ACTIVE_NOW:0,MESSENGER_USER_SEARCH:1,MONTAGE_USER:2,BROADCAST_FLOW_TOP_CONTACTS:3,BROADCAST_FLOW_NEEDY_CONTACTS:4,MESSENGER_GROUP_SEARCH:5,RTC_TOP_CONTACTS:6,PSTN_TOP_CONTACTS:7,MESSENGER_NON_CONTACT_SEARCH:8,MESSENGER_SEARCH_BOOTSTRAP:9,ACTIVE_BEEPER:10,MONTAGE_AND_ACTIVE_NOW:11,MESSENGER_PAGE_SEARCH:12,MESSENGER_GAME_SEARCH:13,WWW_NULLSTATE:14,RTC_GROWTH:15,MESSENGER_OMNIPICKER_NULLSTATE:16,RTC_SEQUENTIAL_TOP_CONTACTS:17,MESSENGER_USER_SEARCH_NULLSTATE:18,MLITE_DIODE_PROMOTION:19,MESSENGER_PENDING_REQUEST:20,MESSENGER_CLOSE_CONNECTION:21,MESSENGER_MONTAGE_SEEN_SHEET:22,MESSENGER_OMNIPICKER_KEYPRESS:23,MESSENGER_NOTIF_QP_TARGETING_UPSELL_TYPE:24,CONTACT_TAB_ACTIVE_NOW:26,MESSENGER_UNIV_NULLSTATE_BLEND:27,MESSENGER_INBOX_THREADS:28,INBOX_ACTIVE_NOW_NO_BOOSTING:29,BROADCAST_FLOW_TOP_CONTACTS_FB_SHARE:30,BROADCAST_FLOW_TOP_CONTACTS_MESSENGER_SHARE:31,BROADCAST_FLOW_TOP_CONTACTS_EXTERNAL_SHARE:32,MESSENGER_TRENDING_STICKERS:33,MESSENGER_BROADCAST_FLOW_TOP_THREADS:34,MESSENGER_SENDS_28D:35,MESSENGER_ROOM_INVITE:36,MESSENGER_ROOM_INVITE_SEARCH:37,INBOX_ACTIVE_NOW_PREFETCH:38,MESSENGER_BLENDED_KEYPRESS:39,MESSENGER_BLENDED_NULLSTATE:40,MESSENGER_CARRIER_MESSAGING:41,MESSENGER_ROOM_INVITE_GROUP:42,MESSENGER_INBOX_BIRTHDAY_ITEM:43,INSTAGRAM_DIRECT_SEARCH_NULLSTATE:44,BROADCAST_FLOW_TOP_CONTACTS_AND_TOP_THREAD_FB_SHARE:45,BROADCAST_FLOW_TOP_THREADS_FB_SHARE:46,FB_H_SCROLL_RANKING:47,FB_MESSAGING_USER_SEARCH:48,FB_MESSAGING_USER_SEARCH_NULLSTATE:49,MESSENGER_ACTIVE_NOW_TRAY_ACTIVE_CC:50,MESSENGER_SHARE_SHEET:51,MESSENGER_COMMUNITY_TAB_UNJOINED_COMMUNITIES:52,MESSENGER_BCF_FREQUENTS:53,FB_ORIGINAL_PRIVATE_SHARING:54});f["default"]=a}),66);
__d("isSearchQualityEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("3283")}g["default"]=a}),98);
__d("seedUserInfo",["CurrentMessengerUser","I64","LSIntEnum","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("CurrentMessengerUser").getIDorEIMU();yield a._user_info.put({facebookUserId:(h||(h=d("I64"))).of_string(b),id:(i||(i=d("LSIntEnum"))).ofNumber(1)})});return j.apply(this,arguments)}g["default"]=a}),98);
__d("LSDefaultSyncGroups",["CurrentEnvironment","I64","LSE2EEMetadataSyncGroupUtils","LSIntEnum","LSMailboxInitialSyncCursor","LSPlatformLsInitLog","LSSyncGroupsUtils","MNetRankType","Promise","ReQL","asyncToGeneratorRuntime","gkx","isInstamadillo","isSearchQualityEnabled","qex","seedUserInfo"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=new Set();d("LSE2EEMetadataSyncGroupUtils").shouldAlwaysResetE2EEMetadata()&&k.add(95);e=c("gkx")("5963")||c("isInstamadillo")();f=c("gkx")("5962");var l=d("LSE2EEMetadataSyncGroupUtils").getE2EEMetadataSyncGroup();e=[{groupId:1,lastSyncRequestTimestampMs:d("LSMailboxInitialSyncCursor").lastSyncTimestampMs,syncChannel:d("LSMailboxInitialSyncCursor").syncChannel,syncParams:d("LSMailboxInitialSyncCursor").syncParams},{groupId:2,lastSyncRequestTimestampMs:d("LSMailboxInitialSyncCursor").lastSyncTimestampMs,syncChannel:d("LSMailboxInitialSyncCursor").syncChannel},{groupId:16,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},c("gkx")("4246")?null:{groupId:28,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel,syncParams:JSON.stringify(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultSyncParams,{size_type:"wide"}))},{groupId:118,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},{groupId:198},e?{groupId:89}:null,f?{groupId:197}:null];var m=[].concat(e,[c("gkx")("4863")?null:{groupId:6},{groupId:7,syncParams:JSON.stringify({mnet_rank_types:[c("MNetRankType").INSTAGRAM_DIRECT_SEARCH_NULLSTATE]})},d("LSE2EEMetadataSyncGroupUtils").getE2EEMetadataSyncGroupForIGDSyncGroup()]),n=[].concat(e,[{groupId:7,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp,syncParams:JSON.stringify({mnet_rank_types:[c("MNetRankType").MESSENGER_USER_SEARCH,c("isSearchQualityEnabled")()?c("MNetRankType").MESSENGER_BLENDED_NULLSTATE:c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE,c("MNetRankType").INBOX_ACTIVE_NOW,c("MNetRankType").MESSENGER_OMNIPICKER_NULLSTATE,c("MNetRankType").MESSENGER_BROADCAST_FLOW_TOP_THREADS,c("MNetRankType").BROADCAST_FLOW_TOP_CONTACTS]})},{groupId:15,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},{groupId:12,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},{groupId:140},{groupId:141},{groupId:142},{groupId:143},{groupId:26},{groupId:196},{groupId:104,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},l,c("gkx")("24113")?{groupId:120,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel}:null,c("qex")._("136")?{groupId:208}:null,c("gkx")("26390")?{groupId:6,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp}:null,{groupId:145,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},c("gkx")("5985")?{groupId:202}:null]);function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.network_requests).getKeyRange(""))),f=e.map(function(a){a=a.syncDatabaseId;return(j||(j=d("LSIntEnum"))).toNumber(a)});return(h||(h=b("Promise"))).all(c.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b!=null&&(!f.includes(b.groupId)||k.has(b.groupId))&&(yield a.network_requests.put(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultNetworkRequest,{syncDatabaseId:(j||(j=d("LSIntEnum"))).ofNumber(b.groupId)})))});return function(a){return c.apply(this,arguments)}}()))});return p.apply(this,arguments)}function q(a){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.sync_groups)));return new Map(a.map(function(a){return[(j||(j=d("LSIntEnum"))).toNumber(a.groupId),a]}))});return r.apply(this,arguments)}function s(a,b){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield q(a));function f(a){return g.apply(this,arguments)}function g(){g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=b.groupId;b=babelHelpers.objectWithoutPropertiesLoose(b,["groupId"]);var f=e.get(c);f==null||k.has(c)?yield a.sync_groups.put(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultSyncGroup,b,{groupId:(j||(j=d("LSIntEnum"))).ofNumber(c)})):f!=null&&(f.syncParams!==b.syncParams||b.syncChannel!=null&&!(i||(i=d("I64"))).equal(f.syncChannel,b.syncChannel))&&(yield a.sync_groups.put(babelHelpers["extends"]({},f,{syncChannel:b.syncChannel!=null?b.syncChannel:f.syncChannel,syncParams:b.syncParams})))});return g.apply(this,arguments)}yield (h||(h=b("Promise"))).all(c.map(function(a){return a&&f(a)}))});return t.apply(this,arguments)}function u(a){return a!=null?a:c("CurrentEnvironment").instagramdotcom?m:n}function a(a,b){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=u(b);d("LSPlatformLsInitLog").addPoint("db_seed_start");yield c("seedUserInfo")(a);yield o(a,b);yield s(a,b);d("LSPlatformLsInitLog").addPoint("db_seed_end")});return v.apply(this,arguments)}g.e2eeMetadataSyncGroup=l;g.igdSyncGroups=m;g.defaultSyncGroups=n;g.seedDb=a}),98);
__d("MAWDropCutoverThreadsTable",["Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c=d("ReQL").fromTableAscending(a.cutover_threads);return d("ReQL").toArrayAsync(c).then(function(c){return c.reduce(function(b,c){return b.then(function(){return a.cutover_threads["delete"](c.openThreadId)})},(h||(h=b("Promise"))).resolve())})}g.call=a}),98);
__d("UserTimingUtils",["performance","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=typeof (h||(h=c("performance"))).mark==="function"&&typeof (h||(h=c("performance"))).clearMarks==="function"&&typeof (h||(h=c("performance"))).measure==="function"&&typeof (h||(h=c("performance"))).clearMeasures==="function",j=!1;if(i&&(h||(h=c("performance"))).mark!=null){var k="__v3",l={};Object.defineProperty(l,"startTime",{get:function(){j=!0}});try{(h||(h=c("performance"))).mark(k,l)}catch(a){}finally{(h||(h=c("performance"))).clearMarks(k)}}function a(a){i&&(h||(h=c("performance"))).mark(a)}function d(a,b,d){d===void 0&&(d=!0);if(i){try{(h||(h=c("performance"))).measure(a,b)}catch(a){}d&&(h||(h=c("performance"))).clearMarks(b);(h||(h=c("performance"))).clearMeasures(a)}}function e(a){if(i){try{a=(h||(h=c("performance"))).getEntriesByName(a,"mark");if(a!=null&&a.length>0)return!0}catch(a){}return!1}}function f(a){if(i)try{(h||(h=c("performance"))).clearMarks(a)}catch(a){}}function m(a,b){if(j)try{(h||(h=c("performance"))).measure(a,b),h.clearMeasures(a)}catch(a){}}function n(a,b){j&&((h||(h=c("performance"))).mark(a,b),h.clearMarks(a))}function o(a,d){var e,f,g;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:e=(h||(h=c("performance"))).now();i.next=3;return b("regeneratorRuntime").awrap(d());case 3:f=i.sent;g=(h||(h=c("performance"))).now();m(a,{end:g,start:e});return i.abrupt("return",f);case 7:case"end":return i.stop()}},null,this)}function p(a,b,c){}function q(a,b){}g.measureStart=a;g.measureEnd=d;g.hasMark=e;g.clearMarks=f;g.measureModern=m;g.markModern=n;g.asyncMeasure=o;g.measureReactCommit=p;g.measureReactPostCommit=q}),98);
__d("GetLsDatabase",["ExecutionEnvironment","LSDefaultSyncGroups","LSPlatformErrorChannel","LSPlatformLsInitLog","MAWDropCutoverThreadsTable","MessengerLogHistory","MultipleTabsLogger","Promise","ReStoreDecryptionFailure","ReStoreEARSetupFailure","ReStoreIndexedDbClosedEvent","ReStoreIndexedDbFailToOpenEvent","ReStoreIndexedDbUpgradedEvent","ReStoreUnexpectedlyClosed","UserTimingUtils","asyncToGeneratorRuntime","cr:10099","cr:10200","cr:10755","cr:2970","cr:4489","cr:6218","cr:665","cr:7000","cr:7351","cr:8659","cr:8915","justknobx","promiseDone","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(e=b("cr:6218"))!=null?e:b("cr:10755"),k=(e=b("cr:7000"))!=null?e:b("cr:7351");function l(a){if(a instanceof c("ReStoreIndexedDbUpgradedEvent")&&j!=null&&c("justknobx")._("1410"))c("promiseDone")(j.killSharedWorker(!0,"ls_upgrade"));else if(a instanceof c("ReStoreIndexedDbClosedEvent")){a=a.getError();b("cr:8915")!=null&&a instanceof(b("cr:8915")==null?void 0:b("cr:8915").ReStoreDbVersionChange)?c("LSPlatformErrorChannel").emit(a):a instanceof d("ReStoreDecryptionFailure").ReStoreDecryptionFailure?c("LSPlatformErrorChannel").emit(a):a instanceof d("ReStoreEARSetupFailure").ReStoreEARSetupFailure?c("LSPlatformErrorChannel").emit(a):a instanceof d("ReStoreUnexpectedlyClosed").ReStoreUnexpectedlyClosed&&b("cr:10099")!=null?(b("cr:10099")==null?void 0:b("cr:10099").releaseIfExist(),c("LSPlatformErrorChannel").emit(a)):a instanceof c("ReStoreIndexedDbFailToOpenEvent")&&b("cr:10099")!=null&&(b("cr:10099")==null?void 0:b("cr:10099").releaseIfExist())}}var m=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("MessengerLogHistory").getInstance("db_init");c("promiseDone")(d("MultipleTabsLogger").getMultipleTabsAnnotation().then(function(b){a.debug("Has multiple tabs: "+b),d("MultipleTabsLogger").addAnnotationToQPLEvent(c("qpl")._(25305590,"1127"))}));a.debug("====Creating DB====");d("LSPlatformLsInitLog").addPoint("vaulting_setup_start");b("cr:2970")!=null&&b("cr:665")!=null?(a.debug("Vaulting setup started"),b("cr:665").setupMainWaLogger(),yield d("UserTimingUtils").asyncMeasure("Setup Vaulting Materials",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield b("cr:2970").setupVaultMaterials()})),a.debug("Vaulting setup finished")):b("cr:4489")!=null&&b("cr:665")!=null&&(a.debug("Vaulting setup started"),b("cr:665").setupMainWaLogger(),yield d("UserTimingUtils").asyncMeasure("Setup Vaulting Materials",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield b("cr:4489").setupVaultMaterials()})),a.debug("Vaulting setup finished"));d("LSPlatformLsInitLog").addPoint("vaulting_setup_end");a.debug("Connecting to DB");var e=b("cr:8659")!=null?yield b("cr:8659")():yield b("cr:10200").createDB(l);a.debug("Connection established");yield e.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){var e=k==null?[(i||(i=b("Promise"))).resolve(),(i||(i=b("Promise"))).resolve()]:[k.call(c),d("MAWDropCutoverThreadsTable").call(c)],f=e[0];e=e[1];yield (i||(i=b("Promise"))).all([f,e]);d("LSPlatformLsInitLog").addPoint("success_maw_data_deletion");a.debug("Seeding DB");yield d("LSDefaultSyncGroups").seedDb(c,void 0);a.debug("DB seeded")});return function(a){return c.apply(this,arguments)}}(),"readwrite","ui",void 0,f.id+":122");a.debug("====DB created====");return e});return function(){return a.apply(this,arguments)}}(),n;function a(){n==null&&(n=(h||(h=c("ExecutionEnvironment"))).isInBrowser?m():new(i||(i=b("Promise")))(function(){}));return n}g.get=a}),98);
__d("MAWBridgeDropAllSecureThreadsHandler",["I64","LSIntEnum","LSMessagingThreadTypeUtil","Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){var c=d("ReQL").fromTableAscending(a.threads_ranges_v2__generated).filter(function(a){return(i||(i=d("I64"))).equal(a.parentThreadKey,(j||(j=d("LSIntEnum"))).ofNumber(-1))||(i||(i=d("I64"))).equal(a.parentThreadKey,(j||(j=d("LSIntEnum"))).ofNumber(-10))});return d("ReQL").toArrayAsync(c).then(function(c){return c.reduce(function(b,c){return b.then(function(){return a.threads_ranges_v2__generated["delete"](c.parentThreadKey,c.minThreadKey,c.minLastActivityTimestampMs)})},(h||(h=b("Promise"))).resolve())})}function l(a){var c=d("ReQL").fromTableAscending(a.threads).filter(function(a){return d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)});return d("ReQL").toArrayAsync(c).then(function(c){return c.reduce(function(b,c){return b.then(function(){return a.threads["delete"](c.threadKey)})},(h||(h=b("Promise"))).resolve())})}function a(a){return(h||(h=b("Promise"))).all([k(a),l(a)]).then(function(){return(h||(h=b("Promise"))).resolve()})}g.call=a}),98);
__d("MWConditionallySetupEBStateDB",["asyncToGeneratorRuntime","cr:6693","cr:8233"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a===void 0&&(a=!1);if(b("cr:6693")!=null){b("cr:8233")==null?void 0:b("cr:8233").setupMainWaLogger();a=(yield b("cr:6693").makeEBStateDB(a));return a}});return h.apply(this,arguments)}g.conditionallyMakeEBStateDB=a}),98);
__d("MWLSSchemaEphemeral",["FBLogger","LSJSInMemoryStorage","LSMetadata","LSPlatformLsInitLog","LSReStoreWrapper","MAWLSVaultingHooks","MWConditionallySetupEBStateDB","MessengerLogHistory","asyncToGeneratorRuntime","cr:8624"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MessengerLogHistory").getInstance("db_init");function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("LSPlatformLsInitLog").addPoint("init_start");var e;try{a=(yield d("MWConditionallySetupEBStateDB").conditionallyMakeEBStateDB());a!=null&&(h.debug("Creating EB State DB"),e=d("LSReStoreWrapper").createLSReStore(a,d("LSMetadata").schema,[c("MAWLSVaultingHooks")],void 0,d("LSPlatformLsInitLog").lsInitLogger),yield b("cr:8624")==null?void 0:b("cr:8624")(e),h.debug("EB State DB inited"))}catch(a){c("FBLogger")("messenger_web_clients").catching(a).mustfix("EBSM failed")}e==null&&(h.debug("Creating EDB"),e=c("LSJSInMemoryStorage")(d("LSMetadata").schema),h.debug("EDB inited"));d("LSPlatformLsInitLog").addPoint("init_end");return e});return i.apply(this,arguments)}g.createDB=a}),98);/*FB_PKG_DELIM*/
__d("EARInitType",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["EB_INIT","LS_INIT","MAW_INIT","MAW_RP_INIT","MAW_IN_UI_INIT"]);c=a;f["default"]=c}),66);
__d("MAWBridgeFireAndForget",["MAWBridge","MAWBridgeLoggingUtils","MAWTimedBridge","MAWWaitForBackendSetup","MAWWorkerEvent","Promise","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("justknobx")._("1143");function a(a,c,e,f){return d("MAWWaitForBackendSetup").runAfterBackendSetup(function(){var g=d("MAWBridgeLoggingUtils").getBridgeEventInstanceKey(c);f!==!0&&d("MAWBridgeLoggingUtils").routeStart("fireAndForget",a,c,g);void d("MAWTimedBridge").bridgeTimeout(function(){return new(h||(h=b("Promise")))(function(b){d("MAWBridge").getBridge().fireAndForget(a,c,e,f,{onAck:function(e){f!==!0&&(d("MAWWorkerEvent").logAck(g,c,e),d("MAWBridgeLoggingUtils").routeSuccess(a,c,g)),b()},onSend:function(a){var b=a.queueMsgs;a=a.queueSize;f!==!0&&(d("MAWWorkerEvent").logPoint(g,"send"),d("MAWWorkerEvent").logAnnotations(g,{"int":{bridgeSize:a},string_array:{bridgeMsgs:b}}))}},{bridgeQPLInstanceKey:g})})},a,c,g,i)},c)}g.fireAndForget=a}),98);
__d("MAWEncryptionIndexedDbV2",["BrowserLockManager","EARInitType","ExecutionEnvironment","FBLogger","IndexedDbPolyfills","MAWCurrentUser","MAWEARDebugs","MAWIndexedDBDeletion","MAWIndexedDbMetadata","MAWQplProxy","MWEARKeychainV3","Promise","QPLUserFlow","WALogger","WAWorkerGlobalScope","err","gkx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Armadillo Web Remote Presence] MAW RP Initialising EAR"]);j=function(){return a};return a}b("IndexedDbPolyfills");var k="browserEncryptionMetaV2",l="version",m=1,n=null,o=null,p=null;function a(){return n}function e(){return n!=null}var q=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(babelHelpers.wrapNativeSuper(Error));function r(a,e){e===void 0&&(e=0);var f=d("MAWCurrentUser").getID(),g=c("gkx")("1030");if(e>m){u(a,"ear_idb_retry_failed_max_reached");return(i||(i=b("Promise"))).reject(new q())}if(n!=null){u(a,"ear_db_exists");return(i||(i=b("Promise"))).resolve()}if(indexedDB==null){u(a,"ear_idb_unavailable");return(i||(i=b("Promise"))).reject(c("err")("IndexedDB API not available"))}u(a,"ear_db_open_start",{bool:{browserLockEnabled:c("BrowserLockManager")!=null}});return new(i||(i=b("Promise")))(function(b,i){var j=function(c){r(a,e+1).then(b)["catch"](function(a){if(a instanceof q)return i(c);i(a)})};try{p=d("MAWIndexedDbMetadata").encryptionDbName(f);var m=indexedDB.open(p),t=d("WAWorkerGlobalScope").workerGlobalScope.setTimeout(function(){i(c("err")("IndexedDB initialisation timeout in %s flow, isInWorker: %s, openRequest: %s",String(a),(h||(h=c("ExecutionEnvironment"))).isInWorker?"true":"false",m.readyState))},g?6e4:1e4);m.onupgradeneeded=function(b){d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(t);u(a,"ear_db_upgrade_start");b=b.target.result;if(!b.objectStoreNames.contains(k)){b=b.createObjectStore(k,{autoIncrement:!0,keyPath:"id"});b.createIndex(l,l,{unique:!0})}u(a,"ear_db_upgrade_end");void d("MAWEARDebugs").touchDbEncryptionKeyVersion_S456130({incrementCreationCount:!0})};m.onblocked=function(){u(a,"ear_db_open_blocked"),d("WAWorkerGlobalScope").workerGlobalScope.setTimeout(function(){i(c("err")("EAR Open timed out while blocked"))},2e3)};m.onsuccess=function(e){d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(t);var f=e.target.result;if(!f.objectStoreNames.contains(k)){e=m.result.objectStoreNames.contains(k);c("FBLogger")("maw_ear").warn("Missing encryption meta table. Is store present: %s",e);d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(t);return s(f,"missing_encryption_meta_table").then(function(){j(c("err")("Malformed encryption DB"))})["catch"](function(b){u(a,"ear_idb_retry_failed_delete_failed");return i(c("err")("Failed to delete malformed encryption DB: "+b.message))})}f.onversionchange=function(){f.close(),c("FBLogger")("messenger_e2ee_web").info("EAR onversionchange triggered"),void d("MAWEARDebugs").touchDbEncryptionKeyVersion_S456130({incrementDeletionCount:!0}),d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(t),o==null?void 0:o()};u(a,"ear_db_open_end");n=f;d("MWEARKeychainV3").setNamespaceSourceDbAndMarkAsReady("global_ear",n);b()};m.onerror=function(){d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(t);if(m.error.name==="UnknownError"&&g){u(a,"ear_db_open_error_unknown_error");return j(m.error)}u(a,"ear_db_open_error");i(m.error)}}catch(b){u(a,"ear_db_error"),i(b)}})}function f(a){o=o==null?a:o}function s(a,b){a===void 0&&(a=n);c("FBLogger")("maw_ear").warn("EAR DB deletion triggered: %s",b);a!=null&&a.close();void d("MAWEARDebugs").touchDbEncryptionKeyVersion_S456130({incrementDeletionCount:!0});return d("MAWIndexedDBDeletion").deleteDB(p,"ear")}function t(a){switch(a){case c("EARInitType").EB_INIT:return c("qpl")._(521477507,"1406");case c("EARInitType").MAW_INIT:return c("qpl")._(25310776,"6155");case c("EARInitType").MAW_RP_INIT:d("WALogger").DEV(j());return c("qpl")._(25310776,"6155");case c("EARInitType").LS_INIT:return c("qpl")._(25305590,"1127");case c("EARInitType").MAW_IN_UI_INIT:return null}}function u(a,b,e){a=t(a);if(a==null)return;(h||(h=c("ExecutionEnvironment"))).isInWorker?d("MAWQplProxy").sendQplPointThroughBridge(a,"worker_"+b,{annotations:e}):(c("QPLUserFlow").addPoint(a,b),e!=null&&c("QPLUserFlow").addAnnotations(a,e))}g.storeName=k;g.ENCRYPTION_MAW_STORES_INDEX=l;g.getEncryptionDB=a;g.isEncryptionDBInited=e;g.makeEncryptionDB=r;g.maybeSetEncryptionDbOnVersionChange=f;g.deleteEncryptionDB_UNSAFE=s}),98);
__d("MAWLocalStorage",["LocalStorageWrapper","MWLocalStorageErrorHandler","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["not storage found"]);h=function(){return a};return a}function i(a){d("WALogger").LOG([a])}function j(a){d("WALogger").ERROR([a])}function a(){return d("LocalStorageWrapper").getStorage(i)}function b(){return d("LocalStorageWrapper").isLocalStorageAvailable(i)}function c(a,b,c){return d("LocalStorageWrapper").setItemGuarded(a,b,c,j,d("MWLocalStorageErrorHandler").onQuotaExceeded)}function e(a,b){a==null?d("WALogger").ERROR(h()):a.removeItem(b)}g.getStorage=a;g.isLocalStorageAvailable=b;g.setItemGuarded=c;g.removeItemGuarded=e}),98);
__d("MAWUnrecoverableDbErrors",[],(function(a,b,c,d,e,f){"use strict";var g=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(babelHelpers.wrapNativeSuper(Error));e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="indexed_db_access_error",b)||babelHelpers.assertThisInitialized(c)}return b}(g);var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.name="ear_init_error",a)||babelHelpers.assertThisInitialized(c)}return a}(g),i=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.name="ear_runtime_error",a)||babelHelpers.assertThisInitialized(c)}return a}(g),j=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,d,e){a=b.call(this,a)||this;a.name="ebsm_hydration_error";a.fullDeletion=c;a.qplInstanceKey=d;a.tableName=e;return a}return a}(g),k=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.name="wa_exceeded_storage_quota_error",a)||babelHelpers.assertThisInitialized(c)}return a}(g);function a(a){return a==null?!1:a instanceof g||l(a.name)}function l(a){return a==="indexed_db_access_error"||a==="ear_init_error"||a==="ear_runtime_error"||a==="ebsm_hydration_error"||a==="wa_exceeded_storage_quota_error"}var m=null,n=new Set();function b(){return m}function c(a){m=a,n.forEach(function(b){return b(a)})}function d(a){n.add(a);return function(){return n["delete"](a)}}f.UnrecoverableDbError=g;f.IndexedDbAccessError=e;f.EarInitError=h;f.EarRuntimeError=i;f.EbsmHydrationError=j;f.WAExceededStorageQuotaError=k;f.isUnrecoverableDbError=a;f.isUnrecoverableDbErrorByName=l;f.getError=b;f.setError=c;f.subscribe=d}),66);
__d("MWTabCommunicationChannel",["MAWLocalStorage"],(function(a,b,c,d,e,f,g){"use strict";var h=typeof window!=="undefined"?window:self;function i(a){var b=d("MAWLocalStorage").getStorage(),c=function(c){d("MAWLocalStorage").setItemGuarded(b,a,JSON.stringify(c))},e=function(c){window.removeEventListener("storage",c),d("MAWLocalStorage").removeItemGuarded(b,a)},f=function(a){window.addEventListener("storage",a)},g=function(b){return b!=null&&b.key===a&&typeof b.newValue==="string"?JSON.parse(b.newValue):null};return{getMessage:g,onRequestReceived:function(a){var b=function(b){b=g(b);b!=null&&a(b)};f(b);return{release:function(){e(b)}}},sendMessage:c,stopWaitingForReply:e,waitForReply:f}}function j(a){var b=new h.BroadcastChannel(a),c=new Set();b.addEventListener("message",function(a){c.forEach(function(b){b(a)})});var d=function(a){c.add(a)},e=function(a){c["delete"](a)};a=function(a){b.postMessage(JSON.stringify(a))};var f=function(a){return a!=null&&typeof a.data==="string"?JSON.parse(a.data):null};return{getMessage:f,onRequestReceived:function(a){var b=function(b){b=f(b);b!=null&&a(b)};d(b);return{release:function(){e(b)}}},sendMessage:a,stopWaitingForReply:e,waitForReply:d}}function a(a){return h.BroadcastChannel!=null?j(a):i(a)}g.getChannel=a}),98);
__d("MWTabCommunication",["MWTabCommunicationChannel","Promise","clearTimeout","pageID","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b){var c=this;this.$2=null;this.$5=function(a){a=c.$4.getMessage(a);a!=null&&a.a==="sb"&&a.t!==c.tabID()&&a.r===c.tabID()&&a.k!=null&&(c.$2&&c.$2(a.k),c.$4.stopWaitingForReply(c.$5),c.$2=null)};this.$1=a;this.$3=b!=null?b:500;this.$4=d("MWTabCommunicationChannel").getChannel(a)}var e=a.prototype;e.tabID=function(){return c("pageID")};e.$6=function(){var a={a:"r",t:this.tabID()};this.$4.sendMessage(a)};e.listenToRequest=function(a){return this.listenToRequestAsync(function(){return(h||(h=b("Promise"))).resolve(a())})};e.listenToRequestAsync=function(a){var b=this,d=function(d){d.a==="r"&&d.t!==b.tabID()&&c("promiseDone")(a().then(function(a){a={a:"sb",k:a,r:d.t,t:b.tabID()};b.$4.sendMessage(a)}))};return this.$4.onRequestReceived(d)};e.$7=function(){var a=this;return new(h||(h=b("Promise")))(function(b){a.$2=b,a.$4.waitForReply(a.$5),a.$6()})};e.request=function(a,d){var e=this,f,g=function(){f!=null&&c("clearTimeout")(f)};return(h||(h=b("Promise"))).race([this.$7().then(function(b){e.$4.stopWaitingForReply(e.$5);return a(b)}),new h(function(a){f=c("setTimeout")(function(){a(d()),e.$4.stopWaitingForReply(e.$5)},e.$3)})]).then(function(a){g();return a})};return a}();g.MWTabCommunication=a}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("file-saver-2.0.2",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(a,b){"undefined"!=typeof g?b():(b(),a.FileSaver={exports:{}}.exports)})(this,function(){function b(b,a){return"undefined"==typeof a?a={autoBom:!1}:"object"!=typeof a&&(!1,a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(b.type)?new Blob(["\ufeff",b],{type:b.type}):b}function c(a,b,c){var d=new XMLHttpRequest;d.open("GET",a),d.responseType="blob",d.onload=function(){g(d.response,b,c)},d.onerror=function(){},d.send()}function d(b){var a=new XMLHttpRequest;a.open("HEAD",b,!1);try{a.send()}catch(a){}return 200<=a.status&&299>=a.status}function e(b){try{b.dispatchEvent(new MouseEvent("click"))}catch(c){var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),b.dispatchEvent(a)}}var f="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,g=f.saveAs||("object"!=typeof window||window!==f?function(){}:"download"in HTMLAnchorElement.prototype?function(a,b,g){var h=f.URL||f.webkitURL,i=document.createElement("a");b=b||a.name||"download",i.download=b,i.rel="noopener","string"==typeof a?(i.href=a,i.origin===location.origin?e(i):d(i.href)?c(a,b,g):e(i,i.target="_blank")):(i.href=h.createObjectURL(a),setTimeout(function(){h.revokeObjectURL(i.href)},4e4),setTimeout(function(){e(i)},0))}:"msSaveOrOpenBlob"in navigator?function(a,f,g){if(f=f||a.name||"download","string"!=typeof a)navigator.msSaveOrOpenBlob(b(a,g),f);else if(d(a))c(a,f,g);else{var h=document.createElement("a");h.href=a,h.target="_blank",setTimeout(function(){e(h)})}}:function(e,a,b,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),"string"==typeof e)return c(e,a,b);a="application/octet-stream"===e.type;b=/constructor/i.test(f.HTMLElement)||f.safari;var g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||a&&b)&&"object"==typeof FileReader){var h=new FileReader;h.onloadend=function(){var a=h.result;a=g?a:a.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=a:location=a,d=null},h.readAsDataURL(e)}else{var i=f.URL||f.webkitURL,j=i.createObjectURL(e);d?d.location=j:location.href=j,d=null,setTimeout(function(){i.revokeObjectURL(j)},4e4)}});f.saveAs=g.saveAs=g,"undefined"!=typeof h&&(h.exports=g)})}var j=!1;function k(){j||(j=!0,i());return h.exports}function b(a){switch(a){case void 0:return k()}}e.exports=b}),null);
__d("file-saver",["file-saver-2.0.2"],(function(a,b,c,d,e,f){e.exports=b("file-saver-2.0.2")()}),null);
/**
 * License: https://www.facebook.com/legal/license/9cisb7Fe7ih/
 */
__d("fontfaceobserver-2.0.13",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){(function(){function a(a,b){document.addEventListener?a.addEventListener("scroll",b,!1):a.attachEvent("scroll",b)}function b(a){document.body?a():document.addEventListener?document.addEventListener("DOMContentLoaded",function b(){document.removeEventListener("DOMContentLoaded",b),a()}):document.attachEvent("onreadystatechange",function b(){("interactive"==document.readyState||"complete"==document.readyState)&&(document.detachEvent("onreadystatechange",b),a())})}function c(a){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(a)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function d(a,b){a.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+b+";"}function e(a){var b=a.a.offsetWidth,c=b+100;a.f.style.width=c+"px";a.c.scrollLeft=c;a.b.scrollLeft=a.b.scrollWidth+100;return a.g!==b?(a.g=b,!0):!1}function f(b,c){function d(){var a=f;e(a)&&a.a.parentNode&&c(a.g)}var f=b;a(b.b,d);a(b.c,d);e(b)}function h(a,b){b=b||{};this.family=a;this.style=b.style||"normal";this.weight=b.weight||"normal";this.stretch=b.stretch||"normal"}var i=null,j=null,k=null,l=null;function m(){if(null===j)if(n()&&/Apple/.test(window.navigator.vendor)){var a=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);j=!!a&&603>parseInt(a[1],10)}else j=!1;return j}function n(){null===l&&(l=!!document.fonts);return l}function o(){if(null===k){var a=document.createElement("div");try{a.style.font="condensed 100px sans-serif"}catch(a){}k=""!==a.style.font}return k}function p(a,b){return[a.style,a.weight,o()?a.stretch:"","100px",b].join(" ")}h.prototype.load=function(a,e){var g=this,h=a||"BESbswy",j=0,k=e||3e3,l=(new Date).getTime();return new Promise(function(a,e){if(n()&&!m()){var o=new Promise(function(a,b){function c(){(new Date).getTime()-l>=k?b():document.fonts.load(p(g,'"'+g.family+'"'),h).then(function(b){1<=b.length?a():setTimeout(c,25)},function(){b()})}c()}),q=new Promise(function(a,b){j=setTimeout(b,k)});Promise.race([q,o]).then(function(){clearTimeout(j),a(g)},function(){e(g)})}else b(function(){function b(){var b;(b=-1!=r&&-1!=s||-1!=r&&-1!=t||-1!=s&&-1!=t)&&((b=r!=s&&r!=t&&s!=t)||(null===i&&(b=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),i=!!b&&(536>parseInt(b[1],10)||536===parseInt(b[1],10)&&11>=parseInt(b[2],10))),b=i&&(r==u&&s==u&&t==u||r==v&&s==v&&t==v||r==w&&s==w&&t==w)),b=!b);b&&(x.parentNode&&x.parentNode.removeChild(x),clearTimeout(j),a(g))}function m(){if((new Date).getTime()-l>=k)x.parentNode&&x.parentNode.removeChild(x),e(g);else{var a=document.hidden;(!0===a||void 0===a)&&(r=n.a.offsetWidth,s=o.a.offsetWidth,t=q.a.offsetWidth,b());j=setTimeout(m,50)}}var n=new c(h),o=new c(h),q=new c(h),r=-1,s=-1,t=-1,u=-1,v=-1,w=-1,x=document.createElement("div");x.dir="ltr";d(n,p(g,"sans-serif"));d(o,p(g,"serif"));d(q,p(g,"monospace"));x.appendChild(n.a);x.appendChild(o.a);x.appendChild(q.a);document.body.appendChild(x);u=n.a.offsetWidth;v=o.a.offsetWidth;w=q.a.offsetWidth;m();f(n,function(a){r=a,b()});d(n,p(g,'"'+g.family+'",sans-serif'));f(o,function(a){s=a,b()});d(o,p(g,'"'+g.family+'",serif'));f(q,function(a){t=a,b()});d(q,p(g,'"'+g.family+'",monospace'))})})};"object"===typeof g?g.exports=h:(window.FontFaceObserver=h,window.FontFaceObserver.prototype.load=h.prototype.load)})()}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("fontfaceobserver",["fontfaceobserver-2.0.13"],(function(a,b,c,d,e,f){e.exports=b("fontfaceobserver-2.0.13")()}),null);/*FB_PKG_DELIM*/
__d("EBUploadReceivedMessagesProtobufOnly",["EBAPIQPLPoints","EncryptedBackupsCreateUploadMessage","EncryptedBackupsUploadQueue","MAWEBUploadMessageUtils","MAWGetMsgForProtocolMsgIdTxn","Promise","QPLUserFlow","WAHashStringToNumber","WALogger","WAResultOrError","WATimeUtils","asyncToGeneratorRuntime","gkx","qpl","requireDeferred","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] EBUploadReceivedMessages not uploading placeholder message - Original message not found for revoked message ",""]);i=function(){return a};return a}var j=c("requireDeferred")("EBAPI").__setRef("EBUploadReceivedMessagesProtobufOnly");function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.instanceKey;a=a.uploadArray;e=e!=null?d("WAHashStringToNumber").hashStringToNumber(e):d("WAHashStringToNumber").hashStringToNumber(c("uuidv4")());var f=c("qpl")._(521477113,"2698");try{c("QPLUserFlow").start(f,{annotations:{bool:{protobufOnly:!0,received:!0}},instanceKey:e});if(a.length===0){c("QPLUserFlow").addPoint(f,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.NO_INCOMING_MESSAGES);c("QPLUserFlow").endSuccess(f,{instanceKey:e});return d("WAResultOrError").makeResult()}var g=0,k=0,l=0,m=a.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{var b;if(((b=a.decodedMsg)==null?void 0:(b=b.unstoredDbMsg)==null?void 0:b.type)==="Revoked"){var e=a.stanza.message.decrypted.id,f=(yield d("MAWGetMsgForProtocolMsgIdTxn").getMsgForProtocolMsgIdTxn({author:e.author,chat:e.chat,externalId:a.decodedMsg.unstoredDbMsg.revokedExternalId}));if(!f.success){g++;d("WALogger").WARN(i(),e.externalId);return null}var h=d("WATimeUtils").castToMillisTime((b=f.value.sortOrderMs)!=null?b:d("MAWEBUploadMessageUtils").echoOverrideMessageSortOrder({externalId:f.value.externalId,serverTs:f.value.serverTs,ts:f.value.ts}));c("gkx")("6929")&&(yield j.load().then(function(a){return a.uploadDeletedMessage({msgId:{author:e.author,chat:e.chat,externalId:f.value.externalId},sender:e.author,serverTs:(a=f.value.serverTs)!=null?a:f.value.ts,sortOrderMs:h})}));l++;return c("EncryptedBackupsCreateUploadMessage")(a,"upload-received-messages",h)}else{l++;return c("EncryptedBackupsCreateUploadMessage")(a,"upload-received-messages")}}catch(a){k++;return null}});return function(b){return a.apply(this,arguments)}}());m=(yield (h||(h=b("Promise"))).all(m));m=m.filter(Boolean);c("QPLUserFlow").addPoint(f,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.PROCESSED_MESSAGES,{data:{"int":{failed:g+k,invalidMessageResult:g,runtimeError:k,success:l,total:a.length}}});if(m.length===0){c("QPLUserFlow").addPoint(f,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.NO_PROCESSED_MESSAGES);c("QPLUserFlow").endSuccess(f,{instanceKey:e});return d("WAResultOrError").makeResult()}d("EncryptedBackupsUploadQueue").putMsgsToEbUpload(m);c("QPLUserFlow").endSuccess(f,{instanceKey:e});return d("WAResultOrError").makeResult()}catch(a){c("QPLUserFlow").endFailure(f,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.RUNTIME_ERROR,{instanceKey:e});return d("WAResultOrError").makeError("runtime-exception",a)}});return k.apply(this,arguments)}g.uploadReceivedMessagesProtobufOnly=a}),98);
__d("LSEBUnifiedRestoreUtils",["CurrentUser","LSIntEnum","LSMEBTaskCreationSource","LSProtobufRestoreHandler","MAWAsyncEBPendingQueryPromise","MAWBridgeSendAndReceive","MAWEBRestoreTrackingUtils","MAWEBUnstoredDbMsgUtils","MAWEncryptedBackupUtils","MAWEncryptedBackupsDYIHandleMessageRestore","MAWJids","MAWJobDefinitions","MAWRestoreProtobufsFromEncryptedBackupsDeferred","Promise","WATagsLogger","asyncToGeneratorRuntime","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["eb restore nativeop - Failed to restore protobufs, with error: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Restoring Messenger DYI batch"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["eb restore nativeop - no messages but hasMoreBefore is true"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["eb restore native op - Failed to decode protobufs, with error: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["eb restore nativeop - no decoded messages but hasMoreBefore is true"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["Restore called with null payload for both echo messages and protobufs"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["starting eb restore - ",""]);p=function(){return a};return a}function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,q,r,s,t,u,v,w,x,y,z){var A;d("WATagsLogger").TAGS(["labyrinth_web","eb_restore",(A=t)!=null?A:"no_request_id"]).LOG(p(),(A=t)!=null?A:"no_request_id");if(e==null&&w==null){d("WATagsLogger").TAGS(["labyrinth_web","eb_restore",(A=t)!=null?A:"no_request_id"]).ERROR(o());d("MAWEBRestoreTrackingUtils").markEBRestoreFail(t,!1,"invalid_restore_payload");return(i||(i=b("Promise"))).resolve()}A=c("gkx")("8673");var B=e!=null?z!=null?"mixed":"protobuf":"echo",C=[];e!=null&&C.push.apply(C,d("MAWEncryptedBackupUtils").convertLSTypesToJSTypesForRestoreJob(e));if(z||e===null){z=null;w!=null&&(z=d("LSProtobufRestoreHandler").convertLSEchoMessageVecToArray(w));if(z!=null&&A){e=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","convertEchoMessagesToEBProtobufs",{chatJid:y,encodedEchoMessages:z}));C.push.apply(C,e)}}d("MAWEncryptedBackupUtils").logIfDuplicateMessagesFoundInRestore(C,"protobuf_restore");if(t!=null)try{d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"native_op_start_unified",traceId:t,type:B});w=d("MAWJids").toUserJid(c("CurrentUser").getAccountID());A=d("MAWEBUnstoredDbMsgUtils").getUnstoredDbMsgFromProtobuf(C,a,void 0,w);if(f===!0&&A.length===0){d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"hasMoreBefore_decodedMessages_inconsistency",traceId:t,type:B});d("WATagsLogger").TAGS(["labyrinth_web","eb_restore",(z=t)!=null?z:"no_request_id"]).ERROR(n())}d("MAWAsyncEBPendingQueryPromise").resolvePendingQueryIfPresent(t,{echoMessages:void 0,hasMoreAfter:q,hasMoreBefore:f,isPointQuery:s,messages:A,nextMessageTimestampMsBefore:g,protobufMessages:C,referenceTimestamp:u,requestId:t,restoreType:"protobuf",threadId:a})}catch(a){d("WATagsLogger").TAGS(["labyrinth_web","eb_restore",(e=t)!=null?e:"no_request_id"]).ERROR(m(),a.message)}if(f===!0&&C.length===0){t!=null&&d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"hasMoreBefore_messages_inconsistency",traceId:t,type:B});d("WATagsLogger").TAGS(["labyrinth_web","eb_restore",(w=t)!=null?w:"no_request_id"]).ERROR(l())}z=x!=null&&(h||(h=d("LSIntEnum"))).unwrapIntEnum(x)===c("LSMEBTaskCreationSource").FTS_INDEX_EB_MESSAGES_WEB;if(z){t!=null&&d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"search_restore_end",traceId:t,type:B});d("MAWEBRestoreTrackingUtils").markEBRestoreSuccess(t);return(i||(i=b("Promise"))).resolve()}A=x!=null&&(h||(h=d("LSIntEnum"))).unwrapIntEnum(x)===c("LSMEBTaskCreationSource").MSGR_DYI;if(A){d("WATagsLogger").TAGS(["labyrinth_web","eb_restore",(e=t)!=null?e:"no_request_id"]).LOG(k());void d("MAWEncryptedBackupsDYIHandleMessageRestore").handleMAWProtobufMessageRangeQueryRestore(a,C,f,g);t!=null&&d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"dyi_restore_end",traceId:t,type:B});d("MAWEBRestoreTrackingUtils").markEBRestoreSuccess(t);return(i||(i=b("Promise"))).resolve()}c("promiseDone")(d("MAWRestoreProtobufsFromEncryptedBackupsDeferred").call("AdvancedCrypto",d("MAWJobDefinitions").toThreadJidPrimaryId(a),C,f,g,q,r,s,t,u,v,void 0,x,void 0,y),function(){t!=null&&d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"native_op_end_unified",traceId:t,type:B})},function(a){var b;d("WATagsLogger").TAGS(["labyrinth_web","eb_restore",(b=t)!=null?b:"no_request_id"]).ERROR(j(),a.message);b={string:{error:a.message}};t!=null&&d("MAWEBRestoreTrackingUtils").markEBRestoreFail(t,!1,"native_op_reject_unified",b)});return(i||(i=b("Promise"))).resolve()});return q.apply(this,arguments)}g.echoProtobufConsolidatedRestoreHelper=a}),98);/*FB_PKG_DELIM*/
__d("XPlatReactVoprf.shared",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.message=b;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.VoprfWasmError=a}),66);
__d("mapVoprfWasmError",["XPlatReactVoprf.shared"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case-1:return new h();case 1:return new i();case 2:return new j();case 3:return new k();case 4:return new l();default:return new m()}}var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Unknown error encountered by VOPRF WASM");a=b.call(this,a)||this;a.name="VoprfUnknownError";return a}return a}((b=d("XPlatReactVoprf.shared")).VoprfWasmError),i=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Incorrect buffer length encountered by VOPRF WASM");a=b.call(this,a)||this;a.name="VoprfBufferLengthError";return a}return a}(b.VoprfWasmError),j=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Error while performing curve operation by VOPRF WASM");a=b.call(this,a)||this;a.name="VoprfCurveOperationError";return a}return a}(b.VoprfWasmError),k=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Error while performing hash operation by VOPRF WASM");a=b.call(this,a)||this;a.name="VoprfHashOperationError";return a}return a}(b.VoprfWasmError),l=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Error while performing proof operation by VOPRF WASM");a=b.call(this,a)||this;a.name="VoprfProofError";return a}return a}(b.VoprfWasmError),m=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Unknown error code received from WASM binary");a=b.call(this,a)||this;a.name="UnknownErrorCode";return a}return a}(b.VoprfWasmError);g.mapVoprfWasmError=a;g.VoprfUnknownError=h;g.VoprfBufferLengthError=i;g.VoprfCurveOperationError=j;g.VoprfHashOperationError=k;g.VoprfProofError=l;g.UnknownErrorCode=m}),98);
__d("LSVoprfWasmBuilder",["FBLogger","Promise","asyncToGeneratorRuntime","err","mapVoprfWasmError"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return function(d){var e=d.locateFile!=null?{locateFile:d.locateFile}:{instantiateWasm:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{var e=(yield d.getWasmModule());e=(yield WebAssembly.instantiate(e,a));b(e);return{}}catch(a){c("FBLogger")("LSVoprfWasmBuilder").mustfix("instantiateWasm failed with error: %s",a.toString());return!1}});function e(b,c){return a.apply(this,arguments)}return e}()};return i(e,a)}}function i(a,e){return new(h||(h=b("Promise")))(function(b,f){e(a).then(function(a){var e=a._sodiumInit();e!==0&&f(c("err")("Failed to initialize Sodium!"));b({createCurveRistretto:function(){var b;try{b=a._curve_create();a._curve_init_ristretto(b);return b}catch(c){b!=null&&a._curve_free(b);throw c}},freeCurve:function(b){a._curve_free(b)},createVoprfExpTwohashdh:function(b){var c;try{c=a._voprf_create();a._voprf_init_exp_twohashdh(c,b);return c}catch(b){c!=null&&a._voprf_free(c);throw b}},freeVoprf:function(b){a._voprf_free(b)},getCurveBytes:function(b){return a._get_curve_element_bytes(b.curvePtr)},getCurveScalarBytes:function(b){return a._get_curve_scalar_bytes(b.curvePtr)},blind:function(b,c){var e,f,g;try{var h=a._get_curve_element_bytes(b.curvePtr),i=a._get_curve_scalar_bytes(b.curvePtr);e=a._malloc(h);f=a._malloc(i);g=k(a,c);b=a._blind(b.voprfPtr,e,h,f,i,g,c.length);if(b!==0)throw d("mapVoprfWasmError").mapVoprfWasmError(b);c=j(a,e,h);b=j(a,f,i);return{blindedElement:c,blindingFactor:b}}finally{[e,f,g].forEach(function(b){b!=null&&a._free(b)})}},verifiableUnblind:function(b,c,e,f,g,h,i,l){var m,n,o,p,q,r,s;try{m=c?k(a,c):null;n=e?k(a,e):null;o=k(a,h);p=k(a,f);q=k(a,g);r=k(a,i);var t=a._get_curve_element_bytes(b.curvePtr);s=a._malloc(t);b=a._verifiable_unblind(b.voprfPtr,s,t,m,c?c.length:0,n,e?e.length:0,p,f.length,q,g.length,o,h.length,r,i.length,+l);if(b!==0)throw d("mapVoprfWasmError").mapVoprfWasmError(b);c=j(a,s,t);return{unblindedElement:c}}finally{[m,n,o,p,q,r,s].forEach(function(b){b!=null&&a._free(b)})}},clientFinalize:function(b,c,e){var f,g,h;try{f=k(a,c);g=k(a,e);var i=a._get_voprf_final_evaluation_bytes(b.voprfPtr);h=a._malloc(i);b=a._voprf_client_finalize(b.voprfPtr,h,i,f,c.length,g,e.length);if(b!==0)throw d("mapVoprfWasmError").mapVoprfWasmError(b);c=j(a,h,i);return{finalEvaluation:c}}finally{[f,g,h].forEach(function(b){b!=null&&a._free(b)})}},setup:function(b){var c,e;try{var f=a._get_curve_scalar_bytes(b.curvePtr),g=a._get_curve_element_bytes(b.curvePtr);c=a._malloc(f);e=a._malloc(g);b=a._voprf_setup(b.voprfPtr,e,g,c,f);if(b!==0)throw d("mapVoprfWasmError").mapVoprfWasmError(b);b=j(a,e,g);g=j(a,c,f);return{sk:b,pk:g}}finally{[c,e].forEach(function(b){b!=null&&a._free(b)})}},evaluate:function(b,c,e,f){var g,h,i,l,m;try{var n=a._get_curve_element_bytes(b.curvePtr);g=a._malloc(n);var o=f?a._get_curve_scalar_bytes(b.curvePtr):0;h=o>0?a._malloc(o):null;var p=f?a._get_curve_scalar_bytes(b.curvePtr):0;i=p>0?a._malloc(p):null;l=k(a,e);m=k(a,c);b=a._voprf_evaluate(b.voprfPtr,g,n,h,o,i,p,m,c.length,l,e.length,+f);if(b!==0)throw d("mapVoprfWasmError").mapVoprfWasmError(b);c=h!==null?j(a,h,o):null;e=i!==null?j(a,i,p):null;f=j(a,g,n);return{proofC:c,proofS:e,evaluatedElement:f}}finally{[g,h,i,l,m].forEach(function(b){b!=null&&a._free(b)})}},serverFinalize:function(b,c,e){var f,g,h;try{f=k(a,c);g=k(a,e);var i=a._get_voprf_final_evaluation_bytes(b.voprfPtr);h=a._malloc(i);b=a._voprf_server_finalize(b.voprfPtr,h,i,f,c.length,g,e.length);if(b!==0)throw d("mapVoprfWasmError").mapVoprfWasmError(b);c=j(a,h,i);return{finalEvaluation:c}}finally{[f,g,h].forEach(function(b){b!=null&&a._free(b)})}},wasmMemory:(e=a.wasmMemory)!=null?e:void 0})})["catch"](function(a){throw c("err")("Failed to initialize wasm module, "+a)})})}function j(a,b,c){var d=new Uint8Array(c);for(var e=0;e<c;++e)d[e]=a.getValue(e+b,"i8");return d}function k(a,b){var c=b.length;c=a._malloc(c);a.writeArrayToMemory(b,c);return c}g["default"]=a}),98);
__d("LSVoprfWasm",["LSVoprfWasmBuilder","bx","ls_voprf_utils_v2"],(function(a,b,c,d,e,f,g){"use strict";var h=c("bx").getURL(c("bx")("30933"));a=function(){return h};b=c("LSVoprfWasmBuilder")(c("ls_voprf_utils_v2"));g.locateFile=a;g.LSVoprfWasm=b}),98);/*FB_PKG_DELIM*/
__d("PolarisMiniToast.react",["cx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(5),c=a.className;a=a.text;var e;b[0]!==a?(e=j.jsx("div",{className:"_ac7s",children:j.jsx("div",{className:"_ac7t",children:j.jsx("p",{className:"_ac7u",children:a})})}),b[0]=a,b[1]=e):e=b[1];b[2]!==c||b[3]!==e?(a=j.jsx("div",{className:c,children:e}),b[2]=c,b[3]=e,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("PolarisSnackbar.react",["cx","PolarisIGCoreButton.react","joinClasses","react","warning"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){a.preventDefault(),c.props.onActionClick&&c.props.onActionClick(a)},b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.render=function(){var a=this.props,b=a.actionText,d=a.className,e=a.onActionClick;a=a.text;c("warning")(!!(b!=null&&e!=null)||b==null&&e==null,"Having action text without a callback, or vice versa, makes no sense");return j.jsxs("div",{className:c("joinClasses")(d,"_abmn"),children:[j.jsx("div",{className:"_abmo",children:j.jsx("p",{className:"_abmp",children:a})}),b!=null&&j.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,color:"ig-primary-button",onClick:this.$1,children:b})]})};return b}(j.Component);g["default"]=a}),98);
__d("PolarisToastWrapper.react",["cx","BasePortal.react","PolarisEventLoop","PolarisMiniToast.react","PolarisReactRedux.react","PolarisSnackbar.react","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.$1=null;c.state={currentToast:b.toast,hasNextToast:!1,nextToast:null};return c}var d=b.prototype;d.componentWillUnmount=function(){c("PolarisEventLoop").clearTimeout(this.$1)};b.getDerivedStateFromProps=function(a,b){return b.currentToast!==a.toast?{hasNextToast:!0,nextToast:a.toast}:null};d.componentDidUpdate=function(a,b){var d=this;!b.hasNextToast&&this.state.hasNextToast&&(c("PolarisEventLoop").clearTimeout(this.$1),this.$1=c("PolarisEventLoop").setTimeout(function(){d.$1=null,d.setState(function(a){return{currentToast:a.nextToast,hasNextToast:!1,nextToast:null}})},200))};d.render=function(){var a=this.state.currentToast,b=c("joinClasses")(this.props.className,"_acb3"),d="_acb4"+(this.state.hasNextToast?" _acb5":""),e=c("joinClasses")(this.props.className,"_acb6"),f="_acb7"+(this.state.hasNextToast?" _acb8":""),g=null,h=null;if(a)switch(a==null?void 0:a.toastType){case"MINI_TOAST":g=j.jsx(c("PolarisMiniToast.react"),{className:"_acb9",text:a.text});break;case"DEFAULT_TOAST":default:h=j.jsx(c("PolarisSnackbar.react"),{actionText:a.actionText,className:"_acba",onActionClick:a.actionHandler,text:a.text});break}return j.jsxs(c("BasePortal.react"),{children:[j.jsx("div",{className:b,children:j.jsx("div",{className:d,children:h})}),j.jsx("div",{className:e,children:j.jsx("div",{className:f,children:g})})]})};return b}(j.PureComponent);function a(a){return{toast:a.toasts.toast}}e=d("PolarisReactRedux.react").connect(a)(b);g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("LSDatabaseAfterInitSyncSingleton",["Deferred","PromiseAnnotate"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new(c("Deferred"))();a=function(a){void a.then(function(a){return i.resolve(a)})};b=(h||(h=d("PromiseAnnotate"))).setDisplayName(i.getPromise(),"LSDatabaseSingletonAfterInitSync");g.resolveInitSync=a;g.LSDatabaseAfterInitSyncSingleton=b}),98);
__d("LSIssueNewEbTaskAndGetTaskIDV2",["LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),a[0],a[1],a[2],void 0,void 0,c.i64.cast([0,0]),a[3],a[4],void 0,a[5],a[7]).then(function(a){return a=a,d[0]=a[0],a})},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssueNewEbTaskAndGetTaskIDV2StoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("MAWOfflineQueueStatus",["FBLogger","MAWSharedProtocolQueueConst"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=!1;function j(a,b){h.set(a,b),h.size>5e3&&c("FBLogger")("labyrinth_web").warn("Offline queue status map size (%s) is too large",h.size)}function k(a){return h.get(a)}function a(){h=new Map(),i=!1}function b(){return i}function e(){i=!0}function f(a,b){a=Object.keys(a);a.map(function(a){j(a,b)})}function l(a){return k(a)===d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete}function m(){return Array.from(h.entries()).filter(function(a){a[0];a=a[1];return a!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete&&a!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Failed}).map(function(a){a=a[0];return a})}g.setOfflineQueueStatus=j;g.getOfflineQueueStatus=k;g.resetOfflineQueueState=a;g.isOfflineQueueComplete=b;g.markOfflineQueueComplete=e;g.markThreadWithOfflineQueueStatus=f;g.isOfflineQueueDoneForThread=l;g.getAllThreadsWithOfflineQueueIncomplete=m}),98);
__d("getRequestConstUri",["ConstUriUtils","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("ConstUriUtils").getUri(window.location.href);if(a==null)throw c("unrecoverableViolation")("Cannot create ConstUriImpl of current request","comet_infra");return a}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("IGDSVideoChatPanoOutlineIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(4),e,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("rect",{fill:"none",height:"18",rx:"3",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",width:"16.999",x:"1",y:"3"}),f=i.jsx("path",{d:"m17.999 9.146 2.495-2.256A1.5 1.5 0 0 1 23 8.003v7.994a1.5 1.5 0 0 1-2.506 1.113L18 14.854",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),b[0]=e,b[1]=f):(e=b[0],f=b[1]);b[2]!==a?(e=i.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[e,f]})),b[2]=a,b[3]=e):e=b[3];return e}b=i.memo(a);g["default"]=b}),98);
__d("goURIOnWindow",["ConstUriUtils","FBLogger","err"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=typeof b==="string"?d("ConstUriUtils").getUri(b):d("ConstUriUtils").isConstUri(b);if(e){if(a==null)return!1;a.location=e.toString();return!0}else{a="Invalid URI "+b.toString()+" provided to goURIOnWindow";c("FBLogger")("comet_infra").blameToPreviousFrame().mustfix(a);return!1}}g["default"]=a}),98);
__d("goUriOnNewWindow",["goURIOnWindow"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=window.open("","_blank");return b==null?!1:c("goURIOnWindow")(b,a)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("I64MigrationHelper",["I64","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return c("nullthrows")((h||(h=d("I64"))).cast(a))}g.cast=a}),98);
__d("LSConstants",[],(function(a,b,c,d,e,f){"use strict";a="ls";f.LS_SCHEMA_NAME=a}),66);
__d("LSDbForeignKeys",[],(function(a,b,c,d,e,f){"use strict";a={attachments:[{indexName:"fk_attachments",tableName:"attachment_items"},{indexName:"fk_attachments",tableName:"attachment_ctas"}],community_chat_poll_options:[{tableName:"community_chat_poll_votes"}],community_chat_polls:[{tableName:"community_chat_poll_options"},{tableName:"community_chat_poll_votes"}],data_trace_meta:[{indexName:"traceIdAddonId",tableName:"data_trace_addon"}],messages:[{indexName:"fk_messages",tableName:"attachments"},{indexName:"fk_messages",tableName:"reactions"}],pending_tasks:[{tableName:"encrypted_backup_restore_task_payload_context"},{indexName:"fk_pending_tasks",tableName:"pending_backups_context_v2"},{indexName:"fk_pending_tasks",tableName:"secure_recovery_code_data"},{indexName:"fk_pending_tasks",tableName:"secure_encrypted_backups_message_thread_id_context"},{tableName:"messages_optimistic_context"}],rooms:[{tableName:"room_participants"}],secure_encrypted_backups_client_state:[{indexName:"fk_secure_encrypted_backups_client_state",tableName:"secure_encrypted_backups_epochs"}],secure_encrypted_backups_devices:[{indexName:"fk_secure_encrypted_backups_device_supported_versions_device_id",tableName:"secure_encrypted_backups_device_supported_versions"}],threads:[{indexName:"threadKeyCtaId",tableName:"thread_nullstate_ctas"},{tableName:"messages"},{tableName:"attachments"},{tableName:"thread_nullstate"},{tableName:"messages_ranges_v2__generated"},{tableName:"attachments_ranges_v2__generated"},{tableName:"participants"},{indexName:"fk_threads",tableName:"mi_act_mapping_table"},{tableName:"group_invites"}]};b=a;f["default"]=b}),66);/*FB_PKG_DELIM*/
__d("PolarisAppStoreLauncher.react",["InstagramODS","PolarisUA","polarisGetInstallAppHref","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");var i="launch_app_store",j="instagram_carbon",k="utm_campaign",l="utm_medium";b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.componentDidMount=function(){var a=new URLSearchParams(location.search);if(a.get(i)){var b=new URL(location.href),e=a.get(j)==="true";b.searchParams["delete"](i);b.searchParams["delete"](j);history.replaceState({},document.title,b.toString());if(!d("PolarisUA").isDesktop())if(e){c("InstagramODS").incr("web.logging.preload_ods.iglite_open_app_store");c("InstagramODS").incr("web.logging.preload_ods.polaris_iglite_open_app_store");b=a.get(k);e=a.get(l);location.href=d("polarisGetInstallAppHref").getInstallIGLiteCarbonAppHref(b!=null&&b!==""?b:"instagramlitecarbon",e!=null?e:"")}else location.href=d("polarisGetInstallAppHref").getInstallAppHref()}};e.render=function(){return null};return b}(a.PureComponent);g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("MWEncryptedBackupsFirstRestoreUpsellTime",["EBAPIWorkerCheck","FBLogger","WebStorage","getMWEncryptedBackupsIsLocalStorageSupported","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i="mw_encrypted_backups_restore_upsell_first_impression_time_key";function a(){var a=Date.now().toString();if(c("gkx")("3551")===!0&&d("EBAPIWorkerCheck").runningInWorker())return k(a);if(!d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported())return a;try{var b;b=(b=(h||(h=c("WebStorage"))).getLocalStorage())==null?void 0:b.getItem(i);if(b==null){var e;(e=(h||(h=c("WebStorage"))).getLocalStorage())==null?void 0:e.setItem(i,a);return a}return b}catch(b){c("FBLogger")("labyrinth_web").warn("[labyrinth][web] Failed to set EB session identifier due to %s",b);return a}}var j=null;function k(a){j==null&&(j=a);return j}g.getFirstRestoreUpsellTime=a;g.getFirstRestoreUpsellTimeForEBLS=k}),98);/*FB_PKG_DELIM*/
__d("MAWMessagesDirection",["I64","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return c("err")("Unhandled direction: "+a)}function a(a,b){return k(a,{asc:b.maxTimestampMs,desc:b.minTimestampMs})}function b(a,b){return k(a,{asc:b.maxMessageId,desc:b.minMessageId})}function e(a,b){return b==="desc"&&(h||(h=d("I64"))).equal(a.maxTimestampMs,(h||(h=d("I64"))).max_int)&&a.minMessageId===a.maxMessageId&&a.hasMoreBefore&&!a.hasMoreAfter}function f(a){return k(a,{asc:"after",desc:"before"})}function j(a){return l(a,{after:"asc",before:"desc"})}function k(a,b){var c=b.asc;b=b.desc;switch(a){case"asc":return c;case"desc":return b;default:a;throw i(a)}}function l(a,b){var c=b.after;b=b.before;switch(a){case"after":return c;case"before":return b;default:a;throw i(a)}}g.unhandledDirectionError=i;g.getI64RangeTimestampForDirection=a;g.getRangeMsgIdForDirection=b;g.isFirstPageRange=e;g.translateDirectionForEB=f;g.translateMawDirectionToMwpDirection=j;g.switchOnMWPMessagesDirection=k;g.switchOnMAWMessagesDirection=l}),98);/*FB_PKG_DELIM*/
__d("sortBy",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.map(function(a,c){return{index:c,sortValue:b(a),value:a}});a.sort(function(a,b){var c=a.sortValue,d=b.sortValue;if(c>d)return 1;return c<d?-1:a.index-b.index});return a.map(function(a){return a.value})}f["default"]=a}),66);